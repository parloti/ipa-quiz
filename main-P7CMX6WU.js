import{$ as be,$a as G4,$b as ut,A as I4,Aa as Za,Ab as Eg,Ac as ck,B as Ei,Ba as V4,Bb as Rs,Bc as dk,C as vo,Ca as _e,Cb as nl,Cc as Mo,D as $t,Da as F4,Db as X4,Dc as il,E as gg,Ea as yg,Eb as Ig,Ec as hk,F as Ss,Fa as Rn,Fb as J4,Fc as uk,G as wo,Ga as ge,Gb as lr,Gc as pk,H as ni,Ha as kg,Hb as tk,Hc as gk,I as Ze,Ia as fn,Ib as Gt,Ic as fk,J as S4,Ja as mn,Jb as Et,Jc as Lt,K as A4,Ka as bg,Kb as ek,Kc as Di,L as id,La as wt,Lb as It,Lc as hr,M as zu,Ma as od,Mb as Ir,Mc as zt,N as Ka,Na as L4,Nb as Sg,Nc as cd,O as _o,Oa as Ds,Ob as dn,Oc as mk,P as fg,Pa as j4,Pb as hn,Pc as Sr,Q as mg,Qa as bo,Qb as dt,Qc as Oe,R as T4,Ra as Xa,Rb as V,Rc as vk,S as vg,Sa as sd,Sb as j,Sc as wk,T as D4,Ta as Hu,Tb as Mt,Tc as At,U as wg,Ua as Ja,Ub as Un,Uc as oi,V as R4,Va as tl,Vb as cr,Vc as _k,W as _g,Wa as z4,Wb as ii,Wc as Gu,X as Ya,Xa as H4,Xb as Yt,Xc as yk,Y as Mr,Ya as U4,Yb as rl,Z as Pe,Za as $4,Zb as Ag,_ as ie,_a as q4,_b as ld,a as I,aa as Ii,ab as W4,ac as nk,b as it,ba as ft,bb as zn,bc as K,c as rd,ca as As,cb as Uu,cc as xe,d as LI,da as yo,db as Q4,dc as Zt,e as jI,ea as z,eb as F,ec as Ai,f as Re,fa as vt,fb as el,fc as bn,g as ee,ga as P4,gb as K4,gc as Ot,h as Ue,ha as L,hb as $u,hc as Bt,i as x4,ia as Y,ib as xg,ic as rk,j as pe,ja as f,jb as $e,jc as ik,k as nt,ka as gn,kb as Er,kc as Tg,l as Ee,la as ri,lb as cn,lc as xo,m as M4,ma as O4,mb as le,mc as Ps,n as jn,na as B4,nb as Jt,nc as St,o as C4,oa as yn,ob as Mg,oc as Ti,p as ar,pa as kn,pb as Hn,pc as Z,q as kt,qa as pt,qb as qu,qc as Ie,r as Vu,ra as gt,rb as Y4,rc as xn,s as Qa,sa as Ts,sb as Cg,sc as ok,t as E4,ta as Rt,tb as rt,tc as dr,u as lt,ua as bt,ub as _t,uc as ce,v as Is,va as ko,vb as st,vc as Ft,w as ln,wa as N4,wb as ad,wc as sk,x as Fu,xa as qt,xb as fe,xc as ak,y as Lu,ya as ct,yb as Si,yc as he,z as ju,za as Cr,zb as Z4,zc as lk}from"./chunk-O6XULF33.js";var s5=LI((xY,w0)=>{"use strict";(function(n,e,t,r){"use strict";var i=["","webkit","Moz","MS","ms","o"],o=e.createElement("div"),s="function",a=Math.round,c=Math.abs,d=Date.now;function u(m,_,x){return setTimeout($(m,x),_)}function g(m,_,x){return Array.isArray(m)?(v(m,x[_],x),!0):!1}function v(m,_,x){var P;if(m)if(m.forEach)m.forEach(_,x);else if(m.length!==r)for(P=0;P<m.length;)_.call(x,m[P],P,m),P++;else for(P in m)m.hasOwnProperty(P)&&_.call(x,m[P],P,m)}function k(m,_,x){var P="DEPRECATED METHOD: "+_+`
`+x+` AT 
`;return function(){var q=new Error("get-stack-trace"),X=q&&q.stack?q.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Nt=n.console&&(n.console.warn||n.console.log);return Nt&&Nt.call(n.console,P,X),m.apply(this,arguments)}}var T;typeof Object.assign!="function"?T=function(_){if(_===r||_===null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(_),P=1;P<arguments.length;P++){var q=arguments[P];if(q!==r&&q!==null)for(var X in q)q.hasOwnProperty(X)&&(x[X]=q[X])}return x}:T=Object.assign;var N=k(function(_,x,P){for(var q=Object.keys(x),X=0;X<q.length;)(!P||P&&_[q[X]]===r)&&(_[q[X]]=x[q[X]]),X++;return _},"extend","Use `assign`."),A=k(function(_,x){return N(_,x,!0)},"merge","Use `assign`.");function H(m,_,x){var P=_.prototype,q;q=m.prototype=Object.create(P),q.constructor=m,q._super=P,x&&T(q,x)}function $(m,_){return function(){return m.apply(_,arguments)}}function G(m,_){return typeof m==s?m.apply(_&&_[0]||r,_):m}function ot(m,_){return m===r?_:m}function yt(m,_,x){v(b(_),function(P){m.addEventListener(P,x,!1)})}function mt(m,_,x){v(b(_),function(P){m.removeEventListener(P,x,!1)})}function C(m,_){for(;m;){if(m==_)return!0;m=m.parentNode}return!1}function y(m,_){return m.indexOf(_)>-1}function b(m){return m.trim().split(/\s+/g)}function S(m,_,x){if(m.indexOf&&!x)return m.indexOf(_);for(var P=0;P<m.length;){if(x&&m[P][x]==_||!x&&m[P]===_)return P;P++}return-1}function E(m){return Array.prototype.slice.call(m,0)}function R(m,_,x){for(var P=[],q=[],X=0;X<m.length;){var Nt=_?m[X][_]:m[X];S(q,Nt)<0&&P.push(m[X]),q[X]=Nt,X++}return x&&(_?P=P.sort(function(De,Ke){return De[_]>Ke[_]}):P=P.sort()),P}function M(m,_){for(var x,P,q=_[0].toUpperCase()+_.slice(1),X=0;X<i.length;){if(x=i[X],P=x?x+q:_,P in m)return P;X++}return r}var pn=1;function Yr(){return pn++}function _u(m){var _=m.ownerDocument||m;return _.defaultView||_.parentWindow||n}var tg=/mobile|tablet|ip(ad|hone|od)|android/i,vs="ontouchstart"in n,Aa=M(n,"PointerEvent")!==r,eg=vs&&tg.test(navigator.userAgent),Xi="touch",yu="pen",Ta="mouse",Da="kinect",jc=25,ze=1,br=2,ue=4,rn=8,ws=1,_s=2,Ji=4,to=8,ki=16,Nn=_s|Ji,bi=to|ki,Ra=Nn|bi,Pa=["x","y"],eo=["clientX","clientY"];function ne(m,_){var x=this;this.manager=m,this.callback=_,this.element=m.element,this.target=m.options.inputTarget,this.domHandler=function(P){G(m.options.enable,[m])&&x.handler(P)},this.init()}ne.prototype={handler:function(){},init:function(){this.evEl&&yt(this.element,this.evEl,this.domHandler),this.evTarget&&yt(this.target,this.evTarget,this.domHandler),this.evWin&&yt(_u(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&mt(this.element,this.evEl,this.domHandler),this.evTarget&&mt(this.target,this.evTarget,this.domHandler),this.evWin&&mt(_u(this.element),this.evWin,this.domHandler)}};function on(m){var _,x=m.options.inputClass;return x?_=x:Aa?_=Fa:eg?_=La:vs?_=za:_=ir,new _(m,Oa)}function Oa(m,_,x){var P=x.pointers.length,q=x.changedPointers.length,X=_&ze&&P-q===0,Nt=_&(ue|rn)&&P-q===0;x.isFirst=!!X,x.isFinal=!!Nt,X&&(m.session={}),x.eventType=_,ng(m,x),m.emit("hammer.input",x),m.recognize(x),m.session.prevInput=x}function ng(m,_){var x=m.session,P=_.pointers,q=P.length;x.firstInput||(x.firstInput=no(_)),q>1&&!x.firstMultiple?x.firstMultiple=no(_):q===1&&(x.firstMultiple=!1);var X=x.firstInput,Nt=x.firstMultiple,Ce=Nt?Nt.center:X.center,De=_.center=zc(P);_.timeStamp=d(),_.deltaTime=_.timeStamp-X.timeStamp,_.angle=Uc(Ce,De),_.distance=Na(Ce,De),ku(x,_),_.offsetDirection=Ba(_.deltaX,_.deltaY);var Ke=Hc(_.deltaTime,_.deltaX,_.deltaY);_.overallVelocityX=Ke.x,_.overallVelocityY=Ke.y,_.overallVelocity=c(Ke.x)>c(Ke.y)?Ke.x:Ke.y,_.scale=Nt?xu(Nt.pointers,P):1,_.rotation=Nt?bu(Nt.pointers,P):0,_.maxPointers=x.prevInput?_.pointers.length>x.prevInput.maxPointers?_.pointers.length:x.prevInput.maxPointers:_.pointers.length,rg(x,_);var an=m.element;C(_.srcEvent.target,an)&&(an=_.srcEvent.target),_.target=an}function ku(m,_){var x=_.center,P=m.offsetDelta||{},q=m.prevDelta||{},X=m.prevInput||{};(_.eventType===ze||X.eventType===ue)&&(q=m.prevDelta={x:X.deltaX||0,y:X.deltaY||0},P=m.offsetDelta={x:x.x,y:x.y}),_.deltaX=q.x+(x.x-P.x),_.deltaY=q.y+(x.y-P.y)}function rg(m,_){var x=m.lastInterval||_,P=_.timeStamp-x.timeStamp,q,X,Nt,Ce;if(_.eventType!=rn&&(P>jc||x.velocity===r)){var De=_.deltaX-x.deltaX,Ke=_.deltaY-x.deltaY,an=Hc(P,De,Ke);X=an.x,Nt=an.y,q=c(an.x)>c(an.y)?an.x:an.y,Ce=Ba(De,Ke),m.lastInterval=_}else q=x.velocity,X=x.velocityX,Nt=x.velocityY,Ce=x.direction;_.velocity=q,_.velocityX=X,_.velocityY=Nt,_.direction=Ce}function no(m){for(var _=[],x=0;x<m.pointers.length;)_[x]={clientX:a(m.pointers[x].clientX),clientY:a(m.pointers[x].clientY)},x++;return{timeStamp:d(),pointers:_,center:zc(_),deltaX:m.deltaX,deltaY:m.deltaY}}function zc(m){var _=m.length;if(_===1)return{x:a(m[0].clientX),y:a(m[0].clientY)};for(var x=0,P=0,q=0;q<_;)x+=m[q].clientX,P+=m[q].clientY,q++;return{x:a(x/_),y:a(P/_)}}function Hc(m,_,x){return{x:_/m||0,y:x/m||0}}function Ba(m,_){return m===_?ws:c(m)>=c(_)?m<0?_s:Ji:_<0?to:ki}function Na(m,_,x){x||(x=Pa);var P=_[x[0]]-m[x[0]],q=_[x[1]]-m[x[1]];return Math.sqrt(P*P+q*q)}function Uc(m,_,x){x||(x=Pa);var P=_[x[0]]-m[x[0]],q=_[x[1]]-m[x[1]];return Math.atan2(q,P)*180/Math.PI}function bu(m,_){return Uc(_[1],_[0],eo)+Uc(m[1],m[0],eo)}function xu(m,_){return Na(_[0],_[1],eo)/Na(m[0],m[1],eo)}var ys={mousedown:ze,mousemove:br,mouseup:ue},$c="mousedown",qc="mousemove mouseup";function ir(){this.evEl=$c,this.evWin=qc,this.pressed=!1,ne.apply(this,arguments)}H(ir,ne,{handler:function(_){var x=ys[_.type];x&ze&&_.button===0&&(this.pressed=!0),x&br&&_.which!==1&&(x=ue),this.pressed&&(x&ue&&(this.pressed=!1),this.callback(this.manager,x,{pointers:[_],changedPointers:[_],pointerType:Ta,srcEvent:_}))}});var Mu={pointerdown:ze,pointermove:br,pointerup:ue,pointercancel:rn,pointerout:rn},Va={2:Xi,3:yu,4:Ta,5:Da},Gc="pointerdown",ro="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(Gc="MSPointerDown",ro="MSPointerMove MSPointerUp MSPointerCancel");function Fa(){this.evEl=Gc,this.evWin=ro,ne.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}H(Fa,ne,{handler:function(_){var x=this.store,P=!1,q=_.type.toLowerCase().replace("ms",""),X=Mu[q],Nt=Va[_.pointerType]||_.pointerType,Ce=Nt==Xi,De=S(x,_.pointerId,"pointerId");X&ze&&(_.button===0||Ce)?De<0&&(x.push(_),De=x.length-1):X&(ue|rn)&&(P=!0),!(De<0)&&(x[De]=_,this.callback(this.manager,X,{pointers:x,changedPointers:[_],pointerType:Nt,srcEvent:_}),P&&x.splice(De,1))}});var sn={touchstart:ze,touchmove:br,touchend:ue,touchcancel:rn},Cu="touchstart",ks="touchstart touchmove touchend touchcancel";function io(){this.evTarget=Cu,this.evWin=ks,this.started=!1,ne.apply(this,arguments)}H(io,ne,{handler:function(_){var x=sn[_.type];if(x===ze&&(this.started=!0),!!this.started){var P=ig.call(this,_,x);x&(ue|rn)&&P[0].length-P[1].length===0&&(this.started=!1),this.callback(this.manager,x,{pointers:P[0],changedPointers:P[1],pointerType:Xi,srcEvent:_})}}});function ig(m,_){var x=E(m.touches),P=E(m.changedTouches);return _&(ue|rn)&&(x=R(x.concat(P),"identifier",!0)),[x,P]}var og={touchstart:ze,touchmove:br,touchend:ue,touchcancel:rn},oo="touchstart touchmove touchend touchcancel";function La(){this.evTarget=oo,this.targetIds={},ne.apply(this,arguments)}H(La,ne,{handler:function(_){var x=og[_.type],P=sg.call(this,_,x);P&&this.callback(this.manager,x,{pointers:P[0],changedPointers:P[1],pointerType:Xi,srcEvent:_})}});function sg(m,_){var x=E(m.touches),P=this.targetIds;if(_&(ze|br)&&x.length===1)return P[x[0].identifier]=!0,[x,x];var q,X,Nt=E(m.changedTouches),Ce=[],De=this.target;if(X=x.filter(function(Ke){return C(Ke.target,De)}),_===ze)for(q=0;q<X.length;)P[X[q].identifier]=!0,q++;for(q=0;q<Nt.length;)P[Nt[q].identifier]&&Ce.push(Nt[q]),_&(ue|rn)&&delete P[Nt[q].identifier],q++;if(Ce.length)return[R(X.concat(Ce),"identifier",!0),Ce]}var ja=2500,Wc=25;function za(){ne.apply(this,arguments);var m=$(this.handler,this);this.touch=new La(this.manager,m),this.mouse=new ir(this.manager,m),this.primaryTouch=null,this.lastTouches=[]}H(za,ne,{handler:function(_,x,P){var q=P.pointerType==Xi,X=P.pointerType==Ta;if(!(X&&P.sourceCapabilities&&P.sourceCapabilities.firesTouchEvents)){if(q)Qc.call(this,x,P);else if(X&&ag.call(this,P))return;this.callback(_,x,P)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Qc(m,_){m&ze?(this.primaryTouch=_.changedPointers[0].identifier,so.call(this,_)):m&(ue|rn)&&so.call(this,_)}function so(m){var _=m.changedPointers[0];if(_.identifier===this.primaryTouch){var x={x:_.clientX,y:_.clientY};this.lastTouches.push(x);var P=this.lastTouches,q=function(){var X=P.indexOf(x);X>-1&&P.splice(X,1)};setTimeout(q,ja)}}function ag(m){for(var _=m.srcEvent.clientX,x=m.srcEvent.clientY,P=0;P<this.lastTouches.length;P++){var q=this.lastTouches[P],X=Math.abs(_-q.x),Nt=Math.abs(x-q.y);if(X<=Wc&&Nt<=Wc)return!0}return!1}var xr=M(o.style,"touchAction"),Kc=xr!==r,Yc="compute",Ha="auto",bs="manipulation",Zr="none",xs="pan-x",ao="pan-y",Ua=Zc();function lo(m,_){this.manager=m,this.set(_)}lo.prototype={set:function(m){m==Yc&&(m=this.compute()),Kc&&this.manager.element.style&&Ua[m]&&(this.manager.element.style[xr]=m),this.actions=m.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var m=[];return v(this.manager.recognizers,function(_){G(_.options.enable,[_])&&(m=m.concat(_.getTouchAction()))}),Eu(m.join(" "))},preventDefaults:function(m){var _=m.srcEvent,x=m.offsetDirection;if(this.manager.session.prevented){_.preventDefault();return}var P=this.actions,q=y(P,Zr)&&!Ua[Zr],X=y(P,ao)&&!Ua[ao],Nt=y(P,xs)&&!Ua[xs];if(q){var Ce=m.pointers.length===1,De=m.distance<2,Ke=m.deltaTime<250;if(Ce&&De&&Ke)return}if(!(Nt&&X)&&(q||X&&x&Nn||Nt&&x&bi))return this.preventSrc(_)},preventSrc:function(m){this.manager.session.prevented=!0,m.preventDefault()}};function Eu(m){if(y(m,Zr))return Zr;var _=y(m,xs),x=y(m,ao);return _&&x?Zr:_||x?_?xs:ao:y(m,bs)?bs:Ha}function Zc(){if(!Kc)return!1;var m={},_=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(x){m[x]=_?n.CSS.supports("touch-action",x):!0}),m}var Xr=1,Te=2,Jr=4,ti=8,or=ti,co=16,Vn=32;function Fn(m){this.options=T({},this.defaults,m||{}),this.id=Yr(),this.manager=null,this.options.enable=ot(this.options.enable,!0),this.state=Xr,this.simultaneous={},this.requireFail=[]}Fn.prototype={defaults:{},set:function(m){return T(this.options,m),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(m){if(g(m,"recognizeWith",this))return this;var _=this.simultaneous;return m=Ms(m,this),_[m.id]||(_[m.id]=m,m.recognizeWith(this)),this},dropRecognizeWith:function(m){return g(m,"dropRecognizeWith",this)?this:(m=Ms(m,this),delete this.simultaneous[m.id],this)},requireFailure:function(m){if(g(m,"requireFailure",this))return this;var _=this.requireFail;return m=Ms(m,this),S(_,m)===-1&&(_.push(m),m.requireFailure(this)),this},dropRequireFailure:function(m){if(g(m,"dropRequireFailure",this))return this;m=Ms(m,this);var _=S(this.requireFail,m);return _>-1&&this.requireFail.splice(_,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(m){return!!this.simultaneous[m.id]},emit:function(m){var _=this,x=this.state;function P(q){_.manager.emit(q,m)}x<ti&&P(_.options.event+$a(x)),P(_.options.event),m.additionalEvent&&P(m.additionalEvent),x>=ti&&P(_.options.event+$a(x))},tryEmit:function(m){if(this.canEmit())return this.emit(m);this.state=Vn},canEmit:function(){for(var m=0;m<this.requireFail.length;){if(!(this.requireFail[m].state&(Vn|Xr)))return!1;m++}return!0},recognize:function(m){var _=T({},m);if(!G(this.options.enable,[this,_])){this.reset(),this.state=Vn;return}this.state&(or|co|Vn)&&(this.state=Xr),this.state=this.process(_),this.state&(Te|Jr|ti|co)&&this.tryEmit(_)},process:function(m){},getTouchAction:function(){},reset:function(){}};function $a(m){return m&co?"cancel":m&ti?"end":m&Jr?"move":m&Te?"start":""}function Xc(m){return m==ki?"down":m==to?"up":m==_s?"left":m==Ji?"right":""}function Ms(m,_){var x=_.manager;return x?x.get(m):m}function Tn(){Fn.apply(this,arguments)}H(Tn,Fn,{defaults:{pointers:1},attrTest:function(m){var _=this.options.pointers;return _===0||m.pointers.length===_},process:function(m){var _=this.state,x=m.eventType,P=_&(Te|Jr),q=this.attrTest(m);return P&&(x&rn||!q)?_|co:P||q?x&ue?_|ti:_&Te?_|Jr:Te:Vn}});function qa(){Tn.apply(this,arguments),this.pX=null,this.pY=null}H(qa,Tn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ra},getTouchAction:function(){var m=this.options.direction,_=[];return m&Nn&&_.push(ao),m&bi&&_.push(xs),_},directionTest:function(m){var _=this.options,x=!0,P=m.distance,q=m.direction,X=m.deltaX,Nt=m.deltaY;return q&_.direction||(_.direction&Nn?(q=X===0?ws:X<0?_s:Ji,x=X!=this.pX,P=Math.abs(m.deltaX)):(q=Nt===0?ws:Nt<0?to:ki,x=Nt!=this.pY,P=Math.abs(m.deltaY))),m.direction=q,x&&P>_.threshold&&q&_.direction},attrTest:function(m){return Tn.prototype.attrTest.call(this,m)&&(this.state&Te||!(this.state&Te)&&this.directionTest(m))},emit:function(m){this.pX=m.deltaX,this.pY=m.deltaY;var _=Xc(m.direction);_&&(m.additionalEvent=this.options.event+_),this._super.emit.call(this,m)}});function sr(){Tn.apply(this,arguments)}H(sr,Tn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zr]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.scale-1)>this.options.threshold||this.state&Te)},emit:function(m){if(m.scale!==1){var _=m.scale<1?"in":"out";m.additionalEvent=this.options.event+_}this._super.emit.call(this,m)}});function Dn(){Fn.apply(this,arguments),this._timer=null,this._input=null}H(Dn,Fn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ha]},process:function(m){var _=this.options,x=m.pointers.length===_.pointers,P=m.distance<_.threshold,q=m.deltaTime>_.time;if(this._input=m,!P||!x||m.eventType&(ue|rn)&&!q)this.reset();else if(m.eventType&ze)this.reset(),this._timer=u(function(){this.state=or,this.tryEmit()},_.time,this);else if(m.eventType&ue)return or;return Vn},reset:function(){clearTimeout(this._timer)},emit:function(m){this.state===or&&(m&&m.eventType&ue?this.manager.emit(this.options.event+"up",m):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}});function xi(){Tn.apply(this,arguments)}H(xi,Tn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zr]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.rotation)>this.options.threshold||this.state&Te)}});function Mi(){Tn.apply(this,arguments)}H(Mi,Tn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Nn|bi,pointers:1},getTouchAction:function(){return qa.prototype.getTouchAction.call(this)},attrTest:function(m){var _=this.options.direction,x;return _&(Nn|bi)?x=m.overallVelocity:_&Nn?x=m.overallVelocityX:_&bi&&(x=m.overallVelocityY),this._super.attrTest.call(this,m)&&_&m.offsetDirection&&m.distance>this.options.threshold&&m.maxPointers==this.options.pointers&&c(x)>this.options.velocity&&m.eventType&ue},emit:function(m){var _=Xc(m.offsetDirection);_&&this.manager.emit(this.options.event+_,m),this.manager.emit(this.options.event,m)}});function ho(){Fn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}H(ho,Fn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[bs]},process:function(m){var _=this.options,x=m.pointers.length===_.pointers,P=m.distance<_.threshold,q=m.deltaTime<_.time;if(this.reset(),m.eventType&ze&&this.count===0)return this.failTimeout();if(P&&q&&x){if(m.eventType!=ue)return this.failTimeout();var X=this.pTime?m.timeStamp-this.pTime<_.interval:!0,Nt=!this.pCenter||Na(this.pCenter,m.center)<_.posThreshold;this.pTime=m.timeStamp,this.pCenter=m.center,!Nt||!X?this.count=1:this.count+=1,this._input=m;var Ce=this.count%_.taps;if(Ce===0)return this.hasRequireFailures()?(this._timer=u(function(){this.state=or,this.tryEmit()},_.interval,this),Te):or}return Vn},failTimeout:function(){return this._timer=u(function(){this.state=Vn},this.options.interval,this),Vn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==or&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Wt(m,_){return _=_||{},_.recognizers=ot(_.recognizers,Wt.defaults.preset),new Ci(m,_)}Wt.VERSION="2.0.7",Wt.defaults={domEvents:!1,touchAction:Yc,enable:!0,inputTarget:null,inputClass:null,preset:[[xi,{enable:!1}],[sr,{enable:!1},["rotate"]],[Mi,{direction:Nn}],[qa,{direction:Nn},["swipe"]],[ho],[ho,{event:"doubletap",taps:2},["tap"]],[Dn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ga=1,uo=2;function Ci(m,_){this.options=T({},Wt.defaults,_||{}),this.options.inputTarget=this.options.inputTarget||m,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=m,this.input=on(this),this.touchAction=new lo(this,this.options.touchAction),Iu(this,!0),v(this.options.recognizers,function(x){var P=this.add(new x[0](x[1]));x[2]&&P.recognizeWith(x[2]),x[3]&&P.requireFailure(x[3])},this)}Ci.prototype={set:function(m){return T(this.options,m),m.touchAction&&this.touchAction.update(),m.inputTarget&&(this.input.destroy(),this.input.target=m.inputTarget,this.input.init()),this},stop:function(m){this.session.stopped=m?uo:Ga},recognize:function(m){var _=this.session;if(!_.stopped){this.touchAction.preventDefaults(m);var x,P=this.recognizers,q=_.curRecognizer;(!q||q&&q.state&or)&&(q=_.curRecognizer=null);for(var X=0;X<P.length;)x=P[X],_.stopped!==uo&&(!q||x==q||x.canRecognizeWith(q))?x.recognize(m):x.reset(),!q&&x.state&(Te|Jr|ti)&&(q=_.curRecognizer=x),X++}},get:function(m){if(m instanceof Fn)return m;for(var _=this.recognizers,x=0;x<_.length;x++)if(_[x].options.event==m)return _[x];return null},add:function(m){if(g(m,"add",this))return this;var _=this.get(m.options.event);return _&&this.remove(_),this.recognizers.push(m),m.manager=this,this.touchAction.update(),m},remove:function(m){if(g(m,"remove",this))return this;if(m=this.get(m),m){var _=this.recognizers,x=S(_,m);x!==-1&&(_.splice(x,1),this.touchAction.update())}return this},on:function(m,_){if(m!==r&&_!==r){var x=this.handlers;return v(b(m),function(P){x[P]=x[P]||[],x[P].push(_)}),this}},off:function(m,_){if(m!==r){var x=this.handlers;return v(b(m),function(P){_?x[P]&&x[P].splice(S(x[P],_),1):delete x[P]}),this}},emit:function(m,_){this.options.domEvents&&Su(m,_);var x=this.handlers[m]&&this.handlers[m].slice();if(!(!x||!x.length)){_.type=m,_.preventDefault=function(){_.srcEvent.preventDefault()};for(var P=0;P<x.length;)x[P](_),P++}},destroy:function(){this.element&&Iu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Iu(m,_){var x=m.element;if(x.style){var P;v(m.options.cssProps,function(q,X){P=M(x.style,X),_?(m.oldCssProps[P]=x.style[P],x.style[P]=q):x.style[P]=m.oldCssProps[P]||""}),_||(m.oldCssProps={})}}function Su(m,_){var x=e.createEvent("Event");x.initEvent(m,!0,!0),x.gesture=_,_.target.dispatchEvent(x)}T(Wt,{INPUT_START:ze,INPUT_MOVE:br,INPUT_END:ue,INPUT_CANCEL:rn,STATE_POSSIBLE:Xr,STATE_BEGAN:Te,STATE_CHANGED:Jr,STATE_ENDED:ti,STATE_RECOGNIZED:or,STATE_CANCELLED:co,STATE_FAILED:Vn,DIRECTION_NONE:ws,DIRECTION_LEFT:_s,DIRECTION_RIGHT:Ji,DIRECTION_UP:to,DIRECTION_DOWN:ki,DIRECTION_HORIZONTAL:Nn,DIRECTION_VERTICAL:bi,DIRECTION_ALL:Ra,Manager:Ci,Input:ne,TouchAction:lo,TouchInput:La,MouseInput:ir,PointerEventInput:Fa,TouchMouseInput:za,SingleTouchInput:io,Recognizer:Fn,AttrRecognizer:Tn,Tap:ho,Pan:qa,Swipe:Mi,Pinch:sr,Rotate:xi,Press:Dn,on:yt,off:mt,each:v,merge:A,extend:N,assign:T,inherit:H,bindFn:$,prefixed:M});var lg=typeof n<"u"?n:typeof self<"u"?self:{};lg.Hammer=Wt,typeof define=="function"&&define.amd?define(function(){return Wt}):typeof w0<"u"&&w0.exports?w0.exports=Wt:n[t]=Wt})(window,document,"Hammer")});var kk=null;function ur(){return kk}function Dg(n){kk??=n}var dd=class{},Wu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(bk),providedIn:"platform"})}return n})();var bk=(()=>{class n extends Wu{_location;_history;_doc=f(bt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ck(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function xk(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Co(n){return n&&n[0]!=="?"?`?${n}`:n}var ol=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(HI),providedIn:"root"})}return n})(),zI=new L(""),HI=(()=>{class n extends ol{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??f(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ck(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Co(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Co(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Co(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Wu),Y(zI,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),si=(()=>{class n{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=qI(xk(Mk(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Co(r))}normalize(t){return n.stripTrailingSlash($I(this._basePath,Mk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Co(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Co(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Co;static joinWithSlash=Ck;static stripTrailingSlash=xk;static \u0275fac=function(r){return new(r||n)(Y(ol))};static \u0275prov=z({token:n,factory:()=>UI(),providedIn:"root"})}return n})();function UI(){return new si(Y(ol))}function $I(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Mk(n){return n.replace(/\/index.html$/,"")}function qI(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Vg=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Vg||{});var Ar={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Os(n,e){let t=Ag(n),r=t[ld.NumberSymbols][e];if(typeof r>"u"){if(e===Ar.CurrencyDecimal)return t[ld.NumberSymbols][Ar.Decimal];if(e===Ar.CurrencyGroup)return t[ld.NumberSymbols][Ar.Group]}return r}function Ak(n,e){return Ag(n)[ld.NumberFormats][e]}var WI=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ek=22,Qu=".",hd="0",QI=";",KI=",",Rg="#";var YI="%";function ZI(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Os(t,Ar.Infinity);else{let d=tS(n);s&&(d=JI(d));let u=e.minInt,g=e.minFrac,v=e.maxFrac;if(o){let $=o.match(WI);if($===null)throw new ft(2306,!1);let G=$[1],ot=$[3],yt=$[5];G!=null&&(u=Pg(G)),ot!=null&&(g=Pg(ot)),yt!=null?v=Pg(yt):ot!=null&&g>v&&(v=g)}eS(d,g,v);let k=d.digits,T=d.integerLen,N=d.exponent,A=[];for(c=k.every($=>!$);T<u;T++)k.unshift(0);for(;T<0;T++)k.unshift(0);T>0?A=k.splice(T,k.length):(A=k,k=[0]);let H=[];for(k.length>=e.lgSize&&H.unshift(k.splice(-e.lgSize,k.length).join(""));k.length>e.gSize;)H.unshift(k.splice(-e.gSize,k.length).join(""));k.length&&H.unshift(k.join("")),a=H.join(Os(t,r)),A.length&&(a+=Os(t,i)+A.join("")),N&&(a+=Os(t,Ar.Exponential)+"+"+N)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Tk(n,e,t){let r=Ak(e,Vg.Percent),i=XI(r,Os(e,Ar.MinusSign));return ZI(n,i,e,Ar.Group,Ar.Decimal,t,!0).replace(new RegExp(YI,"g"),Os(e,Ar.PercentSign))}function XI(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(QI),i=r[0],o=r[1],s=i.indexOf(Qu)!==-1?i.split(Qu):[i.substring(0,i.lastIndexOf(hd)+1),i.substring(i.lastIndexOf(hd)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Rg));for(let u=0;u<c.length;u++){let g=c.charAt(u);g===hd?t.minFrac=t.maxFrac=u+1:g===Rg?t.maxFrac=u+1:t.posSuf+=g}let d=a.split(KI);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,g=o.indexOf(Rg);t.negPre=o.substring(0,g).replace(/'/g,""),t.negSuf=o.slice(g+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function JI(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function tS(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Qu))>-1&&(e=e.replace(Qu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===hd;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===hd;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>Ek&&(r=r.splice(0,Ek-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function eS(n,e,t){if(e>t)throw new ft(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let g=s;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let g=1;g<s;g++)r[g]=0}if(a>=5)if(s-1<0){for(let g=0;g>s;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,d=e+n.integerLen,u=r.reduceRight(function(g,v,k,T){return v=v+g,T[k]=v<10?v:v-10,c&&(T[k]===0&&k>=d?T.pop():c=!1),v>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function Pg(n){let e=parseInt(n);if(isNaN(e))throw new ft(2305,!1);return e}var Og=/\s+/,Ik=[],Bs=(()=>{class n{_ngEl;_renderer;initialClasses=Ik;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Og):Ik}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Og):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Og).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Jt(wt),Jt(le))};static \u0275dir=st({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Fg=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Jt(Hn))};static \u0275dir=st({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[fn]})}return n})();function Lg(n,e){return new ft(2100,!1)}var Bg=class{createSubscription(e,t,r){return ge(()=>e.subscribe({next:t,error:r}))}dispose(e){ge(()=>e.unsubscribe())}},Ng=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},nS=new Ng,rS=new Bg,jg=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=f(Za);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(nl(t))return nS;if(X4(t))return rS;throw Lg(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Jt(Oe,16))};static \u0275pipe=ad({name:"async",type:n,pure:!1})}return n})(),zg=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw Lg(n,t);return t.toLowerCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=ad({name:"lowercase",type:n,pure:!0})}return n})();function iS(n,e){return{key:n,value:e}}var Hg=(()=>{class n{differs;constructor(t){this.differs=t}differ;keyValues=[];compareFn=Sk;transform(t,r=Sk){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(iS(s.key,s.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||n)(Jt(vk,16))};static \u0275pipe=ad({name:"keyvalue",type:n,pure:!1})}return n})();function Sk(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t==null)return 1;if(r==null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),o=String(r);return i==o?0:i<o?-1:1}var Ug=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!oS(t))return null;i||=this._locale;try{let o=sS(t);return Tk(o,i,r)}catch(o){throw Lg(n,o.message)}}static \u0275fac=function(r){return new(r||n)(Jt(fk,16))};static \u0275pipe=ad({name:"percent",type:n,pure:!0})}return n})();function oS(n){return!(n==null||n===""||n!==n)}function sS(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new ft(2309,!1);return n}var Ku=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({})}return n})();function Yu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ns=class{};var $g="browser",lS="server";function Dk(n){return n===$g}function Rk(n){return n===lS}var ud=class{_doc;constructor(e){this._doc=e}manager},Zu=(()=>{class n extends ud{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(bt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),tp=new L(""),Qg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Zu));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Zu);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ft(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(tp),Y(ct))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),qg="ng-app-id";function Ok(n){for(let e of n)e.remove()}function Bk(n,e){let t=e.createElement("style");return t.textContent=n,t}function cS(n,e,t,r){let i=n.head?.querySelectorAll(`style[${qg}="${e}"],link[${qg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Wg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Kg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,cS(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Bk);r?.forEach(i=>this.addUsage(i,this.external,Wg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Ok(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ok(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Bk(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Wg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(bt),Y(Ds),Y(sd,8),Y(bo))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Gg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yg=/%COMP%/g;var Vk="%COMP%",dS=`_nghost-${Vk}`,hS=`_ngcontent-${Vk}`,uS=!0,pS=new L("",{factory:()=>uS});function gS(n){return hS.replace(Yg,n)}function fS(n){return dS.replace(Yg,n)}function Fk(n,e){return e.map(t=>t.replace(Yg,n))}var fd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=d,this.defaultRenderer=new pd(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ju?i.applyToHost(t):i instanceof gd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,g=this.tracingService;switch(r.encapsulation){case Hu.Emulated:o=new Ju(c,d,r,this.appId,u,s,a,g);break;case Hu.ShadowDom:return new Xu(c,t,r,s,a,this.nonce,g,d);case Hu.ExperimentalIsolatedShadowDom:return new Xu(c,t,r,s,a,this.nonce,g);default:o=new gd(c,d,r,u,s,a,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(Qg),Y(Kg),Y(Ds),Y(pS),Y(bt),Y(ct),Y(sd),Y($u,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),pd=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Gg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Nk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Nk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ft(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Gg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Gg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(el.DashCase|el.Important)?e.style.setProperty(t,r,i&el.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&el.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new ft(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Nk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Xu=class extends pd{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,c){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Fk(r.id,d);for(let g of d){let v=document.createElement("style");s&&v.setAttribute("nonce",s),v.textContent=g,this.shadowRoot.appendChild(v)}let u=r.getExternalStyles?.();if(u)for(let g of u){let v=Wg(g,i);s&&v.setAttribute("nonce",s),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},gd=class extends pd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?Fk(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&K4.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ju=class extends gd{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,d),this.contentAttr=gS(d),this.hostAttr=fS(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ep=class n extends dd{supportsDOMEvents=!0;static makeCurrent(){Dg(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=vS();return t==null?null:wS(t)}resetBaseElement(){md=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yu(document.cookie,e)}},md=null;function vS(){return md=md||document.head.querySelector("base"),md?md.getAttribute("href"):null}function wS(n){return new URL(n,document.baseURI).pathname}var _S=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Lk=["alt","control","meta","shift"],yS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},jk=(()=>{class n extends ud{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Lk.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=yS[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Lk.forEach(s=>{if(s!==i){let a=kS[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(bt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Zg(n,e,t){let r=I({rootComponent:n,platformRef:t?.platformRef},bS(e));return wk(r)}function bS(n){return{appProviders:[...IS,...n?.providers??[]],platformProviders:ES}}function xS(){ep.makeCurrent()}function MS(){return new Cr}function CS(){return L4(document),document}var ES=[{provide:bo,useValue:$g},{provide:j4,useValue:xS,multi:!0},{provide:bt,useFactory:CS}];var IS=[{provide:B4,useValue:"root"},{provide:Cr,useFactory:MS},{provide:tp,useClass:Zu,multi:!0},{provide:tp,useClass:jk,multi:!0},fd,Kg,Qg,{provide:cn,useExisting:fd},{provide:Ns,useClass:_S},[]];var Eo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Jg=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},tf=class{encodeKey(e){return zk(e)}encodeValue(e){return zk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function SS(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var AS=/%(\d[a-f0-9])/gi,TS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zk(n){return encodeURIComponent(n).replace(AS,(e,t)=>TS[t]??e)}function np(n){return`${n}`}var Ri=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new tf,e.fromString){if(e.fromObject)throw new ft(2805,!1);this.map=SS(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(np):[np(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(np(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(np(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function DS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Uk(n){return typeof Blob<"u"&&n instanceof Blob}function $k(n){return typeof FormData<"u"&&n instanceof FormData}function RS(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var qk="Content-Type",Gk="Accept",Wk="text/plain",Qk="application/json",PS=`${Qk}, ${Wk}, */*`,sl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(DS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new ft(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Eo,this.context??=new Jg,!this.params)this.params=new Ri,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hk(this.body)||Uk(this.body)||$k(this.body)||RS(this.body)?this.body:this.body instanceof Ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$k(this.body)?null:Uk(this.body)?this.body.type||null:Hk(this.body)?null:typeof this.body=="string"?Wk:this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Qk:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,u=e.credentials||this.credentials,g=e.referrer||this.referrer,v=e.integrity||this.integrity,k=e.referrerPolicy||this.referrerPolicy,T=e.transferCache??this.transferCache,N=e.timeout??this.timeout,A=e.body!==void 0?e.body:this.body,H=e.withCredentials??this.withCredentials,$=e.reportProgress??this.reportProgress,G=e.headers||this.headers,ot=e.params||this.params,yt=e.context??this.context;return e.setHeaders!==void 0&&(G=Object.keys(e.setHeaders).reduce((mt,C)=>mt.set(C,e.setHeaders[C]),G)),e.setParams&&(ot=Object.keys(e.setParams).reduce((mt,C)=>mt.set(C,e.setParams[C]),ot)),new n(t,r,A,{params:ot,headers:G,context:yt,reportProgress:$,responseType:i,withCredentials:H,transferCache:T,keepalive:o,cache:a,priority:s,timeout:N,mode:c,redirect:d,credentials:u,referrer:g,integrity:v,referrerPolicy:k})}},Vs=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Vs||{}),vd=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,r="OK"){this.headers=e.headers||new Eo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},ef=class n extends vd{constructor(e={}){super(e)}type=Vs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wd=class n extends vd{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Vs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},al=class extends vd{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},OS=200,BS=204;var NS=/^\)\]\}',?\n/;var VS=(()=>{class n{xhrFactory;tracingService=f($u,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new ft(-2800,!1);let r=this.xhrFactory;return kt(null).pipe(Pe(()=>new pe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,H)=>s.setRequestHeader(A,H.join(","))),t.headers.has(Gk)||s.setRequestHeader(Gk,PS),!t.headers.has(qk)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(qk,A)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=s.statusText||"OK",H=new Eo(s.getAllResponseHeaders()),$=s.responseURL||t.url;return c=new ef({headers:H,status:s.status,statusText:A,url:$}),c},u=this.maybePropagateTrace(()=>{let{headers:A,status:H,statusText:$,url:G}=d(),ot=null;H!==BS&&(ot=typeof s.response>"u"?s.responseText:s.response),H===0&&(H=ot?OS:0);let yt=H>=200&&H<300;if(t.responseType==="json"&&typeof ot=="string"){let mt=ot;ot=ot.replace(NS,"");try{ot=ot!==""?JSON.parse(ot):null}catch(C){ot=mt,yt&&(yt=!1,ot={error:C,text:ot})}}yt?(o.next(new wd({body:ot,headers:A,status:H,statusText:$,url:G||void 0})),o.complete()):o.error(new al({error:ot,headers:A,status:H,statusText:$,url:G||void 0}))}),g=this.maybePropagateTrace(A=>{let{url:H}=d(),$=new al({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:H||void 0});o.error($)}),v=g;t.timeout&&(v=this.maybePropagateTrace(A=>{let{url:H}=d(),$=new al({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:H||void 0});o.error($)}));let k=!1,T=this.maybePropagateTrace(A=>{k||(o.next(d()),k=!0);let H={type:Vs.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(H.total=A.total),t.responseType==="text"&&s.responseText&&(H.partialText=s.responseText),o.next(H)}),N=this.maybePropagateTrace(A=>{let H={type:Vs.UploadProgress,loaded:A.loaded};A.lengthComputable&&(H.total=A.total),o.next(H)});return s.addEventListener("load",u),s.addEventListener("error",g),s.addEventListener("timeout",v),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",T),a!==null&&s.upload&&s.upload.addEventListener("progress",N)),s.send(a),o.next({type:Vs.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",u),s.removeEventListener("timeout",v),t.reportProgress&&(s.removeEventListener("progress",T),a!==null&&s.upload&&s.upload.removeEventListener("progress",N)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(Ns))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FS(n,e){return e(n)}function LS(n,e,t){return(r,i)=>kn(t,()=>e(r,o=>n(o,i)))}var jS=new L("",{factory:()=>[]}),Kk=new L(""),zS=new L("",{factory:()=>!0});var HS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(VS),i},providedIn:"root"})}return n})();var US=(()=>{class n{backend;injector;chain=null;pendingTasks=f(yg);contributeToStability=f(zS);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(jS),...this.injector.get(Kk,[])]));this.chain=r.reduceRight((i,o)=>LS(i,o,this.injector),FS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ka(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(HS),Y(yn))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$S=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(US),i},providedIn:"root"})}return n})();function Xg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var nf=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof sl)o=t;else{let c;i.headers instanceof Eo?c=i.headers:c=new Eo(i.headers);let d;i.params&&(i.params instanceof Ri?d=i.params:d=new Ri({fromObject:i.params})),o=new sl(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=kt(o).pipe(wo(c=>this.handler.handle(c)));if(t instanceof sl||i.observe==="events")return s;let a=s.pipe($t(c=>c instanceof wd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(lt(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new ft(2806,!1);return c.body}));case"blob":return a.pipe(lt(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new ft(2807,!1);return c.body}));case"text":return a.pipe(lt(c=>{if(c.body!==null&&typeof c.body!="string")throw new ft(2808,!1);return c.body}));case"json":default:return a.pipe(lt(c=>c.body))}case"response":return a;default:throw new ft(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ri().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Xg(i,r))}post(t,r,i={}){return this.request("POST",t,Xg(i,r))}put(t,r,i={}){return this.request("PUT",t,Xg(i,r))}static \u0275fac=function(r){return new(r||n)(Y($S))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yk=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(bt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(KS),i},providedIn:"root"})}return n})(),KS=(()=>{class n extends rf{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case zn.NONE:return r;case zn.HTML:return tl(r,"HTML")?Ja(r):W4(this._doc,String(r)).toString();case zn.STYLE:return tl(r,"Style")?Ja(r):r;case zn.SCRIPT:if(tl(r,"Script"))return Ja(r);throw new ft(5200,!1);case zn.URL:return tl(r,"URL")?Ja(r):G4(String(r));case zn.RESOURCE_URL:if(tl(r,"ResourceURL"))return Ja(r);throw new ft(5201,!1);default:throw new ft(5202,!1)}}bypassSecurityTrustHtml(t){return z4(t)}bypassSecurityTrustStyle(t){return H4(t)}bypassSecurityTrustScript(t){return U4(t)}bypassSecurityTrustUrl(t){return $4(t)}bypassSecurityTrustResourceUrl(t){return q4(t)}static \u0275fac=function(r){return new(r||n)(Y(bt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _d(n){return n.buttons===0||n.detail===0}function yd(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var of;function Xk(){if(of==null){let n=typeof document<"u"?document.head:null;of=!!(n&&(n.createShadowRoot||n.attachShadow))}return of}function sf(n){if(Xk()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Pn(n){return n.composedPath?n.composedPath()[0]:n.target}var af;try{af=typeof Intl<"u"&&Intl.v8BreakIterator}catch{af=!1}var Qt=(()=>{class n{_platformId=f(bo);isBrowser=this._platformId?Dk(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||af)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kd;function Jk(){if(kd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kd=!0}))}finally{kd=kd||!1}return kd}function Io(n){return Jk()?n:!!n.capture}function So(n,e=0){return tb(n)?Number(n):arguments.length===2?e:0}function tb(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Mn(n){return n instanceof wt?n.nativeElement:n}var eb=new L("cdk-input-modality-detector-options"),nb={ignoreKeys:[18,17,224,91,16]},rb=650,lf={passive:!0,capture:!0},ib=(()=>{class n{_platform=f(Qt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ee(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Pn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<rb||(this._modality.next(_d(t)?"keyboard":"mouse"),this._mostRecentTarget=Pn(t))};_onTouchstart=t=>{if(yd(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Pn(t)};constructor(){let t=f(ct),r=f(bt),i=f(eb,{optional:!0});if(this._options=I(I({},nb),i),this.modalityDetected=this._modality.pipe(Ya(1)),this.modalityChanged=this.modalityDetected.pipe(id()),this._platform.isBrowser){let o=f(cn).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,lf),o.listen(r,"mousedown",this._onMousedown,lf),o.listen(r,"touchstart",this._onTouchstart,lf)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bd=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(bd||{}),ob=new L("cdk-focus-monitor-default-options"),rp=Io({passive:!0,capture:!0}),Pi=(()=>{class n{_ngZone=f(ct);_platform=f(Qt);_inputModalityDetector=f(ib);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(bt);_stopInputModalityDetector=new nt;constructor(){let t=f(ob,{optional:!0});this._detectionMode=t?.detectionMode||bd.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Pn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=Mn(t);if(!this._platform.isBrowser||i.nodeType!==1)return kt();let o=sf(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new nt,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=Mn(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=Mn(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===bd.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===bd.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?rb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Pn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,rp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,rp)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ie(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cf=(()=>{class n{_elementRef=f(wt);_focusMonitor=f(Pi);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new qt;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,t.nodeType===1&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var ip=new WeakMap,Xe=(()=>{class n{_appRef;_injector=f(Rt);_environmentInjector=f(yn);load(t){let r=this._appRef=this._appRef||this._injector.get(lr),i=ip.get(r);i||(i={loaders:new Set,refs:[]},ip.set(r,i),r.onDestroy(()=>{ip.get(r)?.refs.forEach(o=>o.destroy()),ip.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Gu(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function ll(n){return Array.isArray(n)?n:[n]}var sb=new Set,Fs,op=(()=>{class n{_platform=f(Qt);_nonce=f(sd,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&YS(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YS(n,e){if(!sb.has(n))try{Fs||(Fs=document.createElement("style"),e&&Fs.setAttribute("nonce",e),Fs.setAttribute("type","text/css"),document.head.appendChild(Fs)),Fs.sheet&&(Fs.sheet.insertRule(`@media ${n} {body{ }}`,0),sb.add(n))}catch(t){console.error(t)}}function ZS(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Md=(()=>{class n{_mediaMatcher=f(op);_zone=f(ct);_queries=new Map;_destroySubject=new nt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ab(ll(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=ab(ll(t)).map(s=>this._registerQuery(s).observable),o=Is(i);return o=Fu(o.pipe(Ze(1)),o.pipe(Ya(1),ni(0))),o.pipe(lt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new pe(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Mr(r),lt(({matches:s})=>({query:t,matches:s})),ie(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ab(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function XS(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let e=0;e<n.addedNodes.length;e++)if(!(n.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<n.removedNodes.length;e++)if(!(n.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var lb=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cb=(()=>{class n{_mutationObserverFactory=f(lb);_observedElements=new Map;_ngZone=f(ct);constructor(){}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){let r=Mn(t);return new pe(i=>{let s=this._observeElement(r).pipe(lt(a=>a.filter(c=>!XS(c))),$t(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{i.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{let r=new nt,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){let{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),db=(()=>{class n{_contentObserver=f(cb);_elementRef=f(wt);event=new qt;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(t){this._debounce=So(t),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(ni(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",At],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),sp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({providers:[lb]})}return n})();var hf=(()=>{class n{_platform=f(Qt);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return tA(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=JS(lA(t));if(r&&(hb(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=hb(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!sA(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return aA(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JS(n){try{return n.frameElement}catch{return null}}function tA(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function eA(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function nA(n){return iA(n)&&n.type=="hidden"}function rA(n){return oA(n)&&n.hasAttribute("href")}function iA(n){return n.nodeName.toLowerCase()=="input"}function oA(n){return n.nodeName.toLowerCase()=="a"}function gb(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function hb(n){if(!gb(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function sA(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function aA(n){return nA(n)?!1:eA(n)||rA(n)||n.hasAttribute("contenteditable")||gb(n)}function lA(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var fb=new L("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),mb=new L("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),cA=0,uf=(()=>{class n{_ngZone=f(ct);_defaultOptions=f(mb,{optional:!0});_liveElement;_document=f(bt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=f(fb,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${cA++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ao=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Ao||{}),ub="cdk-high-contrast-black-on-white",pb="cdk-high-contrast-white-on-black",df="cdk-high-contrast-active",vb=(()=>{class n{_platform=f(Qt);_hasCheckedHighContrastMode;_document=f(bt);_breakpointSubscription;constructor(){this._breakpointSubscription=f(Md).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ao.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ao.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ao.BLACK_ON_WHITE}return Ao.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(df,ub,pb),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ao.BLACK_ON_WHITE?t.add(df,ub):r===Ao.WHITE_ON_BLACK&&t.add(df,pb)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cd=(()=>{class n{constructor(){f(vb)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[sp]})}return n})();var pf={},Be=class n{_appId=f(Ds);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),pf.hasOwnProperty(e)||(pf[e]=0),`${e}${t?n._infix+"-":""}${pf[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var dA=200,ap=class{_letterKeyStream=new nt;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new nt;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:dA;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(be(t=>this._pressedLetters.push(t)),ni(e),$t(()=>this._pressedLetters.length>0),lt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function cl(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var lp=class{_items;_activeItemIndex=_e(-1);_activeItem=_e(null);_wrap=!1;_typeaheadSubscription=Ue.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof od?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):Rs(e)&&(this._effectRef=Rn(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new nt;change=new nt;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new ap(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||cl(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return Rs(this._items)?this._items():this._items instanceof od?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var Ed=class extends lp{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var _b=" ";function hA(n,e,t){let r=dp(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(_b)))}function uA(n,e,t){let r=dp(n,e);t=t.trim();let i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(_b)):n.removeAttribute(e)}function dp(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var yb="cdk-describedby-message",cp="cdk-describedby-host",ff=0,hp=(()=>{class n{_platform=f(Qt);_document=f(bt);_messageRegistry=new Map;_messagesContainer=null;_id=`${ff++}`;constructor(){f(Xe).load(xd),this._id=f(Ds)+"-"+ff++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let o=gf(r,i);typeof r!="string"?(wb(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let o=gf(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof r=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${cp}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(cp);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");wb(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(gf(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=dp(t,"aria-describedby").filter(i=>i.indexOf(yb)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);hA(t,"aria-describedby",i.messageElement.id),t.setAttribute(cp,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,uA(t,"aria-describedby",i.messageElement.id),t.removeAttribute(cp)}_isElementDescribedByMessage(t,r){let i=dp(t,"aria-describedby"),o=this._messageRegistry.get(r),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),o=t.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gf(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function wb(n,e){n.id||(n.id=`${yb}-${e}-${ff++}`)}var up;function pA(){if(up===void 0&&(up=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(up=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return up}function dl(n){return pA()?.createHTML(n)||n}var Tr=(function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n})(Tr||{}),pp,Ls;function gp(){if(Ls==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ls=!1,Ls;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Ls=!0;else{let n=Element.prototype.scrollTo;n?Ls=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Ls=!1}}return Ls}function hl(){if(typeof document!="object"||!document)return Tr.NORMAL;if(pp==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),pp=Tr.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,pp=n.scrollLeft===0?Tr.NEGATED:Tr.INVERTED),n.remove()}return pp}function mf(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ul,kb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vf(){if(ul)return ul;if(typeof document!="object"||!document)return ul=new Set(kb),ul;let n=document.createElement("input");return ul=new Set(kb.filter(e=>(n.setAttribute("type",e),n.type===e))),ul}var bb={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var gA=new L("MATERIAL_ANIMATIONS"),xb=null;function fA(){return f(gA,{optional:!0})?.animationsDisabled||f(Xa,{optional:!0})==="NoopAnimations"?"di-disabled":(xb??=f(op).matchMedia("(prefers-reduced-motion)").matches,xb?"reduced-motion":"enabled")}function Me(){return fA()!=="enabled"}function Se(n){return n==null?"":typeof n=="string"?n:`${n}px`}function pr(n){return n!=null&&`${n}`!="false"}var $n=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})($n||{}),fp=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=$n.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},Mb=Io({passive:!0,capture:!0}),wf=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Mb)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Mb)))}_delegateEventHandler=e=>{let t=Pn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},pl={enterDuration:225,exitDuration:150},mA=800,Cb=Io({passive:!0,capture:!0}),Eb=["mousedown","touchstart"],Ib=["mouseup","mouseleave","touchend","touchcancel"],vA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),gl=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new wf;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=Mn(r)),o&&o.get(Xe).load(vA)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=I(I({},pl),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||wA(e,t,i),a=e-i.left,c=t-i.top,d=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(u);let g=window.getComputedStyle(u),v=g.transitionProperty,k=g.transitionDuration,T=v==="none"||k==="0s"||k==="0s, 0s"||i.width===0&&i.height===0,N=new fp(this,u,r,T);u.style.transform="scale3d(1, 1, 1)",N.state=$n.FADING_IN,r.persistent||(this._mostRecentTransientRipple=N);let A=null;return!T&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let H=()=>{A&&(A.fallbackTimer=null),clearTimeout(G),this._finishRippleTransition(N)},$=()=>this._destroyRipple(N),G=setTimeout($,d+100);u.addEventListener("transitionend",H),u.addEventListener("transitioncancel",$),A={onTransitionEnd:H,onTransitionCancel:$,fallbackTimer:G}}),this._activeRipples.set(N,A),(T||!d)&&this._finishRippleTransition(N),N}fadeOutRipple(e){if(e.state===$n.FADING_OUT||e.state===$n.HIDDEN)return;let t=e.element,r=I(I({},pl),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=$n.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Mn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Eb.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ib.forEach(t=>{this._triggerElement.addEventListener(t,this,Cb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===$n.FADING_IN?this._startFadeOutTransition(e):e.state===$n.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=$n.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=$n.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=_d(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+mA;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!yd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===$n.VISIBLE||e.config.terminateOnPointerUp&&e.state===$n.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Eb.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Ib.forEach(t=>e.removeEventListener(t,this,Cb)),this._pointerUpEventsRegistered=!1))}};function wA(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var Id=new L("mat-ripple-global-options"),To=(()=>{class n{_elementRef=f(wt);_animationsDisabled=Me();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=f(ct),r=f(Qt),i=f(Id,{optional:!0}),o=f(Rt);this._globalOptions=i||{},this._rippleRenderer=new gl(this,t,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:I(I(I({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,I(I({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,I(I({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&St("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var _A={capture:!0},yA=["focus","mousedown","mouseenter","touchstart"],_f="mat-ripple-loader-uninitialized",yf="mat-ripple-loader-class-name",Sb="mat-ripple-loader-centered",mp="mat-ripple-loader-disabled",Ab=(()=>{class n{_document=f(bt);_animationsDisabled=Me();_globalRippleOptions=f(Id,{optional:!0});_platform=f(Qt);_ngZone=f(ct);_injector=f(Rt);_eventCleanups;_hosts=new Map;constructor(){let t=f(cn).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>yA.map(r=>t.listen(this._document,r,this._onInteraction,_A)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(_f,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(yf))&&t.setAttribute(yf,r.className||""),r.centered&&t.setAttribute(Sb,""),r.disabled&&t.setAttribute(mp,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(mp,""):t.removeAttribute(mp)}_onInteraction=t=>{let r=Pn(t);if(r instanceof HTMLElement){let i=r.closest(`[${_f}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(yf)),t.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??pl.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??pl.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(mp),rippleConfig:{centered:t.hasAttribute(Sb),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new gl(a,this._ngZone,r,this._platform,this._injector),d=!a.rippleDisabled;d&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:d}),t.removeAttribute(_f)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var kA=["mat-icon-button",""],bA=["*"],xA=new L("MAT_BUTTON_CONFIG");function Tb(n){return n==null?void 0:oi(n)}var kf=(()=>{class n{_elementRef=f(wt);_ngZone=f(ct);_animationsDisabled=Me();_config=f(xA,{optional:!0});_focusMonitor=f(Pi);_cleanupClick;_renderer=f(le);_rippleLoader=f(Ab);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){f(Xe).load(fl);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(Gt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Ti(i.color?"mat-"+i.color:""),St("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",At],disabled:[2,"disabled","disabled",At],ariaDisabled:[2,"aria-disabled","ariaDisabled",At],disabledInteractive:[2,"disabledInteractive","disabledInteractive",At],tabIndex:[2,"tabIndex","tabIndex",Tb],_tabindex:[2,"tabindex","_tabindex",Tb]}})}return n})(),Sd=(()=>{class n extends kf{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[fe],attrs:kA,ngContentSelectors:bA,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(xe(),ii(0,"span",0),Zt(1),ii(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var MA=new L("cdk-dir-doc",{providedIn:"root",factory:()=>f(bt)}),CA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Db(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?CA.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var gr=(()=>{class n{get value(){return this.valueSignal()}valueSignal=_e("ltr");change=new qt;constructor(){let t=f(MA,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(Db(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var re=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({})}return n})();var vp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[re]})}return n})();var EA=["matButton",""],IA=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],SA=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Rb=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),Do=(()=>{class n extends kf{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=AA(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?Rb.get(this._appearance):null,o=Rb.get(t);i&&r.remove(...i),r.add(...o),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[fe],attrs:EA,ngContentSelectors:SA,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(xe(IA),ii(0,"span",0),Zt(1),Un(2,"span",1),Zt(3,1),cr(),Zt(4,2),ii(5,"span",2)(6,"span",3)),r&2&&St("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function AA(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var fr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[vp,re]})}return n})();function Pb(n){return Error(`Unable to find icon with the name "${n}"`)}function TA(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Ob(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Bb(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Oi=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},Vb=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Oi(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(zn.HTML,i);if(!s)throw Bb(i);let a=dl(s);return this._addSvgIconConfig(t,r,new Oi("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Oi(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(zn.HTML,r);if(!o)throw Bb(r);let s=dl(o);return this._addSvgIconSetConfig(t,new Oi("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(zn.RESOURCE_URL,t);if(!r)throw Ob(t);let i=this._cachedIconsByUrl.get(r);return i?kt(_p(i)):this._loadSvgIconFromConfig(new Oi(t,null)).pipe(be(o=>this._cachedIconsByUrl.set(r,o)),lt(o=>_p(o)))}getNamedSvgIcon(t,r=""){let i=Nb(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):Vu(Pb(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?kt(_p(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(lt(r=>_p(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return kt(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ss(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(zn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),kt(null)})));return ju(o).pipe(lt(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw Pb(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(be(r=>t.svgText=r),lt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?kt(null):this._fetchIcon(t).pipe(be(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(dl("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(dl("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw TA();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(zn.RESOURCE_URL,r);if(!s)throw Ob(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(lt(d=>dl(d)),Ka(()=>this._inProgressUrlFetches.delete(s)),R4());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(Nb(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return DA(o)?new Oi(o.url,null,o.options):new Oi(o,null)}}static \u0275fac=function(r){return new(r||n)(Y(nf,8),Y(rf),Y(bt,8),Y(Cr))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _p(n){return n.cloneNode(!0)}function Nb(n,e){return n+":"+e}function DA(n){return!!(n.url&&n.options)}var RA=["*"],PA=new L("MAT_ICON_DEFAULT_OPTIONS"),OA=new L("mat-icon-location",{providedIn:"root",factory:()=>{let n=f(bt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Fb=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BA=Fb.map(n=>`[${n}]`).join(", "),NA=/^url\(['"]?#(.*?)['"]?\)$/,yp=(()=>{class n{_elementRef=f(wt);_iconRegistry=f(Vb);_location=f(OA);_errorHandler=f(Cr);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ue.EMPTY;constructor(){let t=f(new Di("aria-hidden"),{optional:!0}),r=f(PA,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(BA),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)Fb.forEach(s=>{let a=r[o],c=a.getAttribute(s),d=c?c.match(NA):null;if(d){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ze(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Gt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ti(i.color?"mat-"+i.color:""),St("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",At],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:RA,decls:1,vars:0,template:function(r,i){r&1&&(xe(),Zt(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),kp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[re]})}return n})();var Pt="primary",jd=Symbol("RouteTitle"),Ef=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Us(n){return new Ef(n)}function Qb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ip(n){return new Promise((e,t)=>{n.pipe(_o()).subscribe({next:r=>e(r),error:r=>t(r)})})}function VA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ai(n[t],e[t]))return!1;return!0}function ai(n,e){let t=n?If(n):void 0,r=e?If(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Kb(n[i],e[i]))return!1;return!0}function If(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Kb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Yb(n){return n.length>0?n[n.length-1]:null}function $s(n){return Qa(n)?n:nl(n)?ar(Promise.resolve(n)):kt(n)}function Zb(n){return Qa(n)?Ip(n):Promise.resolve(n)}var FA={exact:Jb,subset:tx},Xb={exact:LA,subset:jA,ignored:()=>!0};function jb(n,e,t){return FA[t.paths](n.root,e.root,t.matrixParams)&&Xb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function LA(n,e){return ai(n,e)}function Jb(n,e,t){if(!zs(n.segments,e.segments)||!Mp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Jb(n.children[r],e.children[r],t))return!1;return!0}function jA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Kb(n[t],e[t]))}function tx(n,e,t){return ex(n,e,e.segments,t)}function ex(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!zs(i,t)||e.hasChildren()||!Mp(i,t,r))}else if(n.segments.length===t.length){if(!zs(n.segments,t)||!Mp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!tx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!zs(n.segments,i)||!Mp(n.segments,i,r)||!n.children[Pt]?!1:ex(n.children[Pt],e,o,r)}}function Mp(n,e,t){return e.every((r,i)=>Xb[t](n[i].parameters,r.parameters))}var Rr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Us(this.queryParams),this._queryParamMap}toString(){return UA.serialize(this)}},te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cp(this)}},Ro=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Us(this.parameters),this._parameterMap}toString(){return rx(this)}};function zA(n,e){return zs(n,e)&&n.every((t,r)=>ai(t.parameters,e[r].parameters))}function zs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function HA(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Pt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Pt&&(t=t.concat(e(i,r)))}),t}var zd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new Po,providedIn:"root"})}return n})(),Po=class{parse(e){let t=new Af(e);return new Rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ad(e.root,!0)}`,r=GA(e.queryParams),i=typeof e.fragment=="string"?`#${$A(e.fragment)}`:"";return`${t}${r}${i}`}},UA=new Po;function Cp(n){return n.segments.map(e=>rx(e)).join("/")}function Ad(n,e){if(!n.hasChildren())return Cp(n);if(e){let t=n.children[Pt]?Ad(n.children[Pt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Pt&&r.push(`${i}:${Ad(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=HA(n,(r,i)=>i===Pt?[Ad(n.children[Pt],!1)]:[`${i}:${Ad(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Pt]!=null?`${Cp(n)}/${t[0]}`:`${Cp(n)}/(${t.join("//")})`}}function nx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bp(n){return nx(n).replace(/%3B/gi,";")}function $A(n){return encodeURI(n)}function Sf(n){return nx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ep(n){return decodeURIComponent(n)}function zb(n){return Ep(n.replace(/\+/g,"%20"))}function rx(n){return`${Sf(n.path)}${qA(n.parameters)}`}function qA(n){return Object.entries(n).map(([e,t])=>`;${Sf(e)}=${Sf(t)}`).join("")}function GA(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${bp(t)}=${bp(i)}`).join("&"):`${bp(t)}=${bp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var WA=/^[^\/()?;#]+/;function bf(n){let e=n.match(WA);return e?e[0]:""}var QA=/^[^\/()?;=#]+/;function KA(n){let e=n.match(QA);return e?e[0]:""}var YA=/^[^=?&#]+/;function ZA(n){let e=n.match(YA);return e?e[0]:""}var XA=/^[^&#]+/;function JA(n){let e=n.match(XA);return e?e[0]:""}var Af=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new te(e,t)),r}parseSegment(){let e=bf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ft(4009,!1);return this.capture(e),new Ro(Ep(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=KA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=bf(this.remaining);i&&(r=i,this.capture(r))}e[Ep(t)]=Ep(r)}parseQueryParam(e){let t=ZA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=JA(this.remaining);s&&(r=s,this.capture(r))}let i=zb(t),o=zb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ft(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pt);let s=this.parseChildren();t[o??Pt]=Object.keys(s).length===1&&s[Pt]?s[Pt]:new te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ft(4011,!1)}};function ix(n){return n.segments.length>0?new te([],{[Pt]:n}):n}function ox(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=ox(i);if(r===Pt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new te(n.segments,e);return t7(t)}function t7(n){if(n.numberOfChildren===1&&n.children[Pt]){let e=n.children[Pt];return new te(n.segments.concat(e.segments),e.children)}return n}function Oo(n){return n instanceof Rr}function sx(n,e,t=null,r=null,i=new Po){let o=ax(n);return lx(o,e,t,r,i)}function ax(n){let e;function t(o){let s={};for(let c of o.children){let d=t(c);s[c.outlet]=d}let a=new te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=ix(r);return e??i}function lx(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return xf(o,o,o,t,r,i);let s=e7(e);if(s.toRoot())return xf(o,o,new te([],{}),t,r,i);let a=n7(s,o,n),c=a.processChildren?Dd(a.segmentGroup,a.index,s.commands):dx(a.segmentGroup,a.index,s.commands);return xf(o,a.segmentGroup,c,t,r,i)}function Sp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Od(n){return typeof n=="object"&&n!=null&&n.outlets}function Hb(n,e,t){n||="\u0275";let r=new Rr;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function xf(n,e,t,r,i,o){let s={};for(let[d,u]of Object.entries(r??{}))s[d]=Array.isArray(u)?u.map(g=>Hb(d,g,o)):Hb(d,u,o);let a;n===e?a=t:a=cx(n,e,t);let c=ix(ox(a));return new Rr(c,s,i)}function cx(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=cx(o,e,t)}),new te(n.segments,r)}var Ap=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Sp(r[0]))throw new ft(4003,!1);let i=r.find(Od);if(i&&i!==Yb(r))throw new ft(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function e7(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ap(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ap(t,e,r)}var vl=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function n7(n,e,t){if(n.isAbsolute)return new vl(e,!0,0);if(!t)return new vl(e,!1,NaN);if(t.parent===null)return new vl(t,!0,0);let r=Sp(n.commands[0])?0:1,i=t.segments.length-1+r;return r7(t,i,n.numberOfDoubleDots)}function r7(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ft(4005,!1);i=r.segments.length}return new vl(r,!1,i-o)}function i7(n){return Od(n[0])?n[0].outlets:{[Pt]:n}}function dx(n,e,t){if(n??=new te([],{}),n.segments.length===0&&n.hasChildren())return Dd(n,e,t);let r=o7(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new te(n.segments.slice(0,r.pathIndex),{});return o.children[Pt]=new te(n.segments.slice(r.pathIndex),n.children),Dd(o,0,i)}else return r.match&&i.length===0?new te(n.segments,{}):r.match&&!n.hasChildren()?Tf(n,e,t):r.match?Dd(n,0,i):Tf(n,e,t)}function Dd(n,e,t){if(t.length===0)return new te(n.segments,{});{let r=i7(t),i={};if(Object.keys(r).some(o=>o!==Pt)&&n.children[Pt]&&n.numberOfChildren===1&&n.children[Pt].segments.length===0){let o=Dd(n.children[Pt],e,t);return new te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new te(n.segments,i)}}function o7(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Od(a))break;let c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!$b(c,d,s))return o;r+=2}else{if(!$b(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Tf(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Od(o)){let c=s7(o.outlets);return new te(r,c)}if(i===0&&Sp(t[0])){let c=n.segments[e];r.push(new Ro(c.path,Ub(t[0]))),i++;continue}let s=Od(o)?o.outlets[Pt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Sp(a)?(r.push(new Ro(s,Ub(a))),i+=2):(r.push(new Ro(s,{})),i++)}return new te(r,{})}function s7(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Tf(new te([],{}),0,r))}),e}function Ub(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $b(n,e,t){return n==t.path&&ai(e,t.parameters)}var Rd="imperative",Je=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Je||{}),Gn=class{id;url;constructor(e,t){this.id=e,this.url=t}},li=class extends Gn{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vr=class extends Gn{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Cn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Cn||{}),Bd=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Bd||{}),mr=class extends Gn{reason;code;type=Je.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bi=class extends Gn{reason;code;type=Je.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ni=class extends Gn{error;target;type=Je.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bo=class extends Gn{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends Gn{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dp=class extends Gn{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rp=class extends Gn{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pp=class extends Gn{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bp=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Np=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vp=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fp=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lp=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nd=class{},_l=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function a7(n){return!(n instanceof Nd)&&!(n instanceof _l)}function l7(n,e){return n.providers&&!n._injector&&(n._injector=Cg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dr(n){return n.outlet||Pt}function c7(n,e){let t=n.filter(r=>Dr(r)===e);return t.push(...n.filter(r=>Dr(r)!==e)),t}function xl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var jp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return xl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ml(this.rootInjector)}},Ml=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(yn))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Df(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Df(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Rf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rf(e,this._root).map(t=>t.value)}};function Df(n,e){if(n===e.value)return e;for(let t of e.children){let r=Df(n,t);if(r)return r}return null}function Rf(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Rf(n,t);if(r.length)return r.unshift(e),r}return[]}var qn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ml(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Vd=class extends zp{snapshot;constructor(e,t){super(e),this.snapshot=t,Ff(this,e)}toString(){return this.snapshot.toString()}};function hx(n){let e=d7(n),t=new Ee([new Ro("",{})]),r=new Ee({}),i=new Ee({}),o=new Ee({}),s=new Ee(""),a=new Vi(t,r,o,s,i,Pt,n,e.root);return a.snapshot=e.root,new Vd(new qn(a,[]),e)}function d7(n){let e={},t={},r={},o=new Hs([],e,r,"",t,Pt,n,null,{});return new Fd("",new qn(o,[]))}var Vi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(lt(d=>d[jd]))??kt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(lt(e=>Us(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(lt(e=>Us(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),n.params),data:I(I({},e.data),n.data),resolve:I(I(I(I({},n.data),e.data),i?.data),n._resolvedData)}:r={params:I({},n.params),data:I({},n.data),resolve:I(I({},n.data),n._resolvedData??{})},i&&px(i)&&(r.resolve[jd]=i.title),r}var Hs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jd]}constructor(e,t,r,i,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Us(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Us(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fd=class extends zp{url;constructor(e,t){super(t),this.url=e,Ff(this,t)}toString(){return ux(this._root)}};function Ff(n,e){e.value._routerState=n,e.children.forEach(t=>Ff(n,t))}function ux(n){let e=n.children.length>0?` { ${n.children.map(ux).join(", ")} } `:"";return`${n.value}${e}`}function Mf(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ai(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ai(e.params,t.params)||n.paramsSubject.next(t.params),VA(e.url,t.url)||n.urlSubject.next(t.url),ai(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Pf(n,e){let t=ai(n.params,e.params)&&zA(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Pf(n.parent,e.parent))}function px(n){return typeof n.title=="string"||n.title===null}var gx=new L(""),Hd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pt;activateEvents=new qt;deactivateEvents=new qt;attachEvents=new qt;detachEvents=new qt;routerOutletData=zt();parentContexts=f(Ml);location=f(Hn);changeDetector=f(Oe);inputBinder=f(Ud,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ft(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ft(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ft(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ft(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Of(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fn]})}return n})(),Of=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Vi?this.route:e===Ml?this.childContexts:e===gx?this.outletData:this.parent.get(e,t)}},Ud=new L(""),Lf=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Is([r.queryParams,r.params,r.data]).pipe(Pe(([o,s,a],c)=>(a=I(I(I({},o),s),a),c===0?kt(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=yk(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),jf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Mt(0,"router-outlet")},dependencies:[Hd],encapsulation:2})}return n})();function zf(n){let e=n.children&&n.children.map(zf),t=e?it(I({},n),{children:e}):I({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=jf),t}function h7(n,e,t){let r=Ld(n,e._root,t?t._root:void 0);return new Vd(r,e)}function Ld(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=u7(n,e,t);return new qn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ld(n,a)),s}}let r=p7(e.value),i=e.children.map(o=>Ld(n,o));return new qn(r,i)}}function u7(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ld(n,r,i);return Ld(n,r)})}function p7(n){return new Vi(new Ee(n.url),new Ee(n.params),new Ee(n.queryParams),new Ee(n.fragment),new Ee(n.data),n.outlet,n.component,n)}var yl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fx="ngNavigationCancelingError";function Up(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mx(!1,Cn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function mx(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fx]=!0,t.cancellationCode=e,t}function g7(n){return vx(n)&&Oo(n.url)}function vx(n){return!!n&&n[fx]}var f7=(n,e,t,r)=>lt(i=>(new Bf(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Bf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ml(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ml(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ml(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ml(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Mf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$p=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function m7(n,e,t){let r=n._root,i=e?e._root:null;return Td(r,i,t,[r.value])}function v7(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Cl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!P4(n)?n:e.get(n):r}function Td(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ml(e);return n.children.forEach(s=>{w7(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pd(a,t.getContext(s),i)),i}function w7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_7(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new $p(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Td(n,e,a?a.children:null,r,i):Td(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wl(a.outlet.component,s))}else s&&Pd(e,a,i),i.canActivateChecks.push(new $p(r)),o.component?Td(n,null,a?a.children:null,r,i):Td(n,null,t,r,i);return i}function _7(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!zs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zs(n.url,e.url)||!ai(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pf(n,e)||!ai(n.queryParams,e.queryParams);case"paramsChange":default:return!Pf(n,e)}}function Pd(n,e,t){let r=ml(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pd(s,e.children.getContext(o),t):Pd(s,null,t):Pd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new wl(e.outlet.component,i)):t.canDeactivateChecks.push(new wl(null,i)):t.canDeactivateChecks.push(new wl(null,i))}function $d(n){return typeof n=="function"}function y7(n){return typeof n=="boolean"}function k7(n){return n&&$d(n.canLoad)}function b7(n){return n&&$d(n.canActivate)}function x7(n){return n&&$d(n.canActivateChild)}function M7(n){return n&&$d(n.canDeactivate)}function C7(n){return n&&$d(n.canMatch)}function wx(n){return n instanceof E4||n?.name==="EmptyError"}var xp=Symbol("INITIAL_VALUE");function kl(){return Pe(n=>Is(n.map(e=>e.pipe(Ze(1),Mr(xp)))).pipe(lt(e=>{for(let t of e)if(t!==!0){if(t===xp)return xp;if(t===!1||E7(t))return t}return!0}),$t(e=>e!==xp),Ze(1)))}function E7(n){return Oo(n)||n instanceof yl}function _x(n){return n.aborted?kt(void 0).pipe(Ze(1)):new pe(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function yx(n){return ie(_x(n))}function I7(n,e){return ln(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?kt(it(I({},t),{guardsResult:!0})):S7(s,r,i,n).pipe(ln(a=>a&&y7(a)?A7(r,o,n,e):kt(a)),lt(a=>it(I({},t),{guardsResult:a})))})}function S7(n,e,t,r){return ar(n).pipe(ln(i=>O7(i.component,i.route,t,e,r)),_o(i=>i!==!0,!0))}function A7(n,e,t,r){return ar(e).pipe(wo(i=>Fu(D7(i.route.parent,r),T7(i.route,r),P7(n,i.path,t),R7(n,i.route,t))),_o(i=>i!==!0,!0))}function T7(n,e){return n!==null&&e&&e(new Fp(n)),kt(!0)}function D7(n,e){return n!==null&&e&&e(new Np(n)),kt(!0)}function R7(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return kt(!0);let i=r.map(o=>Lu(()=>{let s=xl(e)??t,a=Cl(o,s),c=b7(a)?a.canActivate(e,n):kn(s,()=>a(e,n));return $s(c).pipe(_o())}));return kt(i).pipe(kl())}function P7(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>v7(s)).filter(s=>s!==null).map(s=>Lu(()=>{let a=s.guards.map(c=>{let d=xl(s.node)??t,u=Cl(c,d),g=x7(u)?u.canActivateChild(r,n):kn(d,()=>u(r,n));return $s(g).pipe(_o())});return kt(a).pipe(kl())}));return kt(o).pipe(kl())}function O7(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return kt(!0);let s=o.map(a=>{let c=xl(e)??i,d=Cl(a,c),u=M7(d)?d.canDeactivate(n,e,t,r):kn(c,()=>d(n,e,t,r));return $s(u).pipe(_o())});return kt(s).pipe(kl())}function B7(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return kt(!0);let s=o.map(a=>{let c=Cl(a,n),d=k7(c)?c.canLoad(e,t):kn(n,()=>c(e,t)),u=$s(d);return i?u.pipe(yx(i)):u});return kt(s).pipe(kl(),kx(r))}function kx(n){return x4(be(e=>{if(typeof e!="boolean")throw Up(n,e)}),lt(e=>e===!0))}function N7(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return kt(!0);let s=o.map(a=>{let c=Cl(a,n),d=C7(c)?c.canMatch(e,t):kn(n,()=>c(e,t)),u=$s(d);return i?u.pipe(yx(i)):u});return kt(s).pipe(kl(),kx(r))}var js=class bx extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,bx.prototype)}},Nf=class xx extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,xx.prototype)}};function V7(n){throw new ft(4e3,!1)}function F7(n){throw mx(!1,Cn.GuardRejected)}var L7=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Pt])throw V7(`${e.redirectTo}`);i=i.children[Pt]}}async applyRedirectCommands(e,t,r,i,o){let s=await j7(t,i,o);if(s instanceof Rr)throw new Nf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Nf(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ft(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function j7(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:d,data:u,title:g}=e;return Ip($s(kn(t,()=>r({params:d,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:g}))))}var Vf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z7(n,e,t,r,i,o){let s=Mx(n,e,t);return s.matched?(r=l7(e,r),N7(r,e,t,i,o).pipe(lt(a=>a===!0?s:I({},Vf)))):kt(s)}function Mx(n,e,t){if(e.path==="**")return H7(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?I({},Vf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Qb)(t,n,e);if(!i)return I({},Vf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function H7(n){return{matched:!0,parameters:n.length>0?Yb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function qb(n,e,t,r){return t.length>0&&q7(n,t,r)?{segmentGroup:new te(e,$7(r,new te(t,n.children))),slicedSegments:[]}:t.length===0&&G7(n,t,r)?{segmentGroup:new te(n.segments,U7(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new te(n.segments,n.children),slicedSegments:t}}function U7(n,e,t,r){let i={};for(let o of t)if(qp(n,e,o)&&!r[Dr(o)]){let s=new te([],{});i[Dr(o)]=s}return I(I({},r),i)}function $7(n,e){let t={};t[Pt]=e;for(let r of n)if(r.path===""&&Dr(r)!==Pt){let i=new te([],{});t[Dr(r)]=i}return t}function q7(n,e,t){return t.some(r=>qp(n,e,r)&&Dr(r)!==Pt)}function G7(n,e,t){return t.some(r=>qp(n,e,r))}function qp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function W7(n,e,t){return e.length===0&&!n.children[t]}var Q7=class{};async function K7(n,e,t,r,i,o,s="emptyOnly",a){return new Z7(n,e,t,r,i,s,o,a).recognize()}var Y7=31,Z7=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new L7(this.urlSerializer,this.urlTree)}noMatchError(e){return new ft(4002,`'${e.segmentGroup}'`)}async recognize(){let e=qb(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new qn(r,t),o=new Fd("",i),s=sx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new Hs([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pt,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Pt,t),rootSnapshot:t}}catch(r){if(r instanceof Nf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof js?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof qn?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let d=r.children[c],u=c7(t,c),g=await this.processSegmentGroup(e,u,d,c,i);s.push(...g)}let a=Cx(s);return X7(a),a}async processSegment(e,t,r,i,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a)}catch(d){if(d instanceof js||wx(d))continue;throw d}if(W7(r,i,o))return new Q7;throw new js(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,c){if(Dr(r)!==s&&(s===Pt||!qp(i,o,r)))throw new js(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c);throw new js(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:d,consumedSegments:u,positionalParamSegments:g,remainingSegments:v}=Mx(t,i,o);if(!c)throw new js(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Y7&&(this.allowRedirects=!1));let k=new Hs(o,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Gb(i),Dr(i),i.component??i._loadedComponent??null,i,Wb(i)),T=Hp(k,a,this.paramsInheritanceStrategy);if(k.params=Object.freeze(T.params),k.data=Object.freeze(T.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let N=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,g,k,e),A=await this.applyRedirects.lineralizeSegments(i,N);return this.processSegment(e,r,t,A.concat(v),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Ip(z7(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new js(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:u,consumedSegments:g,remainingSegments:v}=a,k=new Hs(g,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Gb(r),Dr(r),r.component??r._loadedComponent??null,r,Wb(r)),T=Hp(k,s,this.paramsInheritanceStrategy);k.params=Object.freeze(T.params),k.data=Object.freeze(T.data);let{segmentGroup:N,slicedSegments:A}=qb(t,g,v,c);if(A.length===0&&N.hasChildren()){let G=await this.processChildren(d,c,N,k);return new qn(k,G)}if(c.length===0&&A.length===0)return new qn(k,[]);let H=Dr(r)===o,$=await this.processSegment(d,c,N,A,H?Pt:o,!0,k);return new qn(k,$ instanceof qn?[$]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Ip(B7(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw F7(t)}return{routes:[],injector:e}}};function X7(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}function J7(n){let e=n.value.routeConfig;return e&&e.path===""}function Cx(n){let e=[],t=new Set;for(let r of n){if(!J7(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Cx(r.children);e.push(new qn(r.value,i))}return e.filter(r=>!t.has(r))}function Gb(n){return n.data||{}}function Wb(n){return n.resolve||{}}var tT=new L("",{factory:()=>K7});function eT(n,e,t,r,i,o,s){let a=n.get(tT);return ln(c=>kt(c).pipe(Pe(d=>a(n,e,t,r,d.extractedUrl,i,o,s)),lt(({state:d,tree:u})=>it(I({},c),{targetSnapshot:d,urlAfterRedirects:u}))))}function nT(n,e){return ln(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return kt(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of Ex(c))s.add(d);let a=0;return ar(s).pipe(wo(c=>o.has(c)?rT(c,r,n,e):(c.data=Hp(c,c.parent,n).resolve,kt(void 0))),be(()=>a++),mg(1),ln(c=>a===s.size?kt(t):jn))})}function Ex(n){let e=n.children.map(t=>Ex(t)).flat();return[n,...e]}function rT(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!px(i)&&(o[jd]=i.title),Lu(()=>(n.data=Hp(n,n.parent,t).resolve,iT(o,n,e,r).pipe(lt(s=>(n._resolvedData=s,n.data=I(I({},n.data),s),null)))))}function iT(n,e,t,r){let i=If(n);if(i.length===0)return kt({});let o={};return ar(i).pipe(ln(s=>oT(n[s],e,t,r).pipe(_o(),be(a=>{if(a instanceof yl)throw Up(new Po,a);o[s]=a}))),mg(1),lt(()=>o),Ss(s=>wx(s)?jn:Vu(s)))}function oT(n,e,t,r){let i=xl(e)??r,o=Cl(n,i),s=o.resolve?o.resolve(e,t):kn(i,()=>o(e,t));return $s(s)}function Cf(n){return Pe(e=>{let t=n(e);return t?ar(t).pipe(lt(()=>e)):kt(e)})}var Hf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Pt);return r}getResolvedTitleForRoute(t){return t.data[jd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(Ix),providedIn:"root"})}return n})(),Ix=(()=>{class n extends Hf{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(Yk))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),El=new L("",{factory:()=>({})}),qd=new L(""),Sx=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(pk);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Zb(kn(t,()=>r.loadComponent())),s=await Dx(Tx(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Ax(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function Ax(n,e,t,r){let i=await Zb(kn(t,()=>n.loadChildren())),o=await Dx(Tx(i)),s;o instanceof Y4||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,c,d=!1;return Array.isArray(s)?(c=s,d=!0):(a=s.create(t).injector,c=a.get(qd,[],{optional:!0,self:!0}).flat()),{routes:c.map(zf),injector:a}}function sT(n){return n&&typeof n=="object"&&"default"in n}function Tx(n){return sT(n)?n.default:n}async function Dx(n){return n}var Gp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(aT),providedIn:"root"})}return n})(),aT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rx=new L("");var lT=()=>{},Px=new L(""),Ox=(()=>{class n{currentNavigation=_e(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=_e(null);events=new nt;transitionAbortWithErrorSubject=new nt;configLoader=f(Sx);environmentInjector=f(yn);destroyRef=f(ko);urlSerializer=f(zd);rootContexts=f(Ml);location=f(si);inputBindingEnabled=f(Ud,{optional:!0})!==null;titleStrategy=f(Hf);options=f(El,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(Gp);createViewTransition=f(Rx,{optional:!0});navigationErrorHandler=f(Px,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>kt(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Op(i)),r=i=>this.events.next(new Bp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ge(()=>{this.transitions?.next(it(I({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Ee(null),this.transitions.pipe($t(r=>r!==null),Pe(r=>{let i=!1,o=new AbortController;return kt(r).pipe(Pe(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Cn.SupersededByNewNavigation),jn;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?it(I({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Bi(s.id,this.urlSerializer.serialize(s.rawUrl),"",Bd.IgnoredSameUrlNavigation)),s.resolve(!1),jn;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return kt(s).pipe(Pe(u=>(this.events.next(new li(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?jn:Promise.resolve(u))),eT(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),be(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(v=>(v.finalUrl=u.urlAfterRedirects,v));let g=new Bo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:g,source:v,restoredState:k,extras:T}=s,N=new li(u,this.urlSerializer.serialize(g),v,k);this.events.next(N);let A=hx(this.rootComponentType).snapshot;return this.currentTransition=r=it(I({},s),{targetSnapshot:A,urlAfterRedirects:g,extras:it(I({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(H=>(H.finalUrl=g,H)),kt(r)}else return this.events.next(new Bi(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Bd.IgnoredByUrlHandlingStrategy)),s.resolve(!1),jn}),be(s=>{let a=new Tp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),lt(s=>(this.currentTransition=r=it(I({},s),{guards:m7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),I7(this.environmentInjector,s=>this.events.next(s)),be(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Up(this.urlSerializer,s.guardsResult);let a=new Dp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),$t(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Cn.GuardRejected),!1)),Cf(s=>{if(s.guards.canActivateChecks.length!==0)return kt(s).pipe(be(a=>{let c=new Rp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Pe(a=>{let c=!1;return kt(a).pipe(nT(this.paramsInheritanceStrategy,this.environmentInjector),be({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Cn.NoDataFromResolver)}}))}),be(a=>{let c=new Pp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Cf(s=>{let a=d=>{let u=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let g=xl(d)??this.environmentInjector;u.push(this.configLoader.loadComponent(g,d.routeConfig).then(v=>{d.component=v}))}for(let g of d.children)u.push(...a(g));return u},c=a(s.targetSnapshot.root);return c.length===0?kt(s):ar(Promise.all(c).then(()=>s))}),Cf(()=>this.afterPreactivation()),Pe(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ar(c).pipe(lt(()=>r)):kt(r)}),lt(s=>{let a=h7(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=it(I({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),be(()=>{this.events.next(new Nd)}),f7(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ze(1),ie(_x(o.signal).pipe($t(()=>!i&&!r.targetRouterState),be(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Cn.Aborted)}))),be({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=lT,a)),this.lastSuccessfulNavigation.set(ge(this.currentNavigation)),this.events.next(new vr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ie(this.transitionAbortWithErrorSubject.pipe(be(s=>{throw s}))),Ka(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Cn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ss(s=>{if(this.destroyed)return r.resolve(!1),jn;if(i=!0,vx(s))this.events.next(new mr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),g7(s)?this.events.next(new _l(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ni(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=kn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof yl){let{message:d,cancellationCode:u}=Up(this.urlSerializer,c);this.events.next(new mr(r.id,this.urlSerializer.serialize(r.extractedUrl),d,u)),this.events.next(new _l(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return jn}))}))}cancelNavigationTransition(t,r,i){let o=new mr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ge(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cT(n){return n!==Rd}var Wp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(dT),providedIn:"root"})}return n})(),bl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},dT=(()=>{class n extends bl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uf=(()=>{class n{urlSerializer=f(zd);options=f(El,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(si);urlHandlingStrategy=f(Gp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Rr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=hx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(Bx),providedIn:"root"})}return n})(),Bx=(()=>{class n extends Uf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof li?this.updateStateMemento():t instanceof Bi?this.commitTransition(r):t instanceof Bo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof mr&&t.code!==Cn.SupersededByNewNavigation&&t.code!==Cn.Redirect?this.restoreHistory(r):t instanceof Ni?this.restoreHistory(r,!0):t instanceof vr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $f(n,e){n.events.pipe($t(t=>t instanceof vr||t instanceof mr||t instanceof Ni||t instanceof Bi),lt(t=>t instanceof vr||t instanceof Bi?0:(t instanceof mr?t.code===Cn.Redirect||t.code===Cn.SupersededByNewNavigation:!1)?2:1),$t(t=>t!==2),Ze(1)).subscribe(()=>{e()})}var hT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(Eg);stateManager=f(Uf);options=f(El,{optional:!0})||{};pendingTasks=f(N4);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(Ox);urlSerializer=f(zd);location=f(si);urlHandlingStrategy=f(Gp);injector=f(yn);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(Wp);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(qd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Ud,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ue;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ge(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mr&&r.code!==Cn.Redirect&&r.code!==Cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vr)this.navigated=!0;else if(r instanceof _l){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cT(i.source)},s);this.scheduleNavigation(a,Rd,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}a7(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Za)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ge(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=ax(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return lx(g,t,u,d??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Oo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rd,null,r)}navigate(t,r={skipLocationChange:!1}){return pT(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(As(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=I({},hT):r===!1?i=I({},uT):i=r,Oo(t))return jb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return jb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((g,v)=>{a=g,c=v});let u=this.pendingTasks.add();return $f(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pT(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ft(4008,!1)}var Qp=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_e(null);get href(){return ge(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new nt;applicationErrorHandler=f(Za);options=f(El,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(f(new Di("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof vr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Oo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Oo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Jt(Wn),Jt(Vi),bg("tabindex"),Jt(le),Jt(wt),Jt(ol))};static \u0275dir=st({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ut("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gt("href",i.reactiveHref(),Q4)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",At],skipLocationChange:[2,"skipLocationChange","skipLocationChange",At],replaceUrl:[2,"replaceUrl","replaceUrl",At],routerLink:"routerLink"},features:[fn]})}return n})();var fT=new L("");function qf(n,...e){return gn([{provide:qd,multi:!0,useValue:n},[],{provide:Vi,useFactory:mT},{provide:J4,multi:!0,useFactory:wT},e.map(t=>t.\u0275providers)])}function mT(){return f(Wn).routerState.root}function vT(n,e){return{\u0275kind:n,\u0275providers:e}}function wT(){let n=f(Rt);return e=>{let t=n.get(lr);if(e!==t.components[0])return;let r=n.get(Wn),i=n.get(_T);n.get(yT)===1&&r.initialNavigation(),n.get(kT,null,{optional:!0})?.setUpPreloading(),n.get(fT,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _T=new L("",{factory:()=>new nt}),yT=new L("",{factory:()=>1});var kT=new L("");function Gf(){return vT(8,[Lf,{provide:Ud,useExisting:Lf}])}function xT(n){return n==null?"":/^\d+$/.test(n)?`${n}px`:n}var MT=new L("Ng Icon Pre Processor"),CT=new L("Ng Icon Post Processor");function ET(){return f(MT,{optional:!0})??(n=>n)}function IT(){return f(CT,{optional:!0})??(()=>{})}var ST=new L("Ng Icon Logger"),Wf=class{log(e){console.log(e)}warn(e){console.warn(e)}error(e){console.error(e)}};function AT(){return f(ST,{optional:!0})??new Wf}var TT=new L("Ng Icon Config");function DT(){return f(TT,{optional:!0})??{}}var RT=new L("Ng Icon Loader Token");var PT=new L("Ng Icon Cache Token");function OT(){return f(RT,{optional:!0})}function BT(){return f(PT,{optional:!0})}function Il(n){return[{provide:Qf,useFactory:(e=f(Qf,{optional:!0,skipSelf:!0}))=>I(I({},e?.reduce((t,r)=>I(I({},t),r),{})),n),multi:!0}]}var Qf=new L("Icons Token");function NT(){return f(Qf,{optional:!0})??[]}function VT(n){return typeof n=="string"?Promise.resolve(n):Qa(n)?n.toPromise():n}function FT(n){return n.replace(/([^a-zA-Z0-9])+(.)?/g,(e,t,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,e=>e.toLowerCase())}var LT=0,Sl=(()=>{class n{constructor(){this.config=DT(),this.icons=NT(),this.loader=OT(),this.cache=BT(),this.preProcessor=ET(),this.postProcessor=IT(),this.injector=f(Rt),this.renderer=f(le),this.platform=f(bo),this.elementRef=f(wt),this.uniqueId=LT++,this.logger=AT(),this.name=zt(),this.svg=zt(),this.size=zt(this.config.size,{transform:xT}),this.strokeWidth=zt(this.config.strokeWidth),this.color=zt(this.config.color),Rn(()=>this.updateIcon()),f(new Di("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}async updateIcon(){let t=this.name(),r=this.svg();if(r!==void 0){this.setSvg(r);return}if(t===void 0)return;let i=FT(t);for(let o of[...this.icons].reverse())if(o[i]){this.setSvg(o[i]);return}if(this.loader){let o=await this.requestIconFromLoader(t);if(o!==null){this.setSvg(o);return}}this.logger.warn(`No icon named ${t} was found. You may need to import it using the withIcons function.`)}setSvg(t){if(Rk(this.platform)){this.elementRef.nativeElement.innerHTML=t,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===t)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),t===""))return;let r=this.renderer.createElement("template");t=this.replaceIds(t),this.renderer.setProperty(r,"innerHTML",this.preProcessor(t)),this.svgElement=r.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(t){if(!t.includes("ID_PLACEHOLDER_"))return t;let r=/ID_PLACEHOLDER_(\d+)/g,i=new Map,o=new Set(t.match(r));if(o===null)return t;for(let s of o){let a=s.replace("ID_PLACEHOLDER_",""),c=`ng-icon-${this.uniqueId}-${i.size}`;i.set(a,c),t=t.replace(new RegExp(s,"g"),c)}return t}requestIconFromLoader(t){return new Promise(r=>{kn(this.injector,async()=>{if(this.cache){let s=this.cache.get(t);if(typeof s=="string"){r(s);return}if(s instanceof Promise){let a=await s;r(a);return}}let i=VT(this.loader(t));this.cache?.set(t,i);let o=await i;this.cache?.set(t,o),r(o)})})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=rt({type:n,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(r,i){r&2&&Ps("--ng-icon__stroke-width",i.strokeWidth())("--ng-icon__size",i.size())("--ng-icon__color",i.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(r,i){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return n})();var Nx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>';var Vx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 3v16a2 2 0 0 0 2 2h16"></path><path d="M7 16c.5-2 1.5-7 4-7 2 0 2 3 4 3 2.5 0 4.5-5 5-7"></path></svg>';var Fx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m15 18-6-6 6-6"></path></svg>';var Lx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z"></path><circle cx="12" cy="12" r="10"></circle></svg>';var jx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21 4v16"></path><path d="M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z"></path></svg>';var Kp=class n{location=f(si);goBack(){this.location.back()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-root"]],features:[he([],[Il({lucideChevronLeft:Fx})])],decls:10,vars:0,consts:[[1,"d-flex","flex-column","vh-100","p-2"],[1,"d-flex","justify-content-between","align-items-center"],["mat-icon-button","",3,"click"],["mat-icon-button","","routerLink","/login"],[1,"flex-grow-1","overflow-hidden","p-3"]],template:function(t,r){t&1&&(V(0,"div",0)(1,"div",1)(2,"button",2),ut("click",function(){return r.goBack()}),V(3,"mat-icon"),Z(4,"chevron_left"),j()(),V(5,"button",3)(6,"mat-icon"),Z(7,"account_circle"),j()()(),V(8,"div",4),Mt(9,"router-outlet"),j()())},dependencies:[Hd,fr,Sd,kp,yp,Qp],encapsulation:2})};var Gd=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},No=class extends Gd{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},Fi=class extends Gd{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Kf=class extends Gd{element;constructor(e){super(),this.element=e instanceof wt?e.nativeElement:e}},Al=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof No)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Fi)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Kf)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Yp=class extends Al{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(qu,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Rt.NULL,o=i.get(yn,r.injector);t=Gu(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},zx=(()=>{class n extends Fi{constructor(){let t=f(Er),r=f(Hn);super(t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[fe]})}return n})(),Tl=(()=>{class n extends Al{_moduleRef=f(qu,{optional:!0});_document=f(bt);_viewContainerRef=f(Hn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new qt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fe]})}return n})(),Zp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({})}return n})();var jT=20,qs=(()=>{class n{_ngZone=f(ct);_platform=f(Qt);_renderer=f(cn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new nt;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=jT){return this._platform.isBrowser?new pe(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(gg(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):kt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe($t(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=Mn(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yf=(()=>{class n{elementRef=f(wt);scrollDispatcher=f(qs);ngZone=f(ct);dir=f(gr,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new nt;_renderer=f(le);_cleanupScroll;_elementScrolled=new nt;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=i?t.end:t.start),t.right==null&&(t.right=i?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&hl()!=Tr.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),hl()==Tr.INVERTED?t.left=t.right:hl()==Tr.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;gp()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",i="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?i:r:t=="end"&&(t=s?r:i),s&&hl()==Tr.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&hl()==Tr.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),zT=20,Vo=(()=>{class n{_platform=f(Qt);_listeners;_viewportSize;_change=new nt;_document=f(bt);constructor(){let t=f(ct),r=f(cn).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=zT){return t>0?this._change.pipe(gg(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({})}return n})(),Zf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[re,Wd,re,Wd]})}return n})();var Hx=gp();function Kx(n){return new Xp(n.get(Vo),n.get(bt))}var Xp=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Se(-this._previousScrollPosition.left),e.style.top=Se(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Hx&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Hx&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function Yx(n,e){return new Jp(n.get(qs),n.get(ct),n.get(Vo),e)}var Jp=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe($t(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Qd=class{enable(){}disable(){}attach(){}};function Xf(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function Ux(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function o0(n,e){return new t0(n.get(qs),n.get(Vo),n.get(ct),e)}var t0=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Xf(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Zx=(()=>{class n{_injector=f(Rt);constructor(){}noop=()=>new Qd;close=t=>Yx(this._injector,t);block=()=>Kx(this._injector);reposition=t=>o0(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dl=class{positionStrategy;scrollStrategy=new Qd;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var e0=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Xx=(()=>{class n{_attachedOverlays=[];_document=f(bt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jx=(()=>{class n extends Xx{_ngZone=f(ct);_renderer=f(cn).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t3=(()=>{class n extends Xx{_platform=f(Qt);_ngZone=f(ct);_renderer=f(cn).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Pn(t)};_clickListener=t=>{let r=Pn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if($x(a.overlayElement,r)||$x(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $x(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var e3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return n})(),n3=(()=>{class n{_platform=f(Qt);_containerElement;_document=f(bt);_styleLoader=f(Xe);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||mf()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),mf()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(e3)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jf=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function tm(n){return n&&n.nodeType===1}var n0=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new nt;_attachments=new nt;_detachments=new nt;_positionStrategy;_scrollStrategy;_locationChanges=Ue.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed;_previousHostParent;_keydownEvents=new nt;_outsidePointerEvents=new nt;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,d,u=!1,g,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=u,this._injector=g,this._renderer=v,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){if(this._disposed)return null;this._attachHost();let t=this._portalOutlet.attach(e);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=$e(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){if(this._disposed)return;let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=I(I({},this._config),e),this._updateElementSize()}setDirection(e){this._config=it(I({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Se(this._config.width),e.height=Se(this._config.height),e.minWidth=Se(this._config.minWidth),e.minHeight=Se(this._config.minHeight),e.maxWidth=Se(this._config.maxWidth),e.maxHeight=Se(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachHost(){if(!this._host.parentElement){let e=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;tm(e)?e.after(this._host):e?.type==="parent"?e.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Jf(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=ll(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=$e(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},qx="cdk-overlay-connected-position-bounding-box",HT=/([A-Za-z%]+)$/;function s0(n,e){return new r0(e,n.get(Vo),n.get(bt),n.get(Qt),n.get(n3))}var r0=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new nt;_resizeSubscription=Ue.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(qx),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),d=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(d,t,r,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,d,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:d,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let d of o){let u=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);u>c&&(c=u,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}withPopoverLocation(e){return this._popoverLocation=e,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof wt?this._origin.nativeElement:tm(this._origin)?this._origin:null}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=Wx(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),d=this._getOffset(i,"y");c&&(s+=c),d&&(a+=d);let u=0-s,g=s+o.width-r.width,v=0-a,k=a+o.height-r.height,T=this._subtractOverflows(o.width,u,g),N=this._subtractOverflows(o.height,v,k),A=T*N;return{visibleArea:A,isCompletelyWithinViewport:o.width*o.height===A,fitsInViewportVertically:N===o.height,fitsInViewportHorizontally:T==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=Gx(this._overlayRef.getConfig().minHeight),a=Gx(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,d=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&d}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=Wx(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),d=Math.max(o.left-r.left-e.x,0),u=0,g=0;return i.width<=o.width?u=d||-s:u=e.x<this._getViewportMarginStart()?o.left-r.left-e.x:0,i.height<=o.height?g=c||-a:g=e.y<this._getViewportMarginTop()?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:g},{x:e.x+u,y:e.y+g}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!UT(this._lastScrollVisibility,r)){let i=new e0(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._getViewportMarginBottom();else if(t.overlayY==="bottom")a=r.height-e.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=r.height-a+this._getViewportMarginTop();else{let k=Math.min(r.bottom-e.y+r.top,e.y),T=this._lastBoundingBoxSize.height;o=k*2,s=e.y-k,o>T&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-T/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,d=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,u,g,v;if(d)v=r.width-e.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),u=e.x-this._getViewportMarginStart();else if(c)g=e.x,u=r.right-e.x-this._getViewportMarginEnd();else{let k=Math.min(r.right-e.x+r.left,e.x),T=this._lastBoundingBoxSize.width;u=k*2,g=e.x-k,u>T&&!this._isInitialRender&&!this._growAfterOpen&&(g=e.x-T/2)}return{top:s,left:g,bottom:a,right:v,width:u,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="auto",i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.width=Se(r.width),i.height=Se(r.height),i.top=Se(r.top)||"auto",i.bottom=Se(r.bottom)||"auto",i.left=Se(r.left)||"auto",i.right=Se(r.right)||"auto",t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Se(o)),s&&(i.maxWidth=Se(s))}this._lastBoundingBoxSize=r,Gs(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Gs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Gs(r,this._getExactOverlayY(t,e,u)),Gs(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Se(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Se(s.maxWidth):o&&(r.maxWidth="")),Gs(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Se(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Se(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ux(e,r),isOriginOutsideView:Xf(e,r),isOverlayClipped:Ux(t,r),isOverlayOutsideView:Xf(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._getViewportMarginTop(),left:r.left+this._getViewportMarginStart(),right:r.left+e-this._getViewportMarginEnd(),bottom:r.top+t-this._getViewportMarginBottom(),width:e-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:t-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ll(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let e=this._origin;if(e instanceof wt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function Gs(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Gx(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(HT);return!t||t==="px"?parseFloat(e):null}return n||null}function Wx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function UT(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var Qx="cdk-global-overlay-wrapper";function a0(n){return new i0}var i0=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Qx),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,g=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",k="",T="",N="";c?N="flex-start":u==="center"?(N="center",v?T=g:k=g):v?u==="left"||u==="end"?(N="flex-end",k=g):(u==="right"||u==="start")&&(N="flex-start",T=g):u==="left"||u==="start"?(N="flex-start",k=g):(u==="right"||u==="end")&&(N="flex-end",T=g),e.position=this._cssPosition,e.marginLeft=c?"0":k,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":T,t.justifyContent=N,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Qx),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},r3=(()=>{class n{_injector=f(Rt);constructor(){}global(){return a0()}flexibleConnectedTo(t){return s0(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),i3=new L("OVERLAY_DEFAULT_CONFIG");function Rl(n,e){n.get(Xe).load(e3);let t=n.get(n3),r=n.get(bt),i=n.get(Be),o=n.get(lr),s=n.get(gr),a=n.get(le,null,{optional:!0})||n.get(cn).createRenderer(null,null),c=new Dl(e),d=n.get(i3,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in r.body?c.usePopover=e?.usePopover??d:c.usePopover=!1;let u=r.createElement("div"),g=r.createElement("div");u.id=i.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),g.appendChild(u),c.usePopover&&(g.setAttribute("popover","manual"),g.classList.add("cdk-overlay-popover"));let v=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return t.getContainerElement().appendChild(g),tm(v)?v.after(g):v?.type==="parent"&&v.element.appendChild(g),new n0(new Yp(u,o,n),g,u,c,n.get(ct),n.get(Jx),r,n.get(si),n.get(t3),e?.disableAnimations??n.get(Xa,null,{optional:!0})==="NoopAnimations",n.get(yn),a)}var o3=(()=>{class n{scrollStrategies=f(Zx);_positionBuilder=f(r3);_injector=f(Rt);constructor(){}create(t){return Rl(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({providers:[o3],imports:[re,Zp,Zf,Zf]})}return n})();function $T(n,e){if(n&1){let t=Yt();V(0,"div",1)(1,"button",2),ut("click",function(){pt(t);let i=K();return gt(i.action())}),Z(2),j()()}if(n&2){let t=K();F(2),xn(" ",t.data.action," ")}}var qT=["label"];function GT(n,e){}var WT=Math.pow(2,31)-1,Yd=class{_overlayRef;instance;containerInstance;_afterDismissed=new nt;_afterOpened=new nt;_onAction=new nt;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,WT))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},s3=new L("MatSnackBarData"),Pl=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},QT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),KT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),YT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),a3=(()=>{class n{snackBarRef=f(Yd);data=f(s3);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(V(0,"div",0),Z(1),j(),Et(2,$T,3,1,"div",1)),r&2&&(F(),xn(" ",i.data.message,`
`),F(),It(i.hasAction?2:-1))},dependencies:[Do,QT,KT,YT],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return n})(),em="_mat-snack-bar-enter",nm="_mat-snack-bar-exit",ZT=(()=>{class n extends Al{_ngZone=f(ct);_elementRef=f(wt);_changeDetectorRef=f(Oe);_platform=f(Qt);_animationsDisabled=Me();snackBarConfig=f(Pl);_document=f(bt);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=f(Rt);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new nt;_onExit=new nt;_onEnter=new nt;_animationState="void";_live;_label;_role;_liveElementId=f(Be).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}attachDomPortal=t=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),r};onAnimationEnd(t){t===nm?this._completeExit():t===em&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?$e(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(em)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(em)},200)))}exit(){return this._destroyed?kt(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?$e(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(nm)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(nm),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let r=t.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,r=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&bn(Tl,7)(qT,7),r&2){let o;Ot(o=Bt())&&(i._portalOutlet=o.first),Ot(o=Bt())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&ut("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&St("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[fe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(V(0,"div",1)(1,"div",2,0)(3,"div",3),Si(4,GT,0,0,"ng-template",4),j(),Mt(5,"div"),j()()),r&2&&(F(5),Gt("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Tl],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})(),XT=new L("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new Pl}),Zd=(()=>{class n{_live=f(uf);_injector=f(Rt);_breakpointObserver=f(Md);_parentSnackBar=f(n,{optional:!0,skipSelf:!0});_defaultConfig=f(XT);_animationsDisabled=Me();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=a3;snackBarContainerComponent=ZT;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){let o=I(I({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=Rt.create({parent:i||this._injector,providers:[{provide:Pl,useValue:r}]}),s=new No(this.snackBarContainerComponent,r.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){let i=I(I(I({},new Pl),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new Yd(s,o);if(t instanceof Er){let c=new Fi(t,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(i,a),d=new No(t,void 0,c),u=s.attachComponentPortal(d);a.instance=u.instance}return this._breakpointObserver.observe(bb.HandsetPortrait).pipe(ie(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let r=new Dl;r.direction=t.direction;let i=a0(this._injector),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,r.disableAnimations=this._animationsDisabled,Rl(this._injector,r)}_createInjector(t,r){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Rt.create({parent:i||this._injector,providers:[{provide:Yd,useValue:r},{provide:s3,useValue:t.data}]})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var l0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({providers:[Zd],imports:[Kd,Zp,fr,a3,re]})}return n})();var JT="@",tD=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=f(Rt);loadingSchedulerFn=f(eD,{optional:!0});_engine;constructor(t,r,i,o,s){this.doc=t,this.delegate=r,this.zone=i,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-3EIQVYJF.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new ft(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new rm(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(t,r);o.use(a),this.scheduler??=this.injector.get(F4,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(r){Mg()};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),rm=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r,i){this.delegate.removeChild(e,t,r,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,r,i)),this.delegate.listen(e,t,r,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(JT)}},eD=new L("");function l3(n="animations"){return xg("NgAsyncAnimations"),gn([{provide:cn,useFactory:()=>new tD(f(bt),f(fd),f(ct),n)},{provide:Xa,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var im="Service workers are disabled or not supported by this browser",Ol=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new pe(r=>r.error(new ft(5601,!1)));else{let r=null,i=new nt;this.worker=new pe(d=>(r!==null&&d.next(r),i.subscribe(u=>d.next(u))));let o=()=>{let{controller:d}=e;d!==null&&(r=d,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Pe(()=>e.getRegistration().then(d=>{if(!d)throw new ft(5601,!1);return d})));let s=new nt;this.events=s.asObservable();let a=d=>{let{data:u}=d;u?.type&&s.next(u)};e.addEventListener("message",a),t?.get(lr,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Ze(1)).subscribe(i=>{i.postMessage(I({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe($t(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ze(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe($t(i=>i.nonce===e),Ze(1),lt(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},nD=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new nt;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=vo,this.notificationClicks=vo,this.notificationCloses=vo,this.pushSubscriptionChanges=vo,this.subscription=vo;return}this.messages=this.sw.eventsOfType("PUSH").pipe(lt(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(lt(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(lt(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(lt(i=>i.data)),this.pushManager=this.sw.registration.pipe(lt(i=>i.pushManager));let r=this.pushManager.pipe(Pe(i=>i.getSubscription()));this.subscription=new pe(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(im));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Pe(c=>c.subscribe(r)),Ze(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(im));let t=r=>{if(r===null)throw new ft(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new ft(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Ze(1),Pe(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(Y(Ol))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),om=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=vo,this.unrecoverable=vo;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(im));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new ft(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(Y(Ol))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),d3=new L("");function rD(){let n=f(Xd);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=f(d3),t=f(ct),r=f(lr);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=c3(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),c3(+a[0])]);break;default:throw new ft(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(s=>console.error(As(5604,!1)))})})}function c3(n){return new Promise(e=>setTimeout(e,n))}function iD(){let n=f(Xd),e=f(Rt),t=!0;return new Ol(t&&n.enabled!==!1?navigator.serviceWorker:void 0,e)}var Xd=class{enabled;updateViaCache;type;scope;registrationStrategy};function h3(n,e={}){return gn([nD,om,{provide:d3,useValue:n},{provide:Xd,useValue:e},{provide:Ol,useFactory:iD},Ig(rD)])}function tn(n,e){let r=!e?.manualCleanup?e?.injector?.get(ko)??f(ko):null,i=oD(e?.equal),o;e?.requireSync?o=_e({kind:0},{equal:i}):o=_e({kind:1,value:e?.initialValue},{equal:i});let s,a=n.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new ft(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Lt(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new ft(601,!1)}},{equal:e?.equal})}function oD(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var cm={};function me(n,e){if(cm[n]=(cm[n]||0)+1,typeof e=="function")return sm(n,(...r)=>it(I({},e(...r)),{type:n}));switch(e?e._as:"empty"){case"empty":return sm(n,()=>({type:n}));case"props":return sm(n,r=>it(I({},r),{type:n}));default:throw new Error("Unexpected config.")}}function en(){return{_as:"props",_p:void 0}}function sm(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}function I3(n){return n.charAt(0).toUpperCase()+n.substring(1)}function sD(n,e){if(n==null)throw new Error(`${e} must be defined.`)}var S3="@ngrx/store/init",Nl=(()=>{class n extends Ee{constructor(){super({type:S3})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),aD=[Nl],A3=new L("@ngrx/store Internal Root Guard"),u3=new L("@ngrx/store Internal Initial State"),pm=new L("@ngrx/store Initial State"),T3=new L("@ngrx/store Reducer Factory"),p3=new L("@ngrx/store Internal Reducer Factory Provider"),D3=new L("@ngrx/store Initial Reducers"),am=new L("@ngrx/store Internal Initial Reducers"),g3=new L("@ngrx/store Store Features"),f3=new L("@ngrx/store Internal Store Reducers"),lm=new L("@ngrx/store Internal Feature Reducers"),m3=new L("@ngrx/store Internal Feature Configs"),R3=new L("@ngrx/store Internal Store Features"),v3=new L("@ngrx/store Internal Feature Reducers Token"),P3=new L("@ngrx/store Feature Reducers"),w3=new L("@ngrx/store User Provided Meta Reducers"),Bl=new L("@ngrx/store Meta Reducers"),_3=new L("@ngrx/store Internal Resolved Meta Reducers"),y3=new L("@ngrx/store User Runtime Checks Config"),k3=new L("@ngrx/store Internal User Runtime Checks Config"),Ws=new L("@ngrx/store Internal Runtime Checks"),gm=new L("@ngrx/store Check if Action types are unique"),Jd=new L("@ngrx/store Root Store Provider"),c0=new L("@ngrx/store Feature State Provider");function fm(n,e={}){let t=Object.keys(n),r={};for(let o=0;o<t.length;o++){let s=t[o];typeof n[s]=="function"&&(r[s]=n[s])}let i=Object.keys(r);return function(s,a){s=s===void 0?e:s;let c=!1,d={};for(let u=0;u<i.length;u++){let g=i[u],v=r[g],k=s[g],T=v(k,a);d[g]=T,c=c||T!==k}return c?d:s}}function lD(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,r)=>Object.assign(t,{[r]:n[r]}),{})}function O3(...n){return function(e){if(n.length===0)return e;let t=n[n.length-1];return n.slice(0,-1).reduceRight((i,o)=>o(i),t(e))}}function B3(n,e){return Array.isArray(e)&&e.length>0&&(n=O3.apply(null,[...e,n])),(t,r)=>{let i=n(t);return(o,s)=>(o=o===void 0?r:o,i(o,s))}}function cD(n){let e=Array.isArray(n)&&n.length>0?O3(...n):t=>t;return(t,r)=>(t=e(t),(i,o)=>(i=i===void 0?r:i,t(i,o)))}var th=class extends pe{},d0=class extends Nl{},dD="@ngrx/store/update-reducers",h0=(()=>{class n extends Ee{get currentReducers(){return this.reducers}constructor(t,r,i,o){super(o(i,r)),this.dispatcher=t,this.initialState=r,this.reducers=i,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let r=t.reduce((i,{reducers:o,reducerFactory:s,metaReducers:a,initialState:c,key:d})=>{let u=typeof o=="function"?cD(a)(o,c):B3(s,a)(o,c);return i[d]=u,i},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers=I(I({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=lD(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:dD,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||n)(Y(d0),Y(pm),Y(D3),Y(T3))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),hD=[h0,{provide:th,useExisting:h0},{provide:d0,useExisting:Nl}],eh=(()=>{class n extends nt{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),uD=[eh],u0=class extends pe{},b3=(()=>{class n extends Ee{static{this.INIT=S3}constructor(t,r,i,o){super(o);let a=t.pipe(C4(M4)).pipe(Ii(r)),c={state:o},d=a.pipe(wg(pD,c));this.stateSubscription=d.subscribe(({state:u,action:g})=>{this.next(u),i.next(g)}),this.state=tn(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(r){return new(r||n)(Y(Nl),Y(th),Y(eh),Y(pm))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function pD(n={state:void 0},[e,t]){let{state:r}=n;return{state:t(r,e),action:e}}var gD=[b3,{provide:u0,useExisting:b3}],Qn=(()=>{class n extends pe{constructor(t,r,i,o){super(),this.actionsObserver=r,this.reducerManager=i,this.injector=o,this.source=t,this.state=t.state}select(t,...r){return mm.call(null,t,...r)(this)}selectSignal(t,r){return Lt(()=>t(this.state()),r)}lift(t){let r=new n(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t,r){if(typeof t=="function")return this.processDispatchFn(t,r);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,r){sD(this.injector,"Store Injector");let i=r?.injector??mD()??this.injector;return Rn(()=>{let o=t();ge(()=>this.dispatch(o))},{injector:i})}static{this.\u0275fac=function(r){return new(r||n)(Y(u0),Y(Nl),Y(h0),Y(Rt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),fD=[Qn];function mm(n,e,...t){return function(i){let o;if(typeof n=="string"){let s=[e,...t].filter(Boolean);o=i.pipe(D4(n,...s))}else if(typeof n=="function")o=i.pipe(lt(s=>n(s,e)));else throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);return o.pipe(id())}}function mD(){try{return f(Rt)}catch{return}}var vm="https://ngrx.io/guide/store/configuration/runtime-checks";function x3(n){return n===void 0}function M3(n){return n===null}function N3(n){return Array.isArray(n)}function vD(n){return typeof n=="string"}function wD(n){return typeof n=="boolean"}function _D(n){return typeof n=="number"}function V3(n){return typeof n=="object"&&n!==null}function yD(n){return V3(n)&&!N3(n)}function F3(n){if(!yD(n))return!1;let e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}function dm(n){return typeof n=="function"}function kD(n){return dm(n)&&n.hasOwnProperty("\u0275cmp")}function bD(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var xD=!1;function wm(){return xD}function C3(n,e){return n===e}function MD(n,e,t){for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!0;return!1}function L3(n,e=C3,t=C3){let r=null,i=null,o;function s(){r=null,i=null}function a(u=void 0){o={result:u}}function c(){o=void 0}function d(){if(o!==void 0)return o.result;if(!r)return i=n.apply(null,arguments),r=arguments,i;if(!MD(arguments,r,e))return i;let u=n.apply(null,arguments);return r=arguments,t(i,u)?i:(i=u,u)}return{memoized:d,reset:s,setResult:a,clearResult:c}}function On(...n){return ED(L3)(...n)}function CD(n,e,t,r){if(t===void 0){let o=e.map(s=>s(n));return r.memoized.apply(null,o)}let i=e.map(o=>o(n,t));return r.memoized.apply(null,[...i,t])}function ED(n,e={stateFn:CD}){return function(...t){let r=t;if(Array.isArray(r[0])){let[u,...g]=r;r=[...u,...g]}else r.length===1&&ID(r[0])&&(r=SD(r[0]));let i=r.slice(0,r.length-1),o=r[r.length-1],s=i.filter(u=>u.release&&typeof u.release=="function"),a=n(function(...u){return o.apply(null,u)}),c=L3(function(u,g){return e.stateFn.apply(null,[u,i,g,a])});function d(){c.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(c.memoized,{release:d,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function j3(n){return On(e=>{let t=e[n];return!wm()&&Sr()&&!(n in e)&&console.warn(`@ngrx/store: The feature name "${n}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${n}', ...) or StoreModule.forFeature('${n}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},e=>e)}function ID(n){return!!n&&typeof n=="object"&&Object.values(n).every(e=>typeof e=="function")}function SD(n){let e=Object.values(n),t=Object.keys(n),r=(...i)=>t.reduce((o,s,a)=>it(I({},o),{[s]:i[a]}),{});return[...e,r]}function z3(n){let{name:e,reducer:t,extraSelectors:r}=n,i=j3(e),o=AD(i,t),s=I({[`select${I3(e)}State`]:i},o),a=r?r(s):{};return I(I({name:e,reducer:t},s),a)}function AD(n,e){let t=TD(e);return(F3(t)?Object.keys(t):[]).reduce((i,o)=>it(I({},i),{[`select${I3(o)}`]:On(n,s=>s?.[o])}),{})}function TD(n){return n(void 0,{type:"@ngrx/feature/init"})}function DD(n){return n instanceof L?f(n):n}function RD(n,e){return e.map((t,r)=>{if(n[r]instanceof L){let i=f(n[r]);return{key:t.key,reducerFactory:i.reducerFactory?i.reducerFactory:fm,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return t})}function PD(n){return n.map(e=>e instanceof L?f(e):e)}function H3(n){return typeof n=="function"?n():n}function OD(n,e){return n.concat(e)}function BD(){if(f(Qn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ND(n,e){return function(t,r){let i=e.action(r)?hm(r):r,o=n(t,i);return e.state()?hm(o):o}}function hm(n){Object.freeze(n);let e=dm(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&bD(n,t)&&(!e||t!=="caller"&&t!=="callee"&&t!=="arguments")){let r=n[t];(V3(r)||dm(r))&&!Object.isFrozen(r)&&hm(r)}}),n}function VD(n,e){return function(t,r){if(e.action(r)){let o=um(r);E3(o,"action")}let i=n(t,r);if(e.state()){let o=um(i);E3(o,"state")}return i}}function um(n,e=[]){return(x3(n)||M3(n))&&e.length===0?{path:["root"],value:n}:Object.keys(n).reduce((r,i)=>{if(r)return r;let o=n[i];return kD(o)?r:x3(o)||M3(o)||_D(o)||wD(o)||vD(o)||N3(o)?!1:F3(o)?um(o,[...e,i]):{path:[...e,i],value:o}},!1)}function E3(n,e){if(n===!1)return;let t=n.path.join("."),r=new Error(`Detected unserializable ${e} at "${t}". ${vm}#strict${e}serializability`);throw r.value=n.value,r.unserializablePath=t,r}function FD(n,e){return function(t,r){if(e.action(r)&&!ct.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${vm}#strictactionwithinngzone`);return n(t,r)}}function LD(n){return Sr()?I({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function jD({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?VD(t,{action:r=>n&&!_m(r),state:()=>e}):t}function zD({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?ND(t,{action:r=>n&&!_m(r),state:()=>e}):t}function _m(n){return n.type.startsWith("@ngrx")}function HD({strictActionWithinNgZone:n}){return e=>n?FD(e,{action:t=>n&&!_m(t)}):e}function UD(n){return[{provide:k3,useValue:n},{provide:y3,useFactory:$D,deps:[k3]},{provide:Ws,deps:[y3],useFactory:LD},{provide:Bl,multi:!0,deps:[Ws],useFactory:zD},{provide:Bl,multi:!0,deps:[Ws],useFactory:jD},{provide:Bl,multi:!0,deps:[Ws],useFactory:HD}]}function U3(){return[{provide:gm,multi:!0,deps:[Ws],useFactory:qD}]}function $D(n){return n}function qD(n){if(!n.strictActionTypeUniqueness)return;let e=Object.entries(cm).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${vm}#strictactiontypeuniqueness`)}function $3(n,e,t={}){return gn([...ZD(n,e,t),YD])}function GD(n={},e={}){return[{provide:A3,useFactory:BD},{provide:u3,useValue:e.initialState},{provide:pm,useFactory:H3,deps:[u3]},{provide:am,useValue:n},{provide:f3,useExisting:n instanceof L?n:am},{provide:D3,deps:[am,[new kg(f3)]],useFactory:DD},{provide:w3,useValue:e.metaReducers?e.metaReducers:[]},{provide:_3,deps:[Bl,w3],useFactory:OD},{provide:p3,useValue:e.reducerFactory?e.reducerFactory:fm},{provide:T3,deps:[p3,_3],useFactory:B3},aD,hD,uD,gD,fD,UD(e.runtimeChecks),U3()]}function WD(){f(Nl),f(th),f(eh),f(Qn),f(A3,{optional:!0}),f(gm,{optional:!0})}var QD=[{provide:Jd,useFactory:WD},ri(()=>f(Jd))];function q3(n,e){return gn([...GD(n,e),QD])}function KD(){f(Jd);let n=f(R3),e=f(P3),t=f(h0);f(gm,{optional:!0});let r=n.map((i,o)=>{let a=e.shift()[o];return it(I({},i),{reducers:a,initialState:H3(i.initialState)})});t.addFeatures(r)}var YD=[{provide:c0,useFactory:KD},ri(()=>f(c0))];function ZD(n,e,t={}){return[{provide:m3,multi:!0,useValue:n instanceof Object?{}:t},{provide:g3,multi:!0,useValue:{key:n instanceof Object?n.name:n,reducerFactory:!(t instanceof L)&&t.reducerFactory?t.reducerFactory:fm,metaReducers:!(t instanceof L)&&t.metaReducers?t.metaReducers:[],initialState:!(t instanceof L)&&t.initialState?t.initialState:void 0}},{provide:R3,deps:[m3,g3],useFactory:RD},{provide:lm,multi:!0,useValue:n instanceof Object?n.reducer:e},{provide:v3,multi:!0,useExisting:e instanceof L?e:lm},{provide:P3,multi:!0,deps:[lm,[new kg(v3)]],useFactory:PD},U3()]}function Qs(...n){let e=n.pop(),t=n.map(r=>r.type);return{reducer:e,types:t}}function ym(n,...e){let t=new Map;for(let r of e)for(let i of r.types){let o=t.get(i);if(o){let s=(a,c)=>r.reducer(o(a,c),c);t.set(i,s)}else t.set(i,r.reducer)}return function(r=n,i){let o=t.get(i.type);return o?o(r,i):r}}var XD={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},p0="__@ngrx/effects_create__";function Fo(n,e={}){let t=e.functional?n:n(),r=I(I({},XD),e);return Object.defineProperty(t,p0,{value:r}),t}function JD(n){return Object.getOwnPropertyNames(n).filter(r=>n[r]&&n[r].hasOwnProperty(p0)?n[r][p0].hasOwnProperty("dispatch"):!1).map(r=>{let i=n[r][p0];return I({propertyName:r},i)})}function t9(n){return JD(n)}function W3(n){return Object.getPrototypeOf(n)}function e9(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function Q3(n){return typeof n=="function"}function n9(n){return n.filter(Q3)}function r9(n,e,t){let r=W3(n),o=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=t9(n).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:d})=>{let u=typeof n[a]=="function"?n[a]():n[a],g=d?t(u,e):u;return c===!1?g.pipe(S4()):g.pipe(T4()).pipe(lt(k=>({effect:n[a],notification:k,propertyName:a,sourceName:o,sourceInstance:n})))});return Ei(...s)}var i9=10;function K3(n,e,t=i9){return n.pipe(Ss(r=>(e&&e.handleError(r),t<=1?n:K3(n,e,t-1))))}var Y3=(()=>{class n extends pe{constructor(t){super(),t&&(this.source=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}static{this.\u0275fac=function(r){return new(r||n)(Y(eh))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Li(...n){return $t(e=>n.some(t=>typeof t=="string"?t===e.type:t.type===e.type))}var o9=new L("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>K3}),g0="@ngrx/effects/init",s9=me(g0);function a9(n,e){if(n.notification.kind==="N"){let t=n.notification.value;!l9(t)&&e.handleError(new Error(`Effect ${c9(n)} dispatched an invalid action: ${d9(t)}`))}}function l9(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function c9({propertyName:n,sourceInstance:e,sourceName:t}){let r=typeof e[n]=="function";return!!t?`"${t}.${String(n)}${r?"()":""}"`:`"${String(n)}()"`}function d9(n){try{return JSON.stringify(n)}catch{return n}}var h9="ngrxOnIdentifyEffects";function u9(n){return km(n,h9)}var p9="ngrxOnRunEffects";function g9(n){return km(n,p9)}var f9="ngrxOnInitEffects";function m9(n){return km(n,f9)}function km(n,e){return n&&e in n&&typeof n[e]=="function"}var Z3=(()=>{class n extends nt{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(fg(t=>e9(t)?W3(t):t),ln(t=>t.pipe(fg(v9))),ln(t=>{let r=t.pipe(zu(o=>w9(this.errorHandler,this.effectsErrorHandler)(o)),lt(o=>(a9(o,this.errorHandler),o.notification)),$t(o=>o.kind==="N"&&o.value!=null),A4()),i=t.pipe(Ze(1),$t(m9),lt(o=>o.ngrxOnInitEffects()));return Ei(r,i)}))}static{this.\u0275fac=function(r){return new(r||n)(Y(Cr),Y(o9))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function v9(n){return u9(n)?n.ngrxOnIdentifyEffects():""}function w9(n,e){return t=>{let r=r9(t,n,e);return g9(t)?t.ngrxOnRunEffects(r):r}}var _9=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Y(Z3),Y(Qn))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function X3(...n){let e=n.flat(),t=n9(e);return gn([t,ri(()=>{f(Jd),f(c0,{optional:!0});let r=f(_9),i=f(Z3),o=!r.isStarted;o&&r.start();for(let s of e){let a=Q3(s)?f(s):s;i.addEffects(a)}o&&f(Qn).dispatch(s9())})])}var n5="@ngrx/router-store/request",mY=me(n5,en()),nh="@ngrx/router-store/navigation",vY=me(nh,en()),bm="@ngrx/router-store/cancel",wY=me(bm,en()),xm="@ngrx/router-store/error",_Y=me(xm,en()),v0="@ngrx/router-store/navigated",yY=me(v0,en());function r5(n,e){let t=e;switch(t.type){case nh:case xm:case bm:return{state:t.payload.routerState,navigationId:t.payload.event.id};default:return n}}var Vl=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let t=e.children.map(r=>this.serializeRoute(r));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:t[0],children:t}}},Mm=(function(n){return n[n.PreActivation=1]="PreActivation",n[n.PostActivation=2]="PostActivation",n})(Mm||{}),Cm="router",J3=new L("@ngrx/router-store Internal Configuration"),i5=new L("@ngrx/router-store Configuration"),rh=(function(n){return n[n.Full=0]="Full",n[n.Minimal=1]="Minimal",n})(rh||{});function y9(n){return I({stateKey:Cm,serializer:Vl,navigationActionTiming:Mm.PreActivation},n)}var f0=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let t=e.children.map(r=>this.serializeRoute(r));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}},m0=class{},di=(function(n){return n[n.NONE=1]="NONE",n[n.ROUTER=2]="ROUTER",n[n.STORE=3]="STORE",n})(di||{}),t5=(()=>{class n{constructor(t,r,i,o,s,a){this.store=t,this.router=r,this.serializer=i,this.errorHandler=o,this.config=s,this.activeRuntimeChecks=a,this.lastEvent=null,this.routerState=null,this.trigger=di.NONE,this.stateKey=this.config.stateKey,!wm()&&Sr()&&(a?.strictActionSerializability||a?.strictStateSerializability)&&this.serializer instanceof f0&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(mm(this.stateKey),Ii(this.store)).subscribe(([t,r])=>{this.navigateIfNeeded(t,r)})}navigateIfNeeded(t,r){if(!t||!t.state||this.trigger===di.ROUTER||this.lastEvent instanceof li)return;let i=t.state.url;k9(this.router.url,i)||(this.storeState=r,this.trigger=di.STORE,this.router.navigateByUrl(i).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let t=this.config.navigationActionTiming===Mm.PostActivation,r;this.router.events.pipe(Ii(this.store)).subscribe(([i,o])=>{this.lastEvent=i,i instanceof li?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==di.STORE&&(this.storeState=o,this.dispatchRouterRequest(i))):i instanceof Bo?(r=i,!t&&this.trigger!==di.STORE&&this.dispatchRouterNavigation(i)):i instanceof mr?(this.dispatchRouterCancel(i),this.reset()):i instanceof Ni?(this.dispatchRouterError(i),this.reset()):i instanceof vr&&(this.trigger!==di.STORE&&(t&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(i)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(n5,{event:t})}dispatchRouterNavigation(t){let r=this.serializer.serialize(t.state);this.dispatchRouterAction(nh,{routerState:r,event:new Bo(t.id,t.url,t.urlAfterRedirects,r)})}dispatchRouterCancel(t){this.dispatchRouterAction(bm,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(xm,{storeState:this.storeState,event:new Ni(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(v0,{event:t,routerState:r})}dispatchRouterAction(t,r){this.trigger=di.ROUTER;try{this.store.dispatch({type:t,payload:it(I({routerState:this.routerState},r),{event:this.config.routerState===rh.Full?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=di.NONE}}reset(){this.trigger=di.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(r){return new(r||n)(Y(Qn),Y(Wn),Y(m0),Y(Cr),Y(i5),Y(Ws))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function k9(n,e){return e5(n)===e5(e)}function e5(n){return n?.length>0&&n[n.length-1]==="/"?n.substring(0,n.length-1):n}function o5(n={}){return gn([{provide:J3,useValue:n},{provide:i5,useFactory:y9,deps:[J3]},{provide:m0,useClass:n.serializer?n.serializer:n.routerState===rh.Full?f0:Vl},ri(()=>f(t5)),t5])}var jst=jI(s5());var g5=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Jt(le),Jt(wt))};static \u0275dir=st({type:n})}return n})(),b9=(()=>{class n extends g5{static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275dir=st({type:n,features:[fe]})}return n})(),S0=new L("");var x9={provide:S0,useExisting:yo(()=>A0),multi:!0};function M9(){let n=ur()?ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var C9=new L(""),A0=(()=>{class n extends g5{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!M9())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Jt(le),Jt(wt),Jt(C9,8))};static \u0275dir=st({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ut("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[he([x9]),fe]})}return n})();function Tm(n){return n==null||Dm(n)===0}function Dm(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Rm=new L(""),Pm=new L(""),E9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Kn=class{static min(e){return I9(e)}static max(e){return S9(e)}static required(e){return A9(e)}static requiredTrue(e){return T9(e)}static email(e){return D9(e)}static minLength(e){return R9(e)}static maxLength(e){return P9(e)}static pattern(e){return O9(e)}static nullValidator(e){return f5()}static compose(e){return k5(e)}static composeAsync(e){return b5(e)}};function I9(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function S9(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function A9(n){return Tm(n.value)?{required:!0}:null}function T9(n){return n.value===!0?null:{required:!0}}function D9(n){return Tm(n.value)||E9.test(n.value)?null:{email:!0}}function R9(n){return e=>{let t=e.value?.length??Dm(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function P9(n){return e=>{let t=e.value?.length??Dm(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function O9(n){if(!n)return f5;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Tm(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function f5(n){return null}function m5(n){return n!=null}function v5(n){return nl(n)?ar(n):n}function w5(n){let e={};return n.forEach(t=>{e=t!=null?I(I({},e),t):e}),Object.keys(e).length===0?null:e}function _5(n,e){return e.map(t=>t(n))}function B9(n){return!n.validate}function y5(n){return n.map(e=>B9(e)?e:t=>e.validate(t))}function k5(n){if(!n)return null;let e=n.filter(m5);return e.length==0?null:function(t){return w5(_5(t,e))}}function Om(n){return n!=null?k5(y5(n)):null}function b5(n){if(!n)return null;let e=n.filter(m5);return e.length==0?null:function(t){let r=_5(t,e).map(v5);return ju(r).pipe(lt(w5))}}function Bm(n){return n!=null?b5(y5(n)):null}function a5(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function x5(n){return n._rawValidators}function M5(n){return n._rawAsyncValidators}function Em(n){return n?Array.isArray(n)?n:[n]:[]}function k0(n,e){return Array.isArray(n)?n.includes(e):n===e}function l5(n,e){let t=Em(e);return Em(n).forEach(i=>{k0(t,i)||t.push(i)}),t}function c5(n,e){return Em(e).filter(t=>!k0(n,t))}var b0=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Om(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Lo=class extends b0{name;get formDirective(){return null}get path(){return null}},Ks=class extends b0{_parent=null;name=null;valueAccessor=null},x0=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var C5=(()=>{class n extends x0{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Jt(Ks,2))};static \u0275dir=st({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&St("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[fe]})}return n})(),E5=(()=>{class n extends x0{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Jt(Lo,10))};static \u0275dir=st({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&St("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[fe]})}return n})();var ih="VALID",_0="INVALID",Fl="PENDING",oh="DISABLED",jo=class{},M0=class extends jo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ah=class extends jo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},lh=class extends jo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ll=class extends jo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},C0=class extends jo{source;constructor(e){super(),this.source=e}},ch=class extends jo{source;constructor(e){super(),this.source=e}};function Nm(n){return(T0(n)?n.validators:n)||null}function N9(n){return Array.isArray(n)?Om(n):n||null}function Vm(n,e){return(T0(e)?e.asyncValidators:n)||null}function V9(n){return Array.isArray(n)?Bm(n):n||null}function T0(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function I5(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ft(1e3,"");if(!r[t])throw new ft(1001,"")}function S5(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ft(1002,"")})}var jl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ge(this.statusReactive)}set status(e){ge(()=>this.statusReactive.set(e))}_status=Lt(()=>this.statusReactive());statusReactive=_e(void 0);get valid(){return this.status===ih}get invalid(){return this.status===_0}get pending(){return this.status==Fl}get disabled(){return this.status===oh}get enabled(){return this.status!==oh}errors;get pristine(){return ge(this.pristineReactive)}set pristine(e){ge(()=>this.pristineReactive.set(e))}_pristine=Lt(()=>this.pristineReactive());pristineReactive=_e(!0);get dirty(){return!this.pristine}get touched(){return ge(this.touchedReactive)}set touched(e){ge(()=>this.touchedReactive.set(e))}_touched=Lt(()=>this.touchedReactive());touchedReactive=_e(!1);get untouched(){return!this.touched}_events=new nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(l5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(l5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(c5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(c5(e,this._rawAsyncValidators))}hasValidator(e){return k0(this._rawValidators,e)}hasAsyncValidator(e){return k0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(it(I({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new lh(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new lh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(it(I({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ah(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ah(!0,r))}markAsPending(e={}){this.status=Fl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ll(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(it(I({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=oh,this.errors=null,this._forEachChild(i=>{i.disable(it(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new M0(this.value,r)),this._events.next(new Ll(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(it(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ih,this._forEachChild(r=>{r.enable(it(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(it(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ih||this.status===Fl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new M0(this.value,t)),this._events.next(new Ll(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(it(I({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oh:ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=v5(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ll(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new qt,this.statusChanges=new qt}_calculateStatus(){return this._allControlsDisabled()?oh:this.errors?_0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fl)?Fl:this._anyControlsHaveStatus(_0)?_0:ih}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ah(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new lh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){T0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=N9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=V9(this._rawAsyncValidators)}},zl=class extends jl{constructor(e,t,r){super(Nm(t),Vm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){S5(this,!0,e),Object.keys(e).forEach(r=>{I5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,it(I({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new ch(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Im=class extends zl{};var D0=new L("",{factory:()=>R0}),R0="always";function F9(n,e){return[...e.path,n]}function Sm(n,e,t=R0){Fm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),j9(n,e),H9(n,e),z9(n,e),L9(n,e)}function d5(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),I0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function E0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function L9(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Fm(n,e){let t=x5(n);e.validator!==null?n.setValidators(a5(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=M5(n);e.asyncValidator!==null?n.setAsyncValidators(a5(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();E0(e._rawValidators,i),E0(e._rawAsyncValidators,i)}function I0(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=x5(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=M5(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return E0(e._rawValidators,r),E0(e._rawAsyncValidators,r),t}function j9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&A5(n,e)})}function z9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&A5(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function A5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function H9(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function T5(n,e){n==null,Fm(n,e)}function U9(n,e){return I0(n,e)}function $9(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function q9(n){return Object.getPrototypeOf(n.constructor)===b9}function D5(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function G9(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===A0?t=o:q9(o)?r=o:i=o}),i||r||t||null}function W9(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Q9={provide:Lo,useExisting:yo(()=>Lm)},sh=Promise.resolve(),Lm=(()=>{class n extends Lo{callSetDisabledState;get submitted(){return ge(this.submittedReactive)}_submitted=Lt(()=>this.submittedReactive());submittedReactive=_e(!1);_directives=new Set;form;ngSubmit=new qt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new zl({},Om(t),Bm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Sm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sh.then(()=>{let r=this._findContainer(t.path),i=new zl({});T5(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){sh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),D5(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new C0(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Jt(Rm,10),Jt(Pm,10),Jt(D0,8))};static \u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ut("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[he([Q9]),fe]})}return n})();function h5(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function u5(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var y0=class extends jl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Nm(t),Vm(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),T0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(u5(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new ch(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){h5(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){h5(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){u5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var K9=n=>n instanceof y0;var R5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Am=class extends jl{constructor(e,t,r){super(Nm(t),Vm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){S5(this,!1,e),e.forEach((r,i)=>{I5(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],it(I({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new ch(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var Y9=(()=>{class n extends Lo{callSetDisabledState;get submitted(){return ge(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Lt(()=>this._submittedReactive());_submittedReactive=_e(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(I0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Sm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){d5(t.control||null,t,!1),W9(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,D5(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new C0(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(d5(r||null,t),K9(i)&&(Sm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);T5(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&U9(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fm(this.form,this),this._oldForm&&I0(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(Jt(Rm,10),Jt(Pm,10),Jt(D0,8))};static \u0275dir=st({type:n,features:[fe,fn]})}return n})();var P5=new L("");var Z9={provide:Ks,useExisting:yo(()=>jm)},jm=(()=>{class n extends Ks{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new qt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=G9(this,o)}ngOnChanges(t){this._added||this._setUpControl(),$9(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return F9(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Jt(Lo,13),Jt(Rm,10),Jt(Pm,10),Jt(S0,10),Jt(P5,8))};static \u0275dir=st({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[he([Z9]),fe,fn]})}return n})();var X9={provide:Lo,useExisting:yo(()=>dh)},dh=(()=>{class n extends Y9{form=null;ngSubmit=new qt;get control(){return this.form}static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275dir=st({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ut("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[he([X9]),fe]})}return n})();var O5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({})}return n})();function p5(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var B5=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return p5(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new zl(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Im(i,r)}control(t,r,i){let o={};return this.useNonNullable?(p5(r)?o=r:(o.validators=r,o.asyncValidators=i),new y0(t,it(I({},o),{nonNullable:!0}))):new y0(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Am(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof y0)return t;if(t instanceof jl)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var N5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:D0,useValue:t.callSetDisabledState??R0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[O5]})}return n})(),P0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:P5,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:D0,useValue:t.callSetDisabledState??R0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[O5]})}return n})();var tR=["*"];var eR=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],nR=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],rR=new L("MAT_CARD_CONFIG"),V5=(()=>{class n{appearance;constructor(){let t=f(rR,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(r,i){r&2&&St("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:tR,decls:1,vars:0,template:function(r,i){r&1&&(xe(),Zt(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),F5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var L5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})();var j5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:nR,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){r&1&&(xe(eR),Zt(0),Un(1,"div",0),Zt(2,1),cr(),Zt(3,2))},encapsulation:2,changeDetection:0})}return n})();var O0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[re]})}return n})();var zm=class{_box;_destroyed=new nt;_resizeSubject=new nt;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new pe(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe($t(t=>t.some(r=>r.target===e)),_g({bufferSize:1,refCount:!0}),ie(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},B0=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=f(ct);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new zm(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oR=["notch"],sR=["matFormFieldNotchedOutline",""],aR=["*"],z5=["iconPrefixContainer"],H5=["textPrefixContainer"],U5=["iconSuffixContainer"],$5=["textSuffixContainer"],lR=["textField"],cR=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dR=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function hR(n,e){n&1&&Mt(0,"span",21)}function uR(n,e){if(n&1&&(V(0,"label",20),Zt(1,1),Et(2,hR,1,0,"span",21),j()),n&2){let t=K(2);dt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Gt("for",t._control.disableAutomaticLabeling?null:t._control.id),F(2),It(!t.hideRequiredMarker&&t._control.required?2:-1)}}function pR(n,e){if(n&1&&Et(0,uR,3,5,"label",20),n&2){let t=K();It(t._hasFloatingLabel()?0:-1)}}function gR(n,e){n&1&&Mt(0,"div",7)}function fR(n,e){}function mR(n,e){if(n&1&&Si(0,fR,0,0,"ng-template",13),n&2){K(2);let t=xo(1);dt("ngTemplateOutlet",t)}}function vR(n,e){if(n&1&&(V(0,"div",9),Et(1,mR,1,1,null,13),j()),n&2){let t=K();dt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),F(),It(t._forceDisplayInfixLabel()?-1:1)}}function wR(n,e){n&1&&(V(0,"div",10,2),Zt(2,2),j())}function _R(n,e){n&1&&(V(0,"div",11,3),Zt(2,3),j())}function yR(n,e){}function kR(n,e){if(n&1&&Si(0,yR,0,0,"ng-template",13),n&2){K();let t=xo(1);dt("ngTemplateOutlet",t)}}function bR(n,e){n&1&&(V(0,"div",14,4),Zt(2,4),j())}function xR(n,e){n&1&&(V(0,"div",15,5),Zt(2,5),j())}function MR(n,e){n&1&&Mt(0,"div",16)}function CR(n,e){n&1&&(V(0,"div",18),Zt(1,6),j())}function ER(n,e){if(n&1&&(V(0,"mat-hint",22),Z(1),j()),n&2){let t=K(2);dt("id",t._hintLabelId),F(),Ie(t.hintLabel)}}function IR(n,e){if(n&1&&(V(0,"div",19),Et(1,ER,2,2,"mat-hint",22),Zt(2,7),Mt(3,"div",23),Zt(4,8),j()),n&2){let t=K();F(),It(t.hintLabel?1:-1)}}var hh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-label"]]})}return n})(),Z5=new L("MatError"),Um=(()=>{class n{id=f(Be).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){r&2&&rl("id",i.id)},inputs:{id:"id"},features:[he([{provide:Z5,useExisting:n}])]})}return n})(),Hm=(()=>{class n{align="start";id=f(Be).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(rl("id",i.id),Gt("align",null),St("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),SR=new L("MatPrefix");var AR=new L("MatSuffix");var X5=new L("FloatingLabelParent"),q5=(()=>{class n{_elementRef=f(wt);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=f(B0);_ngZone=f(ct);_parent=f(X5);_resizeSubscription=new Ue;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return TR(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&St("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function TR(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var G5="mdc-line-ripple--active",N0="mdc-line-ripple--deactivating",W5=(()=>{class n{_elementRef=f(wt);_cleanupTransitionEnd;constructor(){let t=f(ct),r=f(le);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(N0),t.add(G5)}deactivate(){this._elementRef.nativeElement.classList.add(N0)}_handleTransitionEnd=t=>{let r=this._elementRef.nativeElement.classList,i=r.contains(N0);t.propertyName==="opacity"&&i&&r.remove(G5,N0)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Q5=(()=>{class n{_elementRef=f(wt);_ngZone=f(ct);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,r=t.querySelector(".mdc-floating-label");r?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let r=this._notch.nativeElement;!this.open||!t?r.style.width="":r.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&bn(oR,5),r&2){let o;Ot(o=Bt())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&St("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:sR,ngContentSelectors:aR,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(xe(),ii(0,"div",1),Un(1,"div",2,0),Zt(3),cr(),ii(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),$m=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n})}return n})();var qm=new L("MatFormField"),DR=new L("MAT_FORM_FIELD_DEFAULT_OPTIONS"),K5="fill",RR="auto",Y5="fixed",PR="translateY(-50%)",V0=(()=>{class n{_elementRef=f(wt);_changeDetectorRef=f(Oe);_platform=f(Qt);_idGenerator=f(Be);_ngZone=f(ct);_defaults=f(DR,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=cd("iconPrefixContainer");_textPrefixContainerSignal=cd("textPrefixContainer");_iconSuffixContainerSignal=cd("iconSuffixContainer");_textSuffixContainerSignal=cd("textSuffixContainer");_prefixSuffixContainers=Lt(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=mk(hh);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=pr(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||RR}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let r=t||this._defaults?.appearance||K5;this._appearanceSignal.set(r)}_appearanceSignal=_e(K5);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Y5}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||Y5}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new nt;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Me();constructor(){let t=this._defaults,r=f(gr);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),Rn(()=>this._currentDirection=r.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Lt(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Mr([void 0,void 0]),lt(()=>[r.errorState,r.userAriaDescribedBy]),vg(),$t(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(ie(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ei(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){_k({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Lt(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let r=this._control.describedByIds,i;if(r){let o=this._describedByIds||t;i=t.concat(r.filter(s=>s&&!o.includes(s)))}else i=t;this._control.setDescribedByIds(i),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,i=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,u=this._currentDirection==="rtl"?"-1":"1",g=`${s+a}px`,k=`calc(${u} * (${g} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,T=`var(--mat-mdc-form-field-label-transform, ${PR} translateX(${k}))`,N=s+a+c+d;return[T,N]}_writeOutlinedLabelStyles(t){if(t!==null){let[r,i]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=r),i!==null&&this._notchedOutline?._setMaxWidth(i)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(rk(o,i._labelChild,hh,5),Ai(o,$m,5)(o,SR,5)(o,AR,5)(o,Z5,5)(o,Hm,5)),r&2){Tg();let s;Ot(s=Bt())&&(i._formFieldControl=s.first),Ot(s=Bt())&&(i._prefixChildren=s),Ot(s=Bt())&&(i._suffixChildren=s),Ot(s=Bt())&&(i._errorChildren=s),Ot(s=Bt())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(r&1&&(ik(i._iconPrefixContainerSignal,z5,5)(i._textPrefixContainerSignal,H5,5)(i._iconSuffixContainerSignal,U5,5)(i._textSuffixContainerSignal,$5,5),bn(lR,5)(z5,5)(H5,5)(U5,5)($5,5)(q5,5)(Q5,5)(W5,5)),r&2){Tg(4);let o;Ot(o=Bt())&&(i._textField=o.first),Ot(o=Bt())&&(i._iconPrefixContainer=o.first),Ot(o=Bt())&&(i._textPrefixContainer=o.first),Ot(o=Bt())&&(i._iconSuffixContainer=o.first),Ot(o=Bt())&&(i._textSuffixContainer=o.first),Ot(o=Bt())&&(i._floatingLabel=o.first),Ot(o=Bt())&&(i._notchedOutline=o.first),Ot(o=Bt())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(r,i){r&2&&St("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[he([{provide:qm,useExisting:n},{provide:X5,useExisting:n}])],ngContentSelectors:dR,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let o=Yt();xe(cR),Si(0,pR,1,1,"ng-template",null,0,uk),V(2,"div",6,1),ut("click",function(a){return pt(o),gt(i._control.onContainerClick(a))}),Et(4,gR,1,0,"div",7),V(5,"div",8),Et(6,vR,2,2,"div",9),Et(7,wR,3,0,"div",10),Et(8,_R,3,0,"div",11),V(9,"div",12),Et(10,kR,1,1,null,13),Zt(11),j(),Et(12,bR,3,0,"div",14),Et(13,xR,3,0,"div",15),j(),Et(14,MR,1,0,"div",16),j(),V(15,"div",17),Et(16,CR,2,0,"div",18)(17,IR,5,1,"div",19),j()}if(r&2){let o;F(2),St("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),F(2),It(!i._hasOutline()&&!i._control.disabled?4:-1),F(2),It(i._hasOutline()?6:-1),F(),It(i._hasIconPrefix?7:-1),F(),It(i._hasTextPrefix?8:-1),F(2),It(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),F(2),It(i._hasTextSuffix?12:-1),F(),It(i._hasIconSuffix?13:-1),F(),It(i._hasOutline()?-1:14),F(),St("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic");let s=i._getSubscriptMessageType();F(),It((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[q5,Q5,Fg,W5,Hm],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var uh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[sp,V0,re]})}return n})();var BR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),NR={passive:!0},J5=(()=>{class n{_platform=f(Qt);_ngZone=f(ct);_renderer=f(cn).createRenderer(null,null);_styleLoader=f(Xe);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return jn;this._styleLoader.load(BR);let r=Mn(t),i=this._monitoredElements.get(r);if(i)return i.subject;let o=new nt,s="cdk-text-field-autofilled",a=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(r.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(r,"animationstart",a,NR)));return this._monitoredElements.set(r,{subject:o,unlisten:c}),o}stopMonitoring(t){let r=Mn(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({})}return n})();var eM=new L("MAT_INPUT_VALUE_ACCESSOR");var nM=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F0=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var VR=["button","checkbox","file","hidden","image","radio","range","reset","submit"],FR=new L("MAT_INPUT_CONFIG"),rM=(()=>{class n{_elementRef=f(wt);_platform=f(Qt);ngControl=f(Ks,{optional:!0,self:!0});_autofillMonitor=f(J5);_ngZone=f(ct);_formField=f(qm,{optional:!0});_renderer=f(le);_uid=f(Be).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=f(FR,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new nt;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=pr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Kn.required)??!1}set required(t){this._required=pr(t)}_required;get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&vf().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=pr(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>vf().has(t));constructor(){let t=f(Lm,{optional:!0}),r=f(dh,{optional:!0}),i=f(nM),o=f(eM,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Rs(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new F0(i,this.ngControl,r,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Rn(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let r=this._elementRef.nativeElement;r.type==="number"?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){VR.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){let r=this._elementRef.nativeElement;t.length?r.setAttribute("aria-describedby",t.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let r=t.target;!r.value&&r.selectionStart===0&&r.selectionEnd===0&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,i){r&1&&ut("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),r&2&&(rl("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Gt("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),St("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",At]},exportAs:["matInput"],features:[he([{provide:$m,useExisting:n}]),fn]})}return n})(),iM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[uh,uh,tM,re]})}return n})();var Ym=["*"];function HR(n,e){n&1&&Zt(0)}var UR=["tabListContainer"],$R=["tabList"],qR=["tabListInner"],GR=["nextPaginator"],WR=["previousPaginator"],QR=["content"];function KR(n,e){}var YR=["tabBodyWrapper"],ZR=["tabHeader"];function XR(n,e){}function JR(n,e){if(n&1&&Si(0,XR,0,0,"ng-template",12),n&2){let t=K().$implicit;dt("cdkPortalOutlet",t.templateLabel)}}function tP(n,e){if(n&1&&Z(0),n&2){let t=K().$implicit;Ie(t.textLabel)}}function eP(n,e){if(n&1){let t=Yt();V(0,"div",7,2),ut("click",function(){let i=pt(t),o=i.$implicit,s=i.$index,a=K(),c=xo(1);return gt(a._handleClick(o,c,s))})("cdkFocusChange",function(i){let o=pt(t).$index,s=K();return gt(s._tabFocusChanged(i,o))}),Mt(2,"span",8)(3,"div",9),V(4,"span",10)(5,"span",11),Et(6,JR,1,1,null,12)(7,tP,1,1),j()()()}if(n&2){let t=e.$implicit,r=e.$index,i=xo(1),o=K();Ti(t.labelClass),St("mdc-tab--active",o.selectedIndex===r),dt("id",o._getTabLabelId(t,r))("disabled",t.disabled)("fitInkBarToContent",o.fitInkBarToContent),Gt("tabIndex",o._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(r))("aria-selected",o.selectedIndex===r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),F(3),dt("matRippleTrigger",i)("matRippleDisabled",t.disabled||o.disableRipple),F(3),It(t.templateLabel?6:7)}}function nP(n,e){n&1&&Zt(0)}function rP(n,e){if(n&1){let t=Yt();V(0,"mat-tab-body",13),ut("_onCentered",function(){pt(t);let i=K();return gt(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){pt(t);let o=K();return gt(o._setTabBodyWrapperHeight(i))})("_beforeCentering",function(i){pt(t);let o=K();return gt(o._bodyCentered(i))}),j()}if(n&2){let t=e.$implicit,r=e.$index,i=K();Ti(t.bodyClass),dt("id",i._getTabContentId(r))("content",t.content)("position",t.position)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Gt("tabindex",i.contentTabIndex!=null&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(t,r))("aria-hidden",i.selectedIndex!==r)}}var iP=new L("MatTabContent"),oP=(()=>{class n{template=f(Er);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matTabContent",""]],features:[he([{provide:iP,useExisting:n}])]})}return n})(),sP=new L("MatTabLabel"),lM=new L("MAT_TAB"),aP=(()=>{class n extends zx{_closestTab=f(lM,{optional:!0});static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275dir=st({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[he([{provide:sP,useExisting:n}]),fe]})}return n})(),cM=new L("MAT_TAB_GROUP"),Zm=(()=>{class n{_viewContainerRef=f(Hn);_closestTabGroup=f(cM,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new nt;position=null;origin=null;isActive=!1;constructor(){f(Xe).load(fl)}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Fi(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tab"]],contentQueries:function(r,i,o){if(r&1&&Ai(o,aP,5)(o,oP,7,Er),r&2){let s;Ot(s=Bt())&&(i.templateLabel=s.first),Ot(s=Bt())&&(i._explicitContent=s.first)}},viewQuery:function(r,i){if(r&1&&bn(Er,7),r&2){let o;Ot(o=Bt())&&(i._implicitContent=o.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(r,i){r&2&&Gt("id",null)},inputs:{disabled:[2,"disabled","disabled",At],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[he([{provide:lM,useExisting:n}]),fn],ngContentSelectors:Ym,decls:1,vars:0,template:function(r,i){r&1&&(xe(),Z4(0,HR,1,0,"ng-template"))},encapsulation:2})}return n})(),Gm="mdc-tab-indicator--active",oM="mdc-tab-indicator--no-transition",Wm=class{_items;_currentItem;constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar()),this._currentItem=void 0}alignToElement(e){let t=this._items.find(i=>i.elementRef.nativeElement===e),r=this._currentItem;if(t!==r&&(r?.deactivateInkBar(),t)){let i=r?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(i),this._currentItem=t}}},lP=(()=>{class n{_elementRef=f(wt);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){let r=this._elementRef.nativeElement;if(!t||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add(Gm);return}let i=r.getBoundingClientRect(),o=t.width/i.width,s=t.left-i.left;r.classList.add(oM),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),r.getBoundingClientRect(),r.classList.remove(oM),r.classList.add(Gm),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Gm)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let t=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=t.createElement("span"),i=this._inkBarContentElement=t.createElement("span");r.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let t=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;t.appendChild(this._inkBarElement)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",At]}})}return n})();var dM=(()=>{class n extends lP{elementRef=f(wt);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275dir=st({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,i){r&2&&(Gt("aria-disabled",!!i.disabled),St("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",At]},features:[fe]})}return n})(),sM={passive:!0},cP=650,dP=100,hP=(()=>{class n{_elementRef=f(wt);_changeDetectorRef=f(Oe);_viewportRuler=f(Vo);_dir=f(gr,{optional:!0});_ngZone=f(ct);_platform=f(Qt);_sharedResizeObserver=f(B0);_injector=f(Rt);_renderer=f(le);_animationsDisabled=Me();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new nt;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new nt;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let r=isNaN(t)?0:t;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}_selectedIndex=0;selectFocusedIndex=new qt;indexFocused=new qt;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),sM),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),sM))}ngAfterContentInit(){let t=this._dir?this._dir.change:kt("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(ni(32),ie(this._destroyed)),i=this._viewportRuler.change(150).pipe(ie(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Ed(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),$e(o,{injector:this._injector}),Ei(t,i,r,this._items.changes,this._itemsResized()).pipe(ie(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?jn:this._items.changes.pipe(Mr(this._items),Pe(t=>new pe(r=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>r.next(o));return t.forEach(o=>i.observe(o.elementRef.nativeElement)),()=>{i.disconnect()}}))),Ya(1),$t(t=>t.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!cl(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager?.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this._items?!!this._items.toArray()[t]:!0}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let t=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let r=this._tabListContainer.nativeElement.offsetWidth,i=(t=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;let r=this._items?this._items.toArray()[t]:null;if(!r)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=r.elementRef.nativeElement,a,c;this._getLayoutDirection()=="ltr"?(a=o,c=a+s):(c=this._tabListInner.nativeElement.offsetWidth-o,a=c-s);let d=this.scrollDistance,u=this.scrollDistance+i;a<d?this.scrollDistance-=d-a:c>u&&(this.scrollDistance+=Math.min(c-u,a-d))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let t=this._tabListInner.nativeElement.scrollWidth,r=this._elementRef.nativeElement.offsetWidth,i=t-r>=5;i||(this.scrollDistance=0),i!==this._showPaginationControls&&(this._showPaginationControls=i,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return t-r||0}_alignInkBarToSelectedTab(){let t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),I4(cP,dP).pipe(ie(Ei(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(t);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",At],selectedIndex:[2,"selectedIndex","selectedIndex",oi]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return n})(),uP=(()=>{class n extends hP{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Wm(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static \u0275fac=(()=>{let t;return function(i){return(t||(t=mn(n)))(i||n)}})();static \u0275cmp=rt({type:n,selectors:[["mat-tab-header"]],contentQueries:function(r,i,o){if(r&1&&Ai(o,dM,4),r&2){let s;Ot(s=Bt())&&(i._items=s)}},viewQuery:function(r,i){if(r&1&&bn(UR,7)($R,7)(qR,7)(GR,5)(WR,5),r&2){let o;Ot(o=Bt())&&(i._tabListContainer=o.first),Ot(o=Bt())&&(i._tabList=o.first),Ot(o=Bt())&&(i._tabListInner=o.first),Ot(o=Bt())&&(i._nextPaginator=o.first),Ot(o=Bt())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,i){r&2&&St("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",At]},features:[fe],ngContentSelectors:Ym,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(r,i){if(r&1){let o=Yt();xe(),V(0,"div",5,0),ut("click",function(){return pt(o),gt(i._handlePaginatorClick("before"))})("mousedown",function(a){return pt(o),gt(i._handlePaginatorPress("before",a))})("touchend",function(){return pt(o),gt(i._stopInterval())}),Mt(2,"div",6),j(),V(3,"div",7,1),ut("keydown",function(a){return pt(o),gt(i._handleKeydown(a))}),V(5,"div",8,2),ut("cdkObserveContent",function(){return pt(o),gt(i._onContentChanges())}),V(7,"div",9,3),Zt(9),j()()(),V(10,"div",10,4),ut("mousedown",function(a){return pt(o),gt(i._handlePaginatorPress("after",a))})("click",function(){return pt(o),gt(i._handlePaginatorClick("after"))})("touchend",function(){return pt(o),gt(i._stopInterval())}),Mt(12,"div",6),j()}r&2&&(St("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),dt("matRippleDisabled",i._disableScrollBefore||i.disableRipple),F(3),St("_mat-animation-noopable",i._animationsDisabled),F(2),Gt("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null),F(5),St("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),dt("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},dependencies:[To,db],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return n})(),pP=new L("MAT_TABS_CONFIG"),aM=(()=>{class n extends Tl{_host=f(Qm);_ngZone=f(ct);_centeringSub=Ue.EMPTY;_leavingSub=Ue.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Mr(this._host._isCenterPosition())).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matTabBodyHost",""]],features:[fe]})}return n})(),Qm=(()=>{class n{_elementRef=f(wt);_dir=f(gr,{optional:!0});_ngZone=f(ct);_injector=f(Rt);_renderer=f(le);_diAnimationsDisabled=Me();_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=Ue.EMPTY;_position;_previousPosition;_onCentering=new qt;_beforeCentering=new qt;_afterLeavingCenter=new qt;_onCentered=new qt(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(){if(this._dir){let t=f(Oe);this._dirChangeSubscription=this._dir.change.subscribe(r=>{this._computePositionAnimationState(r),t.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),$e(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(t=>t()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement,r=i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),i.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(t,"transitionstart",i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(t,"transitionend",r),this._renderer.listen(t,"transitioncancel",r)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let t=this._position==="center";this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(t){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",t)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(t=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=t=="ltr"?"left":"right":this._positionIndex>0?this._position=t=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),$e(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tab-body"]],viewQuery:function(r,i){if(r&1&&bn(aM,5)(QR,5),r&2){let o;Ot(o=Bt())&&(i._portalHost=o.first),Ot(o=Bt())&&(i._contentElement=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(r,i){r&2&&Gt("inert",i._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,i){r&1&&(V(0,"div",1,0),Si(2,KR,0,0,"ng-template",2),j()),r&2&&St("mat-tab-body-content-left",i._position==="left")("mat-tab-body-content-right",i._position==="right")("mat-tab-body-content-can-animate",i._position==="center"||i._previousPosition==="center")},dependencies:[aM,Yf],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return n})(),hM=(()=>{class n{_elementRef=f(wt);_changeDetectorRef=f(Oe);_ngZone=f(ct);_tabsSubscription=Ue.EMPTY;_tabLabelSubscription=Ue.EMPTY;_tabBodySubscription=Ue.EMPTY;_diAnimationsDisabled=Me();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new od;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(t){let r=t+"";this._animationDuration=/^\d+$/.test(r)?t+"ms":r}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(t){let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&r.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new qt;focusChange=new qt;animationDone=new qt;selectedTabChange=new qt(!0);_groupId;_isServer=!f(Qt).isBrowser;constructor(){let t=f(pP,{optional:!0});this._groupId=f(Be).getId("mat-tab-group-"),this.animationDuration=t&&t.animationDuration?t.animationDuration:"500ms",this.disablePagination=t&&t.disablePagination!=null?t.disablePagination:!1,this.dynamicHeight=t&&t.dynamicHeight!=null?t.dynamicHeight:!1,t?.contentTabIndex!=null&&(this.contentTabIndex=t.contentTabIndex),this.preserveContent=!!t?.preserveContent,this.fitInkBarToContent=t&&t.fitInkBarToContent!=null?t.fitInkBarToContent:!1,this.stretchTabs=t&&t.stretchTabs!=null?t.stretchTabs:!0,this.alignTabs=t&&t.alignTabs!=null?t.alignTabs:null}ngAfterContentChecked(){let t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(t));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===t),r||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-t,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){let r=this._tabs.toArray(),i;for(let o=0;o<r.length;o++)if(r[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,i=r[o];break}!i&&r[t]&&Promise.resolve().then(()=>{r[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Mr(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){let r=this._tabHeader;r&&(r.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){let r=new Km;return r.index=t,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[t]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ei(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t,r){return t.id||`${this._groupId}-label-${r}`}_getTabContentId(t){return`${this._groupId}-content-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=t;return}let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=t+"px")}_removeTabBodyWrapperHeight(){let t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(t,r,i){r.focusIndex=i,t.disabled||(this.selectedIndex=i)}_getTabIndex(t){let r=this._lastFocusedTabIndex??this.selectedIndex;return t===r?0:-1}_tabFocusChanged(t,r){t&&t!=="mouse"&&t!=="touch"&&(this._tabHeader.focusIndex=r)}_bodyCentered(t){t&&this._tabBodies?.forEach((r,i)=>r._setActiveClass(i===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tab-group"]],contentQueries:function(r,i,o){if(r&1&&Ai(o,Zm,5),r&2){let s;Ot(s=Bt())&&(i._allTabs=s)}},viewQuery:function(r,i){if(r&1&&bn(YR,5)(ZR,5)(Qm,5),r&2){let o;Ot(o=Bt())&&(i._tabBodyWrapper=o.first),Ot(o=Bt())&&(i._tabHeader=o.first),Ot(o=Bt())&&(i._tabBodies=o)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(r,i){r&2&&(Gt("mat-align-tabs",i.alignTabs),Ti("mat-"+(i.color||"primary")),Ps("--mat-tab-animation-duration",i.animationDuration),St("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",At],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",At],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",At],selectedIndex:[2,"selectedIndex","selectedIndex",oi],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",oi],disablePagination:[2,"disablePagination","disablePagination",At],disableRipple:[2,"disableRipple","disableRipple",At],preserveContent:[2,"preserveContent","preserveContent",At],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[he([{provide:cM,useExisting:n}])],ngContentSelectors:Ym,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(r,i){if(r&1){let o=Yt();xe(),V(0,"mat-tab-header",3,0),ut("indexFocused",function(a){return pt(o),gt(i._focusChanged(a))})("selectFocusedIndex",function(a){return pt(o),gt(i.selectedIndex=a)}),dn(2,eP,8,17,"div",4,Sg),j(),Et(4,nP,1,0),V(5,"div",5,1),dn(7,rP,1,10,"mat-tab-body",6,Sg),j()}r&2&&(dt("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),tk("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),F(2),hn(i._tabs),F(2),It(i._isServer?4:-1),F(),St("_mat-animation-noopable",i._animationsDisabled()),F(2),hn(i._tabs))},dependencies:[uP,dM,cf,To,Tl,Qm],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return n})(),Km=class{index;tab};var uM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[re]})}return n})();var pM=()=>{};var mM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fP=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,u=o>>2,g=(o&3)<<4|a>>4,v=(a&15)<<2|d>>6,k=d&63;c||(k=64,s||(v=64)),r.push(t[u],t[g],t[v],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||g==null)throw new Jm;let v=o<<2|a>>4;if(r.push(v),d!==64){let k=a<<4&240|d>>2;if(r.push(k),g!==64){let T=d<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Jm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mP=function(n){let e=mM(n);return vM.encodeByteArray(e,!0)},gh=function(n){return mP(n).replace(/\./g,"")},j0=function(n){try{return vM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ev(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vP=()=>ev().__FIREBASE_DEFAULTS__,wP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_P=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&j0(n[1]);return e&&JSON.parse(e)},z0=()=>{try{return pM()||vP()||wP()||_P()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nv=n=>z0()?.emulatorHosts?.[n],wM=n=>{let e=nv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rv=()=>z0()?.config,iv=n=>z0()?.[`_${n}`];var L0=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function zo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(n){return(await fetch(n,{credentials:"include"})).ok}function _M(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=I({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gh(JSON.stringify(t)),gh(JSON.stringify(s)),""].join(".")}var ph={};function yP(){let n={prod:[],emulator:[]};for(let e of Object.keys(ph))ph[e]?n.emulator.push(e):n.prod.push(e);return n}function kP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var gM=!1;function U0(n,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||ph[n]===e||ph[n]||gM)return;ph[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=yP().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,k){v.setAttribute("width","24"),v.setAttribute("id",k),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{gM=!0,s()},v}function u(v,k){v.setAttribute("id",k),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){let v=kP(r),k=t("text"),T=document.getElementById(k)||document.createElement("span"),N=t("learnmore"),A=document.getElementById(N)||document.createElement("a"),H=t("preprendIcon"),$=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let G=v.element;a(G),u(A,N);let ot=d();c($,H),G.append($,T,A,ot),document.body.appendChild(G)}o?(T.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function kM(){let n=z0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CM(){let n=Ae();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ov(){return!kM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sv(){return!kM()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function $0(){try{return typeof indexedDB=="object"}catch{return!1}}function EM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var bP="FirebaseError",Yn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=bP,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}},ji=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?xP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yn(i,a,r)}};function xP(n,e){return n.replace(MP,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var MP=/\{\$([^}]+)}/g;function IM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(fM(o)&&fM(s)){if(!hi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function fM(n){return n!==null&&typeof n=="object"}function Hl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function $l(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SM(n,e){let t=new tv(n,e);return t.subscribe.bind(t)}var tv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Xm),i.error===void 0&&(i.error=Xm),i.complete===void 0&&(i.complete=Xm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function CP(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xm(){}var OX=14400*1e3;function En(n){return n&&n._delegate?n._delegate:n}var wr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ys="[DEFAULT]";var av=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new L0;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IP(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function EP(n){return n===Ys?void 0:n}function IP(n){return n.instantiationMode==="EAGER"}var q0=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new av(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var SP=[],Ht=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Ht||{}),AP={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},TP=Ht.INFO,DP={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},RP=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=DP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ho=class{constructor(e){this.name=e,this._logLevel=TP,this._logHandler=RP,this._userLogHandler=null,SP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}};var PP=(n,e)=>e.some(t=>n instanceof t),AM,TM;function OP(){return AM||(AM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BP(){return TM||(TM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DM=new WeakMap,cv=new WeakMap,RM=new WeakMap,lv=new WeakMap,hv=new WeakMap;function NP(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ui(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&DM.set(t,n)}).catch(()=>{}),hv.set(e,n),e}function VP(n){if(cv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cv.set(n,e)}var dv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PM(n){dv=n(dv)}function FP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(G0(this),e,...t);return RM.set(r,e.sort?e.sort():[e]),ui(r)}:BP().includes(n)?function(...e){return n.apply(G0(this),e),ui(DM.get(this))}:function(...e){return ui(n.apply(G0(this),e))}}function LP(n){return typeof n=="function"?FP(n):(n instanceof IDBTransaction&&VP(n),PP(n,OP())?new Proxy(n,dv):n)}function ui(n){if(n instanceof IDBRequest)return NP(n);if(lv.has(n))return lv.get(n);let e=LP(n);return e!==n&&(lv.set(n,e),hv.set(e,n)),e}var G0=n=>hv.get(n);function BM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ui(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ui(s.result),c.oldVersion,c.newVersion,ui(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var jP=["get","getKey","getAll","getAllKeys","count"],zP=["put","add","delete","clear"],uv=new Map;function OM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=zP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jP.includes(t)))return;let o=async function(s,...a){let c=this.transaction(s,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),i&&c.done]))[0]};return uv.set(e,o),o}PM(n=>it(I({},n),{get:(e,t,r)=>OM(e,t)||n.get(e,t,r),has:(e,t)=>!!OM(e,t)||n.has(e,t)}));var gv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HP(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function HP(n){return n.getComponent()?.type==="VERSION"}var fv="@firebase/app",NM="0.14.6";var zi=new Ho("@firebase/app"),UP="@firebase/app-compat",$P="@firebase/analytics-compat",qP="@firebase/analytics",GP="@firebase/app-check-compat",WP="@firebase/app-check",QP="@firebase/auth",KP="@firebase/auth-compat",YP="@firebase/database",ZP="@firebase/data-connect",XP="@firebase/database-compat",JP="@firebase/functions",tO="@firebase/functions-compat",eO="@firebase/installations",nO="@firebase/installations-compat",rO="@firebase/messaging",iO="@firebase/messaging-compat",oO="@firebase/performance",sO="@firebase/performance-compat",aO="@firebase/remote-config",lO="@firebase/remote-config-compat",cO="@firebase/storage",dO="@firebase/storage-compat",hO="@firebase/firestore",uO="@firebase/ai",pO="@firebase/firestore-compat",gO="firebase",fO="12.6.0";var mv="[DEFAULT]",mO={[fv]:"fire-core",[UP]:"fire-core-compat",[qP]:"fire-analytics",[$P]:"fire-analytics-compat",[WP]:"fire-app-check",[GP]:"fire-app-check-compat",[QP]:"fire-auth",[KP]:"fire-auth-compat",[YP]:"fire-rtdb",[ZP]:"fire-data-connect",[XP]:"fire-rtdb-compat",[JP]:"fire-fn",[tO]:"fire-fn-compat",[eO]:"fire-iid",[nO]:"fire-iid-compat",[rO]:"fire-fcm",[iO]:"fire-fcm-compat",[oO]:"fire-perf",[sO]:"fire-perf-compat",[aO]:"fire-rc",[lO]:"fire-rc-compat",[cO]:"fire-gcs",[dO]:"fire-gcs-compat",[hO]:"fire-fst",[pO]:"fire-fst-compat",[uO]:"fire-vertex","fire-js":"fire-js",[gO]:"fire-js-all"};var W0=new Map,vO=new Map,vv=new Map;function VM(n,e){try{n.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $o(n){let e=n.name;if(vv.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;vv.set(e,n);for(let t of W0.values())VM(t,n);for(let t of vO.values())VM(t,n);return!0}function mh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vn(n){return n==null?!1:n.settings!==void 0}var wO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new ji("app","Firebase",wO);var wv=class{constructor(e,t,r){this._isDeleted=!1,this._options=I({},e),this._config=I({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}};var qo=fO;function kv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=I({name:mv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Uo.create("bad-app-name",{appName:String(i)});if(t||(t=rv()),!t)throw Uo.create("no-options");let o=W0.get(i);if(o){if(hi(t,o.options)&&hi(r,o.config))return o;throw Uo.create("duplicate-app",{appName:i})}let s=new q0(i);for(let c of vv.values())s.addComponent(c);let a=new wv(t,r,s);return W0.set(i,a),a}function ql(n=mv){let e=W0.get(n);if(!e&&n===mv&&rv())return kv();if(!e)throw Uo.create("no-app",{appName:n});return e}function Pr(n,e,t){let r=mO[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(s.join(" "));return}$o(new wr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var _O="firebase-heartbeat-database",yO=1,fh="firebase-heartbeat-store",pv=null;function zM(){return pv||(pv=BM(_O,yO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Uo.create("idb-open",{originalErrorMessage:n.message})})),pv}async function kO(n){try{let t=(await zM()).transaction(fh),r=await t.objectStore(fh).get(HM(n));return await t.done,r}catch(e){if(e instanceof Yn)zi.warn(e.message);else{let t=Uo.create("idb-get",{originalErrorMessage:e?.message});zi.warn(t.message)}}}async function FM(n,e){try{let r=(await zM()).transaction(fh,"readwrite");await r.objectStore(fh).put(e,HM(n)),await r.done}catch(t){if(t instanceof Yn)zi.warn(t.message);else{let r=Uo.create("idb-set",{originalErrorMessage:t?.message});zi.warn(r.message)}}}function HM(n){return`${n.name}!${n.options.appId}`}var bO=1024,xO=30,_v=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new yv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=LM();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>xO){let i=CO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=LM(),{heartbeatsToSend:t,unsentEntries:r}=MO(this._heartbeatsCache.heartbeats),i=gh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zi.warn(e),""}}};function LM(){return new Date().toISOString().substring(0,10)}function MO(n,e=bO){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),jM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var yv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $0()?EM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await kO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return FM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return FM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function jM(n){return gh(JSON.stringify({version:2,heartbeats:n})).length}function CO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function EO(n){$o(new wr("platform-logger",e=>new gv(e),"PRIVATE")),$o(new wr("heartbeat",e=>new _v(e),"PRIVATE")),Pr(fv,NM,n),Pr(fv,NM,"esm2020"),Pr("fire-js","")}EO("");function iC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oC=iC,sC=new ji("auth","Firebase",iC());var J0=new Ho("@firebase/auth");function IO(n,...e){J0.logLevel<=Ht.WARN&&J0.warn(`Auth (${qo}): ${n}`,...e)}function K0(n,...e){J0.logLevel<=Ht.ERROR&&J0.error(`Auth (${qo}): ${n}`,...e)}function _r(n,...e){throw $v(n,...e)}function Or(n,...e){return $v(n,...e)}function Uv(n,e,t){let r=it(I({},oC()),{[e]:t});return new ji("auth","Firebase",r).create(e,{appName:n.name})}function pi(n){return Uv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SO(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&_r(n,"argument-error"),Uv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $v(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sC.create(n,...e)}function Ct(n,e,...t){if(!n)throw $v(e,...t)}function Hi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw K0(e),new Error(e)}function $i(n,e){n||Hi(e)}function Mv(){return typeof self<"u"&&self.location?.href||""}function AO(){return UM()==="http:"||UM()==="https:"}function UM(){return typeof self<"u"&&self.location?.protocol||null}function TO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AO()||xM()||"connection"in navigator)?navigator.onLine:!0}function DO(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Zs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$i(t>e,"Short delay should be less than long delay!"),this.isMobile=yM()||MM()}get(){return TO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qv(n,e){$i(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var t2=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OO=new Zs(3e4,6e4);function Ko(n,e){return n.tenantId&&!e.tenantId?it(I({},e),{tenantId:n.tenantId}):e}async function Yo(n,e,t,r,i={}){return aC(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Hl(I({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=I({method:e,headers:c},o);return bM()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&zo(n.emulatorConfig.host)&&(d.credentials="include"),t2.fetch()(await lC(n,n.config.apiHost,t,a),d)})}async function aC(n,e,t){n._canInitEmulator=!1;let r=I(I({},RO),e);try{let i=new Cv(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Q0(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Q0(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Q0(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Q0(n,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Uv(n,u,d);_r(n,u)}}catch(i){if(i instanceof Yn)throw i;_r(n,"network-request-failed",{message:String(i)})}}async function Ch(n,e,t,r,i={}){let o=await Yo(n,e,t,r,i);return"mfaPendingCredential"in o&&_r(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function lC(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?qv(n.config,i):`${n.config.apiScheme}://${i}`;return PO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function BO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Cv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),OO.get())})}};function Q0(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Or(n,e,r);return i.customData._tokenResponse=t,i}function $M(n){return n!==void 0&&n.enterprise!==void 0}var Ev=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function NO(n,e){return Yo(n,"GET","/v2/recaptchaConfig",Ko(n,e))}async function VO(n,e){return Yo(n,"POST","/v1/accounts:delete",e)}async function e2(n,e){return Yo(n,"POST","/v1/accounts:lookup",e)}function wh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cC(n,e=!1){let t=En(n),r=await t.getIdToken(e),i=Gv(r);Ct(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:wh(bv(i.auth_time)),issuedAtTime:wh(bv(i.iat)),expirationTime:wh(bv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function bv(n){return Number(n)*1e3}function Gv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return K0("JWT malformed, contained fewer than 3 sections"),null;try{let i=j0(t);return i?JSON.parse(i):(K0("Failed to decode base64 JWT payload"),null)}catch(i){return K0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qM(n){let e=Gv(n);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Yn&&FO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function FO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Iv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var kh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function n2(n){let e=n.auth,t=await n.getIdToken(),r=await yh(n,e2(e,{idToken:t}));Ct(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?hC(i.providerUserInfo):[],s=LO(n.providerData,o),a=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!s?.length,d=a?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kh(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,u)}async function dC(n){let e=En(n);await n2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hC(n){return n.map(r=>{var i=r,{providerId:e}=i,t=rd(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function jO(n,e){let t=await aC(n,{},async()=>{let r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await lC(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&zo(n.emulatorConfig.host)&&(c.credentials="include"),t2.fetch()(s,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zO(n,e){return Yo(n,"POST","/v2/accounts:revokeToken",Ko(n,e))}var _h=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");let t=qM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await jO(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ct(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ct(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ct(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Hi("not implemented")}};function Go(n,e){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Wo=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=rd(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await yh(this,this.stsTokenManager.getToken(this.auth,e));return Ct(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cC(this,e)}reload(){return dC(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>I({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(it(I({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await n2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(pi(this.auth));let e=await this.getIdToken();return await yh(this,VO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return it(I({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>I({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,c=t._redirectEventId??void 0,d=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:k,providerData:T,stsTokenManager:N}=t;Ct(g&&N,e,"internal-error");let A=_h.fromJSON(this.name,N);Ct(typeof g=="string",e,"internal-error"),Go(r,e.name),Go(i,e.name),Ct(typeof v=="boolean",e,"internal-error"),Ct(typeof k=="boolean",e,"internal-error"),Go(o,e.name),Go(s,e.name),Go(a,e.name),Go(c,e.name),Go(d,e.name),Go(u,e.name);let H=new n({uid:g,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:k,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:A,createdAt:d,lastLoginAt:u});return T&&Array.isArray(T)&&(H.providerData=T.map($=>I({},$))),c&&(H._redirectEventId=c),H}static async _fromIdTokenResponse(e,t,r=!1){let i=new _h;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await n2(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];Ct(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new _h;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,d),c}};var GM=new Map;function Ui(n){$i(n instanceof Function,"Expected a class definition");let e=GM.get(n);return e?($i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,GM.set(n,e),e)}var HO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Sv=HO;function Y0(n,e,t){return`firebase:${n}:${e}:${t}`}var r2=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Y0(this.userKey,i.apiKey,o),this.fullPersistenceKey=Y0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await e2(this.auth,{idToken:e}).catch(()=>{});return t?Wo._fromGetAccountInfoResponse(this.auth,t,e):null}return Wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Ui(Sv),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||Ui(Sv),s=Y0(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let u=await d._get(s);if(u){let g;if(typeof u=="string"){let v=await e2(e,{idToken:u}).catch(()=>{});if(!v)break;g=await Wo._fromGetAccountInfoResponse(e,v,u)}else g=Wo._fromJSON(e,u);d!==o&&(a=g),o=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new n(o,e,r))}};function WM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vC(e))return"Blackberry";if(wC(e))return"Webos";if(pC(e))return"Safari";if((e.includes("chrome/")||gC(e))&&!e.includes("edge/"))return"Chrome";if(mC(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function uC(n=Ae()){return/firefox\//i.test(n)}function pC(n=Ae()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gC(n=Ae()){return/crios\//i.test(n)}function fC(n=Ae()){return/iemobile/i.test(n)}function mC(n=Ae()){return/android/i.test(n)}function vC(n=Ae()){return/blackberry/i.test(n)}function wC(n=Ae()){return/webos/i.test(n)}function Wv(n=Ae()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UO(n=Ae()){return Wv(n)&&!!window.navigator?.standalone}function $O(){return CM()&&document.documentMode===10}function _C(n=Ae()){return Wv(n)||mC(n)||wC(n)||vC(n)||/windows phone/i.test(n)||fC(n)}function yC(n,e=[]){let t;switch(n){case"Browser":t=WM(Ae());break;case"Worker":t=`${WM(Ae())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qo}/${r}`}var Av=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function qO(n,e={}){return Yo(n,"GET","/v2/passwordPolicy",Ko(n,e))}var GO=6,Tv=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??GO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Dv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i2(this),this.idTokenSubscription=new i2(this),this.beforeStateQueue=new Av(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ui(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await r2.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await e2(this,{idToken:e}),r=await Wo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await n2(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(pi(this));let t=e?En(e):null;return t&&Ct(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await qO(this),t=new Tv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await zO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Ui(e)||this._popupRedirectResolver;Ct(t,this,"argument-error"),this.redirectPersistenceManager=await r2.create(this,[Ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IO(`Error while retrieving App Check token: ${e.error}`),e?.token}};function qi(n){return En(n)}var i2=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=SM(t=>this.observer=t)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var p2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WO(n){p2=n}function kC(n){return p2.loadJS(n)}function QO(){return p2.recaptchaEnterpriseScript}function KO(){return p2.gapiScript}function bC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Rv=class{constructor(){this.enterprise=new Pv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Pv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var YO="recaptcha-enterprise",xC="NO_RECAPTCHA",Ov=class{constructor(e){this.type=YO,this.auth=qi(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{NO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Ev(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(c=>{a(c)})})}function i(o,s,a){let c=window.grecaptcha;$M(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(xC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Rv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&$M(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=QO();c.length!==0&&(c+=a),kC(c).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})}};async function vh(n,e,t,r=!1,i=!1){let o=new Ov(n),s;if(i)s=xC;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=I({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Bv(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await vh(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await vh(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await vh(n,e,t);return r(n,o).catch(async s=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await vh(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)})}else{let o=await vh(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")}function MC(n,e){let t=mh(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(hi(o,e??{}))return i;_r(i,"already-initialized")}return t.initialize({options:e})}function ZO(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function CC(n,e,t){let r=qi(n);Ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=EC(e),{host:s,port:a}=XO(e),c=a===null?"":`:${a}`,d={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ct(hi(d,r.config.emulator)&&hi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,zo(s)?(H0(`${o}//${s}${c}`),U0("Auth",!0)):i||JO()}function EC(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XO(n){let e=EC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:QM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:QM(s)}}}function QM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function JO(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Wl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}};async function tB(n,e){return Yo(n,"POST","/v1/accounts:signUp",e)}async function eB(n,e){return Ch(n,"POST","/v1/accounts:signInWithPassword",Ko(n,e))}async function nB(n,e){return Ch(n,"POST","/v1/accounts:signInWithEmailLink",Ko(n,e))}async function rB(n,e){return Ch(n,"POST","/v1/accounts:signInWithEmailLink",Ko(n,e))}var bh=class n extends Wl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bv(e,t,"signInWithPassword",eB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nB(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bv(e,r,"signUpPassword",tB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rB(e,{idToken:t,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Gl(n,e){return Ch(n,"POST","/v1/accounts:signInWithIdp",Ko(n,e))}var iB="http://localhost",o2=class n extends Wl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let a=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=a,o=rd(a,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Gl(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Gl(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Gl(e,t)}buildRequest(){let e={requestUri:iB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}};function oB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sB(n){let e=Ul($l(n)).link,t=e?Ul($l(e)).deep_link_id:null,r=Ul($l(n)).deep_link_id;return(r?Ul($l(r)).link:null)||r||t||e||n}var s2=class n{constructor(e){let t=Ul($l(e)),r=t.apiKey??null,i=t.oobCode??null,o=oB(t.mode??null);Ct(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=sB(e);try{return new n(t)}catch{return null}}};var IC=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return bh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=s2.parseLink(r);return Ct(i,"argument-error"),bh._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),xh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var a2=class extends xh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Qv=(()=>{class n extends a2{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return o2._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();async function SC(n,e){return Ch(n,"POST","/v1/accounts:signUp",Ko(n,e))}var Qo=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Wo._fromIdTokenResponse(e,r,i),s=KM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=KM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function KM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function Kv(n){if(vn(n.app))return Promise.reject(pi(n));let e=qi(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Qo({user:e.currentUser,providerId:null,operationType:"signIn"});let t=await SC(e,{returnSecureToken:!0}),r=await Qo._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}var Nv=class n extends Yn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function AC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nv._fromErrorAndOperation(n,o,e,r):o})}async function aB(n,e,t=!1){let r=await yh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qo._forOperation(n,"link",r)}async function lB(n,e,t=!1){let{auth:r}=n;if(vn(r.app))return Promise.reject(pi(r));let i="reauthenticate";try{let o=await yh(n,AC(r,i,e,n),t);Ct(o.idToken,r,"internal-error");let s=Gv(o.idToken);Ct(s,r,"internal-error");let{sub:a}=s;return Ct(n.uid===a,r,"user-mismatch"),Qo._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&_r(r,"user-mismatch"),o}}async function TC(n,e,t=!1){if(vn(n.app))return Promise.reject(pi(n));let r="signIn",i=await AC(n,r,e),o=await Qo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function DC(n,e){return TC(qi(n),e)}async function RC(n){let e=qi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yv(n,e,t){if(vn(n.app))return Promise.reject(pi(n));let r=qi(n),s=await Bv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SC,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&RC(n),c}),a=await Qo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Zv(n,e,t){return vn(n.app)?Promise.reject(pi(n)):DC(En(n),IC.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RC(n),r})}function PC(n,e,t,r){return En(n).onIdTokenChanged(e,t,r)}function OC(n,e,t){return En(n).beforeAuthStateChanged(e,t)}function Xv(n,e,t,r){return En(n).onAuthStateChanged(e,t,r)}function Jv(n){return En(n).signOut()}var l2="__sak";var c2=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(l2,"1"),this.storage.removeItem(l2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var cB=1e3,dB=10,hB=(()=>{class n extends c2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);$O()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,dB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},cB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),BC=hB;var uB=(()=>{class n extends c2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),tw=uB;function pB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var gB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(async u=>u(r.origin,s)),d=await pB(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function ew(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Vv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let d=ew("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function gi(){return window}function fB(n){gi().location.href=n}function NC(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function mB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vB(){return navigator?.serviceWorker?.controller||null}function wB(){return NC()?self:null}var VC="firebaseLocalStorageDb",_B=1,d2="firebaseLocalStorage",FC="fbase_key",Xs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function g2(n,e){return n.transaction([d2],e?"readwrite":"readonly").objectStore(d2)}function yB(){let n=indexedDB.deleteDatabase(VC);return new Xs(n).toPromise()}function Fv(){let n=indexedDB.open(VC,_B);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(d2,{keyPath:FC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(d2)?e(r):(r.close(),await yB(),e(await Fv()))})})}async function YM(n,e,t){let r=g2(n,!0).put({[FC]:e,value:t});return new Xs(r).toPromise()}async function kB(n,e){let t=g2(n,!1).get(e),r=await new Xs(t).toPromise();return r===void 0?null:r.value}function ZM(n,e){let t=g2(n,!0).delete(e);return new Xs(t).toPromise()}var bB=800,xB=3,MB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fv(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>xB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gB._getInstance(wB()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mB(),!this.activeServiceWorker)return;this.sender=new Vv(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await Fv();return await YM(t,l2,"1"),await ZM(t,l2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>YM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>kB(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=g2(o,!1).getAll();return new Xs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),LC=MB;var sJ=bC("rcb"),aJ=new Zs(3e4,6e4);function jC(n,e){return e?Ui(e):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Mh=class extends Wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function CB(n){return TC(n.auth,new Mh(n),n.bypassAuthState)}function EB(n){let{auth:e,user:t}=n;return Ct(t,e,"internal-error"),lB(t,new Mh(n),n.bypassAuthState)}async function IB(n){let{auth:e,user:t}=n;return Ct(t,e,"internal-error"),aB(t,new Mh(n),n.bypassAuthState)}var h2=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CB;case"linkViaPopup":case"linkViaRedirect":return IB;case"reauthViaPopup":case"reauthViaRedirect":return EB;default:_r(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var SB=new Zs(2e3,1e4);async function nw(n,e,t){if(vn(n.app))return Promise.reject(Or(n,"operation-not-supported-in-this-environment"));let r=qi(n);SO(n,e,xh);let i=jC(r,t);return new AB(r,"signInViaPopup",e,i).executeNotNull()}var AB=(()=>{class n extends h2{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}async executeNotNull(){let t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");let t=ew();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SB.get())};t()}}n.currentPopupAction=null;return n})(),TB="pendingRedirect",Z0=new Map,Lv=class extends h2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Z0.get(this.auth._key());if(!e){try{let r=await DB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Z0.set(this.auth._key(),e)}return this.bypassAuthState||Z0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function DB(n,e){let t=OB(e),r=PB(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function RB(n,e){Z0.set(n._key(),e)}function PB(n){return Ui(n._redirectPersistence)}function OB(n){return Y0(TB,n.config.apiKey,n.name)}async function BB(n,e,t=!1){if(vn(n.app))return Promise.reject(pi(n));let r=qi(n),i=jC(r,e),s=await new Lv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var NB=600*1e3,jv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zC(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Or(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NB&&this.cachedEventUids.clear(),this.cachedEventUids.has(XM(e))}saveEventToCache(e){this.cachedEventUids.add(XM(e)),this.lastProcessedEventTime=Date.now()}};function XM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function VB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zC(n);default:return!1}}async function FB(n,e={}){return Yo(n,"GET","/v1/projects",e)}var LB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jB=/^https?/;async function zB(n){if(n.config.emulator)return;let{authorizedDomains:e}=await FB(n);for(let t of e)try{if(HB(t))return}catch{}_r(n,"unauthorized-domain")}function HB(n){let e=Mv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!jB.test(t))return!1;if(LB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var UB=new Zs(3e4,6e4);function JM(){let n=gi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $B(n){return new Promise((e,t)=>{function r(){JM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JM(),t(Or(n,"network-request-failed"))},timeout:UB.get()})}if(gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gi().gapi?.load)r();else{let i=bC("iframefcb");return gi()[i]=()=>{gapi.load?r():t(Or(n,"network-request-failed"))},kC(`${KO()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw X0=null,e})}var X0=null;function qB(n){return X0=X0||$B(n),X0}var GB=new Zs(5e3,15e3),WB="__/auth/iframe",QB="emulator/auth/iframe",KB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZB(n){let e=n.config;Ct(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?qv(e,QB):`https://${n.config.authDomain}/${WB}`,r={apiKey:e.apiKey,appName:n.name,v:qo},i=YB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Hl(r).slice(1)}`}async function XB(n){let e=await qB(n),t=gi().gapi;return Ct(t,n,"internal-error"),e.open({where:document.body,url:ZB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Or(n,"network-request-failed"),a=gi().setTimeout(()=>{o(s)},GB.get());function c(){gi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}var JB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,eN=600,nN="_blank",rN="http://localhost",u2=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function iN(n,e,t,r=tN,i=eN){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=it(I({},JB),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Ae().toLowerCase();t&&(a=gC(d)?nN:t),uC(d)&&(e=e||rN,c.scrollbars="yes");let u=Object.entries(c).reduce((v,[k,T])=>`${v}${k}=${T},`,"");if(UO(d)&&a!=="_self")return oN(e||"",a),new u2(null);let g=window.open(e||"",a,u);Ct(g,n,"popup-blocked");try{g.focus()}catch{}return new u2(g)}function oN(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var sN="__/auth/handler",aN="emulator/auth/handler",lN=encodeURIComponent("fac");async function tC(n,e,t,r,i,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qo,eventId:i};if(e instanceof xh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",IM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,g]of Object.entries(o||{}))s[u]=g}if(e instanceof a2){let u=e.getScopes().filter(g=>g!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=await n._getAppCheckToken(),d=c?`#${lN}=${encodeURIComponent(c)}`:"";return`${cN(n)}?${Hl(a).slice(1)}${d}`}function cN({config:n}){return n.emulator?qv(n,aN):`https://${n.authDomain}/${sN}`}var xv="webStorageSupport",zv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tw,this._completeRedirectFn=BB,this._overrideRedirectResult=RB}async _openPopup(e,t,r,i){$i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await tC(e,t,r,Mv(),i);return iN(e,o,ew())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await tC(e,t,r,Mv(),i);return fB(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await XB(e),r=new jv(e);return t.register("authEvent",i=>(Ct(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xv,{type:xv},i=>{let o=i?.[0]?.[xv];o!==void 0&&t(!!o),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _C()||pC()||Wv()}},HC=zv;var eC="@firebase/auth",nC="1.12.0";var Hv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(n){$o(new wr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ct(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yC(n)},d=new Dv(r,i,o,c);return ZO(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$o(new wr("auth-internal",e=>{let t=qi(e.getProvider("auth").getImmediate());return(r=>new Hv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(eC,nC,dN(n)),Pr(eC,nC,"esm2020")}var uN=300,pN=iv("authIdTokenMaxAge")||uN,rC=null,gN=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>pN)return;let i=t?.token;rC!==i&&(rC=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zo(n=ql()){let e=mh(n,"auth");if(e.isInitialized())return e.getImmediate();let t=MC(n,{popupRedirectResolver:HC,persistence:[LC,BC,tw]}),r=iv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=gN(o.toString());OC(t,s,()=>s(t.currentUser)),PC(t,a=>s(a))}}let i=nv("auth");return i&&CC(t,`http://${i}`),t}function fN(){return document.getElementsByTagName("head")?.[0]??document}WO({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Or("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",fN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var Ut={addQuiz:me("[Quiz] Add Quiz",en()),addSession:me("[Quiz] Add Session",en()),previousQuestion:me("[Quiz] Previous Question"),nextQuestion:me("[Quiz] Next Question"),answerCurrent:me("[Quiz] Answer Current",en()),openQuiz:me("[Quiz] Open Quiz",en()),createQuizSession:me("[Quiz] Create Session",en()),goToNewSession:me("[Quiz] Go To New Session"),goBack:me("[Quiz] Go back"),openSession:me("[Quiz] Open Session",en()),selectAnswer:me("[Quiz] Select Answer",en()),updateQuestionSoundIndex:me("[Quiz] Update Question Sound Played",en()),updateOptionSoundIndex:me("[Quiz] Update Option Sound Played",en()),restoreState:me("[App] Restore State",en()),practiceOpened:me("[Quiz] Practice Opened",en())};var Ql=(r=>(r.Letter="letter",r.Sound="sound",r.Name="name",r))(Ql||{});function Kl(n,e){if(n>e){let a=n;n=e,e=a}let t=Math.ceil(n),i=Math.floor(e)-t,s=Math.random()*i+t;return Math.floor(s)}function UC(n){let e=n.length;for(;e!==0;){let t=Math.floor(Math.random()*e);e--,[n[e],n[t]]=[n[t],n[e]]}}var fi=[{letter:"i",name:"Close front unrounded",symbol:{entities:["&#105;"],unicodes:["U+0069"],names:["Latin Small Letter I"]},id:"vowel-1"},{letter:"y",name:"Close front rounded",symbol:{entities:["&#121;"],unicodes:["U+0079"],names:["Latin Small Letter Y"]},id:"vowel-2"},{letter:"\u0268",name:"Close central unrounded",symbol:{entities:["&#616;"],unicodes:["U+0268"],names:["Latin Small Letter I with Stroke"]},id:"vowel-3"},{letter:"\u0289",name:"Close central rounded",symbol:{entities:["&#649;"],unicodes:["U+0289"],names:["Latin Small Letter U Bar"]},id:"vowel-4"},{letter:"\u026F",name:"Close back unrounded",symbol:{entities:["&#623;"],unicodes:["U+026f"],names:["Latin Small Letter Turned M"]},id:"vowel-5"},{letter:"u",name:"Close back rounded",symbol:{entities:["&#117;"],unicodes:["U+0075"],names:["Latin Small Letter U"]},id:"vowel-6"},{letter:"\u026A",name:"Near-close near-front unrounded",symbol:{entities:["&#618;"],unicodes:["U+026a"],names:["Latin Letter Small Capital I"]},id:"vowel-7"},{letter:"\u028F",name:"Near-close near-front rounded",symbol:{entities:["&#655;"],unicodes:["U+028f"],names:["Latin Letter Small Capital Y"]},id:"vowel-8"},{letter:"\u028A",name:"Near-close near-back rounded",symbol:{entities:["&#650;"],unicodes:["U+028a"],names:["Latin Small Letter Upsilon"]},id:"vowel-9"},{letter:"e",name:"Close-mid front unrounded",symbol:{entities:["&#101;"],unicodes:["U+0065"],names:["Latin Small Letter E"]},id:"vowel-10"},{letter:"\xF8",name:"Close-mid front rounded",symbol:{entities:["&#248;"],unicodes:["U+00f8"],names:["Latin Small Letter O with Stroke"]},id:"vowel-11"},{letter:"\u0258",name:"Close-mid central unrounded",symbol:{entities:["&#600;"],unicodes:["U+0258"],names:["Latin Small Letter Reversed E"]},id:"vowel-12"},{letter:"\u0275",name:"Close-mid central rounded",symbol:{entities:["&#629;"],unicodes:["U+0275"],names:["Latin Small Letter Barred O"]},id:"vowel-13"},{letter:"\u0264",name:"Close-mid back unrounded",symbol:{entities:["&#612;"],unicodes:["U+0264"],names:["Latin Small Letter Rams Horn"]},id:"vowel-14"},{letter:"o",name:"Close-mid back rounded",symbol:{entities:["&#111;"],unicodes:["U+006f"],names:["Latin Small Letter O"]},id:"vowel-15"},{letter:"e\u031E",name:"Mid front unrounded",symbol:{entities:["&#101;","&#798;"],unicodes:["U+0065","U+031e"],names:["Latin Small Letter E","Combining Down Tack Below"]},id:"vowel-16"},{letter:"\xF8\u031E",name:"Mid front rounded",symbol:{entities:["&#248;","&#798;"],unicodes:["U+00f8","U+031e"],names:["Latin Small Letter O with Stroke","Combining Down Tack Below"]},id:"vowel-17"},{letter:"\u0259",name:"Mid central",symbol:{entities:["&#601;"],unicodes:["U+0259"],names:["Latin Small Letter Schwa"]},id:"vowel-18"},{letter:"\u0264\u031E",name:"Mid back unrounded",symbol:{entities:["&#612;","&#798;"],unicodes:["U+0264","U+031e"],names:["Latin Small Letter Rams Horn","Combining Down Tack Below"]},id:"vowel-19"},{letter:"o\u031E",name:"Mid back rounded",symbol:{entities:["&#111;","&#798;"],unicodes:["U+006f","U+031e"],names:["Latin Small Letter O","Combining Down Tack Below"]},id:"vowel-20"},{letter:"\u025B",name:"Open-mid front unrounded",symbol:{entities:["&#603;"],unicodes:["U+025b"],names:["Latin Small Letter Open E"]},id:"vowel-21"},{letter:"\u0153",name:"Open-mid front rounded",symbol:{entities:["&#339;"],unicodes:["U+0153"],names:["Latin Small Ligature Oe"]},id:"vowel-22"},{letter:"\u025C",name:"Open-mid central unrounded",symbol:{entities:["&#604;"],unicodes:["U+025c"],names:["Latin Small Letter Reversed Open E"]},id:"vowel-23"},{letter:"\u025E",name:"Open-mid central rounded",symbol:{entities:["&#606;"],unicodes:["U+025e"],names:["Latin Small Letter Closed Reversed Open E"]},id:"vowel-24"},{letter:"\u028C",name:"Open-mid back unrounded",symbol:{entities:["&#652;"],unicodes:["U+028c"],names:["Latin Small Letter Turned V"]},id:"vowel-25"},{letter:"\u0254",name:"Open-mid back rounded",symbol:{entities:["&#596;"],unicodes:["U+0254"],names:["Latin Small Letter Open O"]},id:"vowel-26"},{letter:"\xE6",name:"Near-open front unrounded",symbol:{entities:["&#230;"],unicodes:["U+00e6"],names:["Latin Small Letter Ae"]},id:"vowel-27"},{letter:"\u0250",name:"Near-open central",symbol:{entities:["&#592;"],unicodes:["U+0250"],names:["Latin Small Letter Turned A"]},id:"vowel-28"},{letter:"a",name:"Open front unrounded",symbol:{entities:["&#97;"],unicodes:["U+0061"],names:["Latin Small Letter A"]},id:"vowel-29"},{letter:"\u0276",name:"Open front rounded",symbol:{entities:["&#630;"],unicodes:["U+0276"],names:["Latin Letter Small Capital Oe"]},id:"vowel-30"},{letter:"\xE4",name:"Open central unrounded",symbol:{entities:["&#228;"],unicodes:["U+00e4"],names:["Latin Small Letter A with Diaeresis"]},id:"vowel-31"},{letter:"\u0251",name:"Open back unrounded",symbol:{entities:["&#593;"],unicodes:["U+0251"],names:["Latin Small Letter Alpha"]},id:"vowel-32"},{letter:"\u0252",name:"Open back rounded",symbol:{entities:["&#594;"],unicodes:["U+0252"],names:["Latin Small Letter Turned Alpha"]},id:"vowel-33"}];function mN(){let t=new Set,r=new Map;for(;t.size<10;){let d=new Set,u=1,g=fi.length,v=`vowel-${Kl(u,g+1)}`;for(t.add(v),d.add(v);d.size<5;){let T=`vowel-${Kl(u,g+1)}`;d.add(T)}let k=[...d].map(T=>fi.find(N=>N.id===T)).filter(T=>T!==void 0);r.set(v,k)}let i=[...t].map(d=>fi.find(u=>u.id===d)).filter(d=>d!==void 0),o=["letter","sound","name"],s=0,a=2;return i.map((d,u)=>{let g=new Set;for(;g.size<3;){let A=Kl(s,a+1);g.add(o[A])}let[v,...k]=[...g.values()],T=r.get(d.id).map(A=>it(I({},A),{type:Math.random()<.5?k[0]:k[1]}));return UC(T),{vowel:d,answered:!1,type:v,index:u,selectedAnswer:void 0,options:Object.fromEntries(T.map(A=>[A.id,A]))}})}function vN(n){let e=new Map;for(let t of n)for(let r of Object.values(t.options??{}))e.set(r.id,r);return e}async function rw(n,e){let t=vN(n),r=new Map;for(let i of t.values()){let o=await e.listSoundsByChars(i.letter),s=o.length>0?o:await e.listSoundsByUnicodes(i.symbol.unicodes);r.set(i.id,s)}for(let i of n){if(i.type==="sound"){let o=r.get(i.vowel.id);o&&o.length>0&&(i.vowel.sounds=o,i.vowel.soundIndex??=Kl(0,o.length))}for(let o of Object.values(i.options??{})){let s=r.get(o.id);s&&s?.length>0&&(o.sounds=s,o.soundIndex??=Kl(0,s.length))}}}async function iw(n){let e=mN();try{await rw(e,n)}catch(t){console.warn("[createQuestionsWithSounds] Unable to preload sounds; continuing without sound metadata.",t)}return e}var $C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qC={};var Gi,ow;(function(){var n;function e(C,y){function b(){}b.prototype=y.prototype,C.F=y.prototype,C.prototype=new b,C.prototype.constructor=C,C.D=function(S,E,R){for(var M=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)M[pn-2]=arguments[pn];return y.prototype[E].apply(S,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,y,b){b||(b=0);let S=Array(16);if(typeof y=="string")for(var E=0;E<16;++E)S[E]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(E=0;E<16;++E)S[E]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=C.g[0],b=C.g[1],E=C.g[2];let R=C.g[3],M;M=y+(R^b&(E^R))+S[0]+3614090360&4294967295,y=b+(M<<7&4294967295|M>>>25),M=R+(E^y&(b^E))+S[1]+3905402710&4294967295,R=y+(M<<12&4294967295|M>>>20),M=E+(b^R&(y^b))+S[2]+606105819&4294967295,E=R+(M<<17&4294967295|M>>>15),M=b+(y^E&(R^y))+S[3]+3250441966&4294967295,b=E+(M<<22&4294967295|M>>>10),M=y+(R^b&(E^R))+S[4]+4118548399&4294967295,y=b+(M<<7&4294967295|M>>>25),M=R+(E^y&(b^E))+S[5]+1200080426&4294967295,R=y+(M<<12&4294967295|M>>>20),M=E+(b^R&(y^b))+S[6]+2821735955&4294967295,E=R+(M<<17&4294967295|M>>>15),M=b+(y^E&(R^y))+S[7]+4249261313&4294967295,b=E+(M<<22&4294967295|M>>>10),M=y+(R^b&(E^R))+S[8]+1770035416&4294967295,y=b+(M<<7&4294967295|M>>>25),M=R+(E^y&(b^E))+S[9]+2336552879&4294967295,R=y+(M<<12&4294967295|M>>>20),M=E+(b^R&(y^b))+S[10]+4294925233&4294967295,E=R+(M<<17&4294967295|M>>>15),M=b+(y^E&(R^y))+S[11]+2304563134&4294967295,b=E+(M<<22&4294967295|M>>>10),M=y+(R^b&(E^R))+S[12]+1804603682&4294967295,y=b+(M<<7&4294967295|M>>>25),M=R+(E^y&(b^E))+S[13]+4254626195&4294967295,R=y+(M<<12&4294967295|M>>>20),M=E+(b^R&(y^b))+S[14]+2792965006&4294967295,E=R+(M<<17&4294967295|M>>>15),M=b+(y^E&(R^y))+S[15]+1236535329&4294967295,b=E+(M<<22&4294967295|M>>>10),M=y+(E^R&(b^E))+S[1]+4129170786&4294967295,y=b+(M<<5&4294967295|M>>>27),M=R+(b^E&(y^b))+S[6]+3225465664&4294967295,R=y+(M<<9&4294967295|M>>>23),M=E+(y^b&(R^y))+S[11]+643717713&4294967295,E=R+(M<<14&4294967295|M>>>18),M=b+(R^y&(E^R))+S[0]+3921069994&4294967295,b=E+(M<<20&4294967295|M>>>12),M=y+(E^R&(b^E))+S[5]+3593408605&4294967295,y=b+(M<<5&4294967295|M>>>27),M=R+(b^E&(y^b))+S[10]+38016083&4294967295,R=y+(M<<9&4294967295|M>>>23),M=E+(y^b&(R^y))+S[15]+3634488961&4294967295,E=R+(M<<14&4294967295|M>>>18),M=b+(R^y&(E^R))+S[4]+3889429448&4294967295,b=E+(M<<20&4294967295|M>>>12),M=y+(E^R&(b^E))+S[9]+568446438&4294967295,y=b+(M<<5&4294967295|M>>>27),M=R+(b^E&(y^b))+S[14]+3275163606&4294967295,R=y+(M<<9&4294967295|M>>>23),M=E+(y^b&(R^y))+S[3]+4107603335&4294967295,E=R+(M<<14&4294967295|M>>>18),M=b+(R^y&(E^R))+S[8]+1163531501&4294967295,b=E+(M<<20&4294967295|M>>>12),M=y+(E^R&(b^E))+S[13]+2850285829&4294967295,y=b+(M<<5&4294967295|M>>>27),M=R+(b^E&(y^b))+S[2]+4243563512&4294967295,R=y+(M<<9&4294967295|M>>>23),M=E+(y^b&(R^y))+S[7]+1735328473&4294967295,E=R+(M<<14&4294967295|M>>>18),M=b+(R^y&(E^R))+S[12]+2368359562&4294967295,b=E+(M<<20&4294967295|M>>>12),M=y+(b^E^R)+S[5]+4294588738&4294967295,y=b+(M<<4&4294967295|M>>>28),M=R+(y^b^E)+S[8]+2272392833&4294967295,R=y+(M<<11&4294967295|M>>>21),M=E+(R^y^b)+S[11]+1839030562&4294967295,E=R+(M<<16&4294967295|M>>>16),M=b+(E^R^y)+S[14]+4259657740&4294967295,b=E+(M<<23&4294967295|M>>>9),M=y+(b^E^R)+S[1]+2763975236&4294967295,y=b+(M<<4&4294967295|M>>>28),M=R+(y^b^E)+S[4]+1272893353&4294967295,R=y+(M<<11&4294967295|M>>>21),M=E+(R^y^b)+S[7]+4139469664&4294967295,E=R+(M<<16&4294967295|M>>>16),M=b+(E^R^y)+S[10]+3200236656&4294967295,b=E+(M<<23&4294967295|M>>>9),M=y+(b^E^R)+S[13]+681279174&4294967295,y=b+(M<<4&4294967295|M>>>28),M=R+(y^b^E)+S[0]+3936430074&4294967295,R=y+(M<<11&4294967295|M>>>21),M=E+(R^y^b)+S[3]+3572445317&4294967295,E=R+(M<<16&4294967295|M>>>16),M=b+(E^R^y)+S[6]+76029189&4294967295,b=E+(M<<23&4294967295|M>>>9),M=y+(b^E^R)+S[9]+3654602809&4294967295,y=b+(M<<4&4294967295|M>>>28),M=R+(y^b^E)+S[12]+3873151461&4294967295,R=y+(M<<11&4294967295|M>>>21),M=E+(R^y^b)+S[15]+530742520&4294967295,E=R+(M<<16&4294967295|M>>>16),M=b+(E^R^y)+S[2]+3299628645&4294967295,b=E+(M<<23&4294967295|M>>>9),M=y+(E^(b|~R))+S[0]+4096336452&4294967295,y=b+(M<<6&4294967295|M>>>26),M=R+(b^(y|~E))+S[7]+1126891415&4294967295,R=y+(M<<10&4294967295|M>>>22),M=E+(y^(R|~b))+S[14]+2878612391&4294967295,E=R+(M<<15&4294967295|M>>>17),M=b+(R^(E|~y))+S[5]+4237533241&4294967295,b=E+(M<<21&4294967295|M>>>11),M=y+(E^(b|~R))+S[12]+1700485571&4294967295,y=b+(M<<6&4294967295|M>>>26),M=R+(b^(y|~E))+S[3]+2399980690&4294967295,R=y+(M<<10&4294967295|M>>>22),M=E+(y^(R|~b))+S[10]+4293915773&4294967295,E=R+(M<<15&4294967295|M>>>17),M=b+(R^(E|~y))+S[1]+2240044497&4294967295,b=E+(M<<21&4294967295|M>>>11),M=y+(E^(b|~R))+S[8]+1873313359&4294967295,y=b+(M<<6&4294967295|M>>>26),M=R+(b^(y|~E))+S[15]+4264355552&4294967295,R=y+(M<<10&4294967295|M>>>22),M=E+(y^(R|~b))+S[6]+2734768916&4294967295,E=R+(M<<15&4294967295|M>>>17),M=b+(R^(E|~y))+S[13]+1309151649&4294967295,b=E+(M<<21&4294967295|M>>>11),M=y+(E^(b|~R))+S[4]+4149444226&4294967295,y=b+(M<<6&4294967295|M>>>26),M=R+(b^(y|~E))+S[11]+3174756917&4294967295,R=y+(M<<10&4294967295|M>>>22),M=E+(y^(R|~b))+S[2]+718787259&4294967295,E=R+(M<<15&4294967295|M>>>17),M=b+(R^(E|~y))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(E+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+E&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.v=function(C,y){y===void 0&&(y=C.length);let b=y-this.blockSize,S=this.C,E=this.h,R=0;for(;R<y;){if(E==0)for(;R<=b;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<y;)if(S[E++]=C.charCodeAt(R++),E==this.blockSize){i(this,S),E=0;break}}else for(;R<y;)if(S[E++]=C[R++],E==this.blockSize){i(this,S),E=0;break}}this.h=E,this.o+=y},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;y=this.o*8;for(var b=C.length-8;b<C.length;++b)C[b]=y&255,y/=256;for(this.v(C),C=Array(16),y=0,b=0;b<4;++b)for(let S=0;S<32;S+=8)C[y++]=this.g[b]>>>S&255;return C};function o(C,y){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=y(C)}function s(C,y){this.h=y;let b=[],S=!0;for(let E=C.length-1;E>=0;E--){let R=C[E]|0;S&&R==y||(b[E]=R,S=!1)}this.g=b}var a={};function c(C){return-128<=C&&C<128?o(C,function(y){return new s([y|0],y<0?-1:0)}):new s([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return g;if(C<0)return A(d(-C));let y=[],b=1;for(let S=0;C>=b;S++)y[S]=C/b|0,b*=4294967296;return new s(y,0)}function u(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return A(u(C.substring(1),y));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');let b=d(Math.pow(y,8)),S=g;for(let R=0;R<C.length;R+=8){var E=Math.min(8,C.length-R);let M=parseInt(C.substring(R,R+E),y);E<8?(E=d(Math.pow(y,E)),S=S.j(E).add(d(M))):(S=S.j(b),S=S.add(d(M)))}return S}var g=c(0),v=c(1),k=c(16777216);n=s.prototype,n.m=function(){if(N(this))return-A(this).m();let C=0,y=1;for(let b=0;b<this.g.length;b++){let S=this.i(b);C+=(S>=0?S:4294967296+S)*y,y*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(N(this))return"-"+A(this).toString(C);let y=d(Math.pow(C,6));var b=this;let S="";for(;;){let E=ot(b,y).g;b=H(b,E.j(y));let R=((b.g.length>0?b.g[0]:b.h)>>>0).toString(C);if(b=E,T(b))return R+S;for(;R.length<6;)R="0"+R;S=R+S}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(let y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function N(C){return C.h==-1}n.l=function(C){return C=H(this,C),N(C)?-1:T(C)?0:1};function A(C){let y=C.g.length,b=[];for(let S=0;S<y;S++)b[S]=~C.g[S];return new s(b,~C.h).add(v)}n.abs=function(){return N(this)?A(this):this},n.add=function(C){let y=Math.max(this.g.length,C.g.length),b=[],S=0;for(let E=0;E<=y;E++){let R=S+(this.i(E)&65535)+(C.i(E)&65535),M=(R>>>16)+(this.i(E)>>>16)+(C.i(E)>>>16);S=M>>>16,R&=65535,M&=65535,b[E]=M<<16|R}return new s(b,b[b.length-1]&-2147483648?-1:0)};function H(C,y){return C.add(A(y))}n.j=function(C){if(T(this)||T(C))return g;if(N(this))return N(C)?A(this).j(A(C)):A(A(this).j(C));if(N(C))return A(this.j(A(C)));if(this.l(k)<0&&C.l(k)<0)return d(this.m()*C.m());let y=this.g.length+C.g.length,b=[];for(var S=0;S<2*y;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(let E=0;E<C.g.length;E++){let R=this.i(S)>>>16,M=this.i(S)&65535,pn=C.i(E)>>>16,Yr=C.i(E)&65535;b[2*S+2*E]+=M*Yr,$(b,2*S+2*E),b[2*S+2*E+1]+=R*Yr,$(b,2*S+2*E+1),b[2*S+2*E+1]+=M*pn,$(b,2*S+2*E+1),b[2*S+2*E+2]+=R*pn,$(b,2*S+2*E+2)}for(C=0;C<y;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=y;C<2*y;C++)b[C]=0;return new s(b,0)};function $(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function G(C,y){this.g=C,this.h=y}function ot(C,y){if(T(y))throw Error("division by zero");if(T(C))return new G(g,g);if(N(C))return y=ot(A(C),y),new G(A(y.g),A(y.h));if(N(y))return y=ot(C,A(y)),new G(A(y.g),y.h);if(C.g.length>30){if(N(C)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var b=v,S=y;S.l(C)<=0;)b=yt(b),S=yt(S);var E=mt(b,1),R=mt(S,1);for(S=mt(S,2),b=mt(b,2);!T(S);){var M=R.add(S);M.l(C)<=0&&(E=E.add(b),R=M),S=mt(S,1),b=mt(b,1)}return y=H(C,E.j(y)),new G(E,y)}for(E=g;C.l(y)>=0;){for(b=Math.max(1,Math.floor(C.m()/y.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),R=d(b),M=R.j(y);N(M)||M.l(C)>0;)b-=S,R=d(b),M=R.j(y);T(R)&&(R=v),E=E.add(R),C=H(C,M)}return new G(E,C)}n.B=function(C){return ot(this,C).h},n.and=function(C){let y=Math.max(this.g.length,C.g.length),b=[];for(let S=0;S<y;S++)b[S]=this.i(S)&C.i(S);return new s(b,this.h&C.h)},n.or=function(C){let y=Math.max(this.g.length,C.g.length),b=[];for(let S=0;S<y;S++)b[S]=this.i(S)|C.i(S);return new s(b,this.h|C.h)},n.xor=function(C){let y=Math.max(this.g.length,C.g.length),b=[];for(let S=0;S<y;S++)b[S]=this.i(S)^C.i(S);return new s(b,this.h^C.h)};function yt(C){let y=C.g.length+1,b=[];for(let S=0;S<y;S++)b[S]=C.i(S)<<1|C.i(S-1)>>>31;return new s(b,C.h)}function mt(C,y){let b=y>>5;y%=32;let S=C.g.length-b,E=[];for(let R=0;R<S;R++)E[R]=y>0?C.i(R+b)>>>y|C.i(R+b+1)<<32-y:C.i(R+b);return new s(E,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ow=qC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=u,Gi=qC.Integer=s}).apply(typeof $C<"u"?$C:typeof self<"u"?self:typeof window<"u"?window:{});var f2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wi={};var sw,wN,Yl,aw,Eh,m2,lw,cw,dw;(function(){var n,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof f2=="object"&&f2];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)t:{var p=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var D=l[w];if(!(D in p))break t;p=p[D]}l=l[l.length-1],w=p[l],h=h(w),h!=w&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(h){var p=[],w;for(w in h)Object.prototype.hasOwnProperty.call(h,w)&&p.push([w,h[w]]);return p}});var o=o||{},s=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function c(l,h,p){return l.call.apply(l.bind,arguments)}function d(l,h,p){return d=c,d.apply(null,arguments)}function u(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function g(l,h){function p(){}p.prototype=h.prototype,l.Z=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(w,D,B){for(var Q=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)Q[Vt-2]=arguments[Vt];return h.prototype[D].apply(w,Q)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function k(l){let h=l.length;if(h>0){let p=Array(h);for(let w=0;w<h;w++)p[w]=l[w];return p}return[]}function T(l,h){for(let w=1;w<arguments.length;w++){let D=arguments[w];var p=typeof D;if(p=p!="object"?p:D?Array.isArray(D)?"array":p:"null",p=="array"||p=="object"&&typeof D.length=="number"){p=l.length||0;let B=D.length||0;l.length=p+B;for(let Q=0;Q<B;Q++)l[p+Q]=D[Q]}else l.push(D)}}class N{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function A(l){s.setTimeout(()=>{throw l},0)}function H(){var l=C;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class ${constructor(){this.h=this.g=null}add(h,p){let w=G.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var G=new N(()=>new ot,l=>l.reset());class ot{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,mt=!1,C=new $,y=()=>{let l=Promise.resolve(void 0);yt=()=>{l.then(b)}};function b(){for(var l;l=H();){try{l.h.call(l.g)}catch(p){A(p)}var h=G;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}mt=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};s.addEventListener("test",p,h),s.removeEventListener("test",p,h)}catch{}return l})();function M(l){return/^[\s\xa0]*$/.test(l)}function pn(l,h){E.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}g(pn,E),pn.prototype.init=function(l,h){let p=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&pn.Z.h.call(this)},pn.prototype.h=function(){pn.Z.h.call(this);let l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Yr="closure_listenable_"+(Math.random()*1e6|0),_u=0;function tg(l,h,p,w,D){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=D,this.key=++_u,this.da=this.fa=!1}function vs(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Aa(l,h,p){for(let w in l)h.call(p,l[w],w,l)}function eg(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function Xi(l){let h={};for(let p in l)h[p]=l[p];return h}let yu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta(l,h){let p,w;for(let D=1;D<arguments.length;D++){w=arguments[D];for(p in w)l[p]=w[p];for(let B=0;B<yu.length;B++)p=yu[B],Object.prototype.hasOwnProperty.call(w,p)&&(l[p]=w[p])}}function Da(l){this.src=l,this.g={},this.h=0}Da.prototype.add=function(l,h,p,w,D){let B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);let Q=ze(l,h,w,D);return Q>-1?(h=l[Q],p||(h.fa=!1)):(h=new tg(h,this.src,B,!!w,D),h.fa=p,l.push(h)),h};function jc(l,h){let p=h.type;if(p in l.g){var w=l.g[p],D=Array.prototype.indexOf.call(w,h,void 0),B;(B=D>=0)&&Array.prototype.splice.call(w,D,1),B&&(vs(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function ze(l,h,p,w){for(let D=0;D<l.length;++D){let B=l[D];if(!B.da&&B.listener==h&&B.capture==!!p&&B.ha==w)return D}return-1}var br="closure_lm_"+(Math.random()*1e6|0),ue={};function rn(l,h,p,w,D){if(w&&w.once)return Ji(l,h,p,w,D);if(Array.isArray(h)){for(let B=0;B<h.length;B++)rn(l,h[B],p,w,D);return null}return p=eo(p),l&&l[Yr]?l.J(h,p,a(w)?!!w.capture:!!w,D):ws(l,h,p,!1,w,D)}function ws(l,h,p,w,D,B){if(!h)throw Error("Invalid event type");let Q=a(D)?!!D.capture:!!D,Vt=Ra(l);if(Vt||(l[br]=Vt=new Da(l)),p=Vt.add(h,p,w,Q,B),p.proxy)return p;if(w=_s(),p.proxy=w,w.src=l,w.listener=p,l.addEventListener)R||(D=Q),D===void 0&&(D=!1),l.addEventListener(h.toString(),w,D);else if(l.attachEvent)l.attachEvent(Nn(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _s(){function l(p){return h.call(l.src,l.listener,p)}let h=bi;return l}function Ji(l,h,p,w,D){if(Array.isArray(h)){for(let B=0;B<h.length;B++)Ji(l,h[B],p,w,D);return null}return p=eo(p),l&&l[Yr]?l.K(h,p,a(w)?!!w.capture:!!w,D):ws(l,h,p,!0,w,D)}function to(l,h,p,w,D){if(Array.isArray(h))for(var B=0;B<h.length;B++)to(l,h[B],p,w,D);else w=a(w)?!!w.capture:!!w,p=eo(p),l&&l[Yr]?(l=l.i,B=String(h).toString(),B in l.g&&(h=l.g[B],p=ze(h,p,w,D),p>-1&&(vs(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete l.g[B],l.h--)))):l&&(l=Ra(l))&&(h=l.g[h.toString()],l=-1,h&&(l=ze(h,p,w,D)),(p=l>-1?h[l]:null)&&ki(p))}function ki(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Yr])jc(h.i,l);else{var p=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(p,w,l.capture):h.detachEvent?h.detachEvent(Nn(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=Ra(h))?(jc(p,l),p.h==0&&(p.src=null,h[br]=null)):vs(l)}}}function Nn(l){return l in ue?ue[l]:ue[l]="on"+l}function bi(l,h){if(l.da)l=!0;else{h=new pn(h,this);let p=l.listener,w=l.ha||l.src;l.fa&&ki(l),l=p.call(w,h)}return l}function Ra(l){return l=l[br],l instanceof Da?l:null}var Pa="__closure_events_fn_"+(Math.random()*1e9>>>0);function eo(l){return typeof l=="function"?l:(l[Pa]||(l[Pa]=function(h){return l.handleEvent(h)}),l[Pa])}function ne(){S.call(this),this.i=new Da(this),this.M=this,this.G=null}g(ne,S),ne.prototype[Yr]=!0,ne.prototype.removeEventListener=function(l,h,p,w){to(this,l,h,p,w)};function on(l,h){var p,w=l.G;if(w)for(p=[];w;w=w.G)p.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new E(h,l);else if(h instanceof E)h.target=h.target||l;else{var D=h;h=new E(w,l),Ta(h,D)}D=!0;let B,Q;if(p)for(Q=p.length-1;Q>=0;Q--)B=h.g=p[Q],D=Oa(B,w,!0,h)&&D;if(B=h.g=l,D=Oa(B,w,!0,h)&&D,D=Oa(B,w,!1,h)&&D,p)for(Q=0;Q<p.length;Q++)B=h.g=p[Q],D=Oa(B,w,!1,h)&&D}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var l=this.i;for(let h in l.g){let p=l.g[h];for(let w=0;w<p.length;w++)vs(p[w]);delete l.g[h],l.h--}}this.G=null},ne.prototype.J=function(l,h,p,w){return this.i.add(String(l),h,!1,p,w)},ne.prototype.K=function(l,h,p,w){return this.i.add(String(l),h,!0,p,w)};function Oa(l,h,p,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let D=!0;for(let B=0;B<h.length;++B){let Q=h[B];if(Q&&!Q.da&&Q.capture==p){let Vt=Q.listener,He=Q.ha||Q.src;Q.fa&&jc(l.i,Q),D=Vt.call(He,w)!==!1&&D}}return D&&!w.defaultPrevented}function ng(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:s.setTimeout(l,h||0)}function ku(l){l.g=ng(()=>{l.g=null,l.i&&(l.i=!1,ku(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class rg extends S{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(l){S.call(this),this.h=l,this.g={}}g(no,S);var zc=[];function Hc(l){Aa(l.g,function(h,p){this.g.hasOwnProperty(p)&&ki(h)},l),l.g={}}no.prototype.N=function(){no.Z.N.call(this),Hc(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ba=s.JSON.stringify,Na=s.JSON.parse,Uc=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function bu(){}function xu(){}var ys={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $c(){E.call(this,"d")}g($c,E);function qc(){E.call(this,"c")}g(qc,E);var ir={},Mu=null;function Va(){return Mu=Mu||new ne}ir.Ia="serverreachability";function Gc(l){E.call(this,ir.Ia,l)}g(Gc,E);function ro(l){let h=Va();on(h,new Gc(h))}ir.STAT_EVENT="statevent";function Fa(l,h){E.call(this,ir.STAT_EVENT,l),this.stat=h}g(Fa,E);function sn(l){let h=Va();on(h,new Fa(h,l))}ir.Ja="timingevent";function Cu(l,h){E.call(this,ir.Ja,l),this.size=h}g(Cu,E);function ks(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},h)}function io(){this.g=!0}io.prototype.ua=function(){this.g=!1};function ig(l,h,p,w,D,B){l.info(function(){if(l.g)if(B){var Q="",Vt=B.split("&");for(let ae=0;ae<Vt.length;ae++){var He=Vt[ae].split("=");if(He.length>1){let Ye=He[0];He=He[1];let ei=Ye.split("_");Q=ei.length>=2&&ei[1]=="type"?Q+(Ye+"="+He+"&"):Q+(Ye+"=redacted&")}}}else Q=null;else Q=B;return"XMLHTTP REQ ("+w+") [attempt "+D+"]: "+h+`
`+p+`
`+Q})}function og(l,h,p,w,D,B,Q){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+D+"]: "+h+`
`+p+`
`+B+" "+Q})}function oo(l,h,p,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+sg(l,p)+(w?" "+w:"")})}function La(l,h){l.info(function(){return"TIMEOUT: "+h})}io.prototype.info=function(){};function sg(l,h){if(!l.g)return h;if(!h)return null;try{let B=JSON.parse(h);if(B){for(l=0;l<B.length;l++)if(Array.isArray(B[l])){var p=B[l];if(!(p.length<2)){var w=p[1];if(Array.isArray(w)&&!(w.length<1)){var D=w[0];if(D!="noop"&&D!="stop"&&D!="close")for(let Q=1;Q<w.length;Q++)w[Q]=""}}}}return Ba(B)}catch{return h}}var ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},za;function Qc(){}g(Qc,bu),Qc.prototype.g=function(){return new XMLHttpRequest},za=new Qc;function so(l){return encodeURIComponent(String(l))}function ag(l){var h=1;l=l.split(":");let p=[];for(;h>0&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function xr(l,h,p,w){this.j=l,this.i=h,this.l=p,this.S=w||1,this.V=new no(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kc}function Kc(){this.i=null,this.g="",this.h=!1}var Yc={},Ha={};function bs(l,h,p){l.M=1,l.A=Ga(Dn(h)),l.u=p,l.R=!0,Zr(l,null)}function Zr(l,h){l.F=Date.now(),lo(l),l.B=Dn(l.A);var p=l.B,w=l.S;Array.isArray(w)||(w=[String(w)]),De(p.i,"t",w),l.C=0,p=l.j.L,l.h=new Kc,l.g=_4(l.j,p?h:null,!l.u),l.P>0&&(l.O=new rg(d(l.Y,l,l.g),l.P)),h=l.V,p=l.g,w=l.ba;var D="readystatechange";Array.isArray(D)||(D&&(zc[0]=D.toString()),D=zc);for(let B=0;B<D.length;B++){let Q=rn(p,D[B],w||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=l.J?Xi(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),ro(),ig(l.i,l.v,l.B,l.l,l.S,l.u)}xr.prototype.ba=function(l){l=l.target;let h=this.O;h&&go(l)==3?h.j():this.Y(l)},xr.prototype.Y=function(l){try{if(l==this.g)t:{let Vt=go(this.g),He=this.g.ya(),ae=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||l4(this.g)))){this.K||Vt!=4||He==7||(He==8||ae<=0?ro(3):ro(2)),Zc(this);var h=this.g.ca();this.X=h;var p=xs(this);if(this.o=h==200,og(this.i,this.v,this.B,this.l,this.S,Vt,h),this.o){if(this.U&&!this.L){e:{if(this.g){var w,D=this.g;if((w=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(w)){var B=w;break e}}B=null}if(l=B)oo(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Jr(this,l);else{this.o=!1,this.m=3,sn(12),Te(this),Xr(this);break t}}if(this.R){l=!0;let Ye;for(;!this.K&&this.C<p.length;)if(Ye=Ua(this,p),Ye==Ha){Vt==4&&(this.m=4,sn(14),l=!1),oo(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==Yc){this.m=4,sn(15),oo(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else oo(this.i,this.l,Ye,null),Jr(this,Ye);if(ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||p.length!=0||this.h.h||(this.m=1,sn(16),l=!1),this.o=this.o&&l,!l)oo(this.i,this.l,p,"[Invalid Chunked Response]"),Te(this),Xr(this);else if(p.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),ug(Q),Q.P=!0,sn(11))}}else oo(this.i,this.l,p,null),Jr(this,p);Vt==4&&Te(this),this.o&&!this.K&&(Vt==4?f4(this.j,this):(this.o=!1,lo(this)))}else VI(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Te(this),Xr(this)}}}catch{}finally{}};function xs(l){if(!ao(l))return l.g.la();let h=l4(l.g);if(h==="")return"";let p="",w=h.length,D=go(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Te(l),Xr(l),"";l.h.i=new s.TextDecoder}for(let B=0;B<w;B++)l.h.h=!0,p+=l.h.i.decode(h[B],{stream:!(D&&B==w-1)});return h.length=0,l.h.g+=p,l.C=0,l.h.g}function ao(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Ua(l,h){var p=l.C,w=h.indexOf(`
`,p);return w==-1?Ha:(p=Number(h.substring(p,w)),isNaN(p)?Yc:(w+=1,w+p>h.length?Ha:(h=h.slice(w,w+p),l.C=w+p,h)))}xr.prototype.cancel=function(){this.K=!0,Te(this)};function lo(l){l.T=Date.now()+l.H,Eu(l,l.H)}function Eu(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ks(d(l.aa,l),h)}function Zc(l){l.D&&(s.clearTimeout(l.D),l.D=null)}xr.prototype.aa=function(){this.D=null;let l=Date.now();l-this.T>=0?(La(this.i,this.B),this.M!=2&&(ro(),sn(17)),Te(this),this.m=2,Xr(this)):Eu(this,this.T-l)};function Xr(l){l.j.I==0||l.K||f4(l.j,l)}function Te(l){Zc(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,Hc(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Jr(l,h){try{var p=l.j;if(p.I!=0&&(p.g==l||Fn(p.h,l))){if(!l.L&&Fn(p.h,l)&&p.I==3){try{var w=p.Ba.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var D=w;if(D[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)Ou(p),Ru(p);else break t;hg(p),sn(18)}}else p.xa=D[1],0<p.xa-p.K&&D[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ks(d(p.Va,p),6e3));Vn(p.h)<=1&&p.ta&&(p.ta=void 0)}else Cs(p,11)}else if((l.L||p.g==l)&&Ou(p),!M(h))for(D=p.Ba.g.parse(h),h=0;h<D.length;h++){let ae=D[h],Ye=ae[0];if(!(Ye<=p.K))if(p.K=Ye,ae=ae[1],p.I==2)if(ae[0]=="c"){p.M=ae[1],p.ba=ae[2];let ei=ae[3];ei!=null&&(p.ka=ei,p.j.info("VER="+p.ka));let Es=ae[4];Es!=null&&(p.za=Es,p.j.info("SVER="+p.za));let fo=ae[5];fo!=null&&typeof fo=="number"&&fo>0&&(w=1.5*fo,p.O=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;let mo=l.g;if(mo){let Nu=mo.g?mo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nu){var B=w.h;B.g||Nu.indexOf("spdy")==-1&&Nu.indexOf("quic")==-1&&Nu.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&($a(B,B.h),B.h=null))}if(w.G){let pg=mo.g?mo.g.getResponseHeader("X-HTTP-Session-Id"):null;pg&&(w.wa=pg,Wt(w.J,w.G,pg))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),w=p;var Q=l;if(w.na=w4(w,w.L?w.ba:null,w.W),Q.L){Xc(w.h,Q);var Vt=Q,He=w.O;He&&(Vt.H=He),Vt.D&&(Zc(Vt),lo(Vt)),w.g=Q}else p4(w);p.i.length>0&&Pu(p)}else ae[0]!="stop"&&ae[0]!="close"||Cs(p,7);else p.I==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Cs(p,7):dg(p):ae[0]!="noop"&&p.l&&p.l.qa(ae),p.A=0)}}ro(4)}catch{}}var ti=class{constructor(l,h){this.g=l,this.map=h}};function or(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function co(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Vn(l){return l.h?1:l.g?l.g.size:0}function Fn(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function $a(l,h){l.g?l.g.add(h):l.h=h}function Xc(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}or.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Ms(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.G);return h}return k(l.i)}var Tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(l,h){if(l){l=l.split("&");for(let p=0;p<l.length;p++){let w=l[p].indexOf("="),D,B=null;w>=0?(D=l[p].substring(0,w),B=l[p].substring(w+1)):D=l[p],h(D,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function sr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof sr?(this.l=l.l,xi(this,l.j),this.o=l.o,this.g=l.g,Mi(this,l.u),this.h=l.h,ho(this,Ke(l.i)),this.m=l.m):l&&(h=String(l).match(Tn))?(this.l=!1,xi(this,h[1]||"",!0),this.o=uo(h[2]||""),this.g=uo(h[3]||"",!0),Mi(this,h[4]),this.h=uo(h[5]||"",!0),ho(this,h[6]||"",!0),this.m=uo(h[7]||"")):(this.l=!1,this.i=new P(null,this.l))}sr.prototype.toString=function(){let l=[];var h=this.j;h&&l.push(Ci(h,Su,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ci(h,Su,!0),"@"),l.push(so(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Ci(p,p.charAt(0)=="/"?m:lg,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Ci(p,x)),l.join("")},sr.prototype.resolve=function(l){let h=Dn(this),p=!!l.j;p?xi(h,l.j):p=!!l.o,p?h.o=l.o:p=!!l.g,p?h.g=l.g:p=l.u!=null;var w=l.h;if(p)Mi(h,l.u);else if(p=!!l.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var D=h.h.lastIndexOf("/");D!=-1&&(w=h.h.slice(0,D+1)+w)}if(D=w,D==".."||D==".")w="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){w=D.lastIndexOf("/",0)==0,D=D.split("/");let B=[];for(let Q=0;Q<D.length;){let Vt=D[Q++];Vt=="."?w&&Q==D.length&&B.push(""):Vt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),w&&Q==D.length&&B.push("")):(B.push(Vt),w=!0)}w=B.join("/")}else w=D}return p?h.h=w:p=l.i.toString()!=="",p?ho(h,Ke(l.i)):p=!!l.m,p&&(h.m=l.m),h};function Dn(l){return new sr(l)}function xi(l,h,p){l.j=p?uo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Mi(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function ho(l,h,p){h instanceof P?(l.i=h,DI(l.i,l.l)):(p||(h=Ci(h,_)),l.i=new P(h,l.l))}function Wt(l,h,p){l.i.set(h,p)}function Ga(l){return Wt(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function uo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ci(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,Iu),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Iu(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Su=/[#\/\?@]/g,lg=/[#\?:]/g,m=/[#\?]/g,_=/[#\?@]/g,x=/#/g;function P(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function q(l){l.g||(l.g=new Map,l.h=0,l.i&&qa(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=P.prototype,n.add=function(l,h){q(this),this.i=null,l=an(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function X(l,h){q(l),h=an(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Nt(l,h){return q(l),h=an(l,h),l.g.has(h)}n.forEach=function(l,h){q(this),this.g.forEach(function(p,w){p.forEach(function(D){l.call(h,D,w,this)},this)},this)};function Ce(l,h){q(l);let p=[];if(typeof h=="string")Nt(l,h)&&(p=p.concat(l.g.get(an(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)p=p.concat(l[h]);return p}n.set=function(l,h){return q(this),this.i=null,l=an(this,l),Nt(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=Ce(this,l),l.length>0?String(l[0]):h):h};function De(l,h,p){X(l,h),p.length>0&&(l.i=null,l.g.set(an(l,h),k(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(let w=0;w<h.length;w++){var p=h[w];let D=so(p);p=Ce(this,p);for(let B=0;B<p.length;B++){let Q=D;p[B]!==""&&(Q+="="+so(p[B])),l.push(Q)}}return this.i=l.join("&")};function Ke(l){let h=new P;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function an(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function DI(l,h){h&&!l.j&&(q(l),l.i=null,l.g.forEach(function(p,w){let D=w.toLowerCase();w!=D&&(X(this,w),De(this,D,p))},l)),l.j=h}function RI(l,h){let p=new io;if(s.Image){let w=new Image;w.onload=u(po,p,"TestLoadImage: loaded",!0,h,w),w.onerror=u(po,p,"TestLoadImage: error",!1,h,w),w.onabort=u(po,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=u(po,p,"TestLoadImage: timeout",!1,h,w),s.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function PI(l,h){let p=new io,w=new AbortController,D=setTimeout(()=>{w.abort(),po(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(B=>{clearTimeout(D),B.ok?po(p,"TestPingServer: ok",!0,h):po(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),po(p,"TestPingServer: error",!1,h)})}function po(l,h,p,w,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),w(p)}catch{}}function OI(){this.g=new Uc}function Au(l){this.i=l.Sb||null,this.h=l.ab||!1}g(Au,bu),Au.prototype.g=function(){return new Tu(this.i,this.h)};function Tu(l,h){ne.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Tu,ne),n=Tu.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,td(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||s).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Jc(this)),this.readyState=0},n.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,td(this)),this.g&&(this.readyState=3,td(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;r4(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function r4(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}n.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Jc(this):td(this),this.readyState==3&&r4(this)}},n.Oa=function(l){this.g&&(this.response=this.responseText=l,Jc(this))},n.Na=function(l){this.g&&(this.response=l,Jc(this))},n.ga=function(){this.g&&Jc(this)};function Jc(l){l.readyState=4,l.l=null,l.j=null,l.B=null,td(l)}n.setRequestHeader=function(l,h){this.A.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function td(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function i4(l){let h="";return Aa(l,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function cg(l,h,p){t:{for(w in p){var w=!1;break t}w=!0}w||(p=i4(p),typeof l=="string"?p!=null&&so(p):Wt(l,h,p))}function ke(l){ne.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ke,ne);var BI=/^https?$/i,NI=["POST","PUT"];n=ke.prototype,n.Fa=function(l){this.H=l},n.ea=function(l,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():za.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(B){o4(this,B);return}if(l=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var D in w)p.set(D,w[D]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let B of w.keys())p.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),D=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(NI,h,void 0)>=0)||w||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[B,Q]of p)this.g.setRequestHeader(B,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(B){o4(this,B)}};function o4(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,s4(l),Du(l)}function s4(l){l.A||(l.A=!0,on(l,"complete"),on(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,on(this,"complete"),on(this,"abort"),Du(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Du(this,!0)),ke.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?a4(this):this.Xa())},n.Xa=function(){a4(this)};function a4(l){if(l.h&&typeof o<"u"){if(l.v&&go(l)==4)setTimeout(l.Ca.bind(l),0);else if(on(l,"readystatechange"),go(l)==4){l.h=!1;try{let B=l.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var p;if(!(p=h)){var w;if(w=B===0){let Q=String(l.D).match(Tn)[1]||null;!Q&&s.self&&s.self.location&&(Q=s.self.location.protocol.slice(0,-1)),w=!BI.test(Q?Q.toLowerCase():"")}p=w}if(p)on(l,"complete"),on(l,"success");else{l.o=6;try{var D=go(l)>2?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.ca()+"]",s4(l)}}finally{Du(l)}}}}function Du(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);let p=l.g;l.g=null,h||on(l,"ready");try{p.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function go(l){return l.g?l.g.readyState:0}n.ca=function(){try{return go(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Na(h)}};function l4(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function VI(l){let h={};l=(l.g&&go(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(M(l[w]))continue;var p=ag(l[w]);let D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let B=h[D]||[];h[D]=B,B.push(p)}eg(h,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ed(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function c4(l){this.za=0,this.i=[],this.j=new io,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ed("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ed("baseRetryDelayMs",5e3,l),this.Za=ed("retryDelaySeedMs",1e4,l),this.Ta=ed("forwardChannelMaxRetries",2,l),this.va=ed("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new or(l&&l.concurrentRequestLimit),this.Ba=new OI,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=c4.prototype,n.ka=8,n.I=1,n.connect=function(l,h,p,w){sn(0),this.W=l,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.J=w4(this,null,this.W),Pu(this)};function dg(l){if(d4(l),l.I==3){var h=l.V++,p=Dn(l.J);if(Wt(p,"SID",l.M),Wt(p,"RID",h),Wt(p,"TYPE","terminate"),nd(l,p),h=new xr(l,l.j,h),h.M=2,h.A=Ga(Dn(p)),p=!1,s.navigator&&s.navigator.sendBeacon)try{p=s.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&s.Image&&(new Image().src=h.A,p=!0),p||(h.g=_4(h.j,null),h.g.ea(h.A)),h.F=Date.now(),lo(h)}v4(l)}function Ru(l){l.g&&(ug(l),l.g.cancel(),l.g=null)}function d4(l){Ru(l),l.v&&(s.clearTimeout(l.v),l.v=null),Ou(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function Pu(l){if(!co(l.h)&&!l.m){l.m=!0;var h=l.Ea;yt||y(),mt||(yt(),mt=!0),C.add(h,l),l.D=0}}function FI(l,h){return Vn(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ks(d(l.Ea,l,h),m4(l,l.D)),l.D++,!0)}n.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;let D=new xr(this,this.j,l),B=this.o;if(this.U&&(B?(B=Xi(B),Ta(B,this.U)):B=this.U),this.u!==null||this.R||(D.J=B,B=null),this.S)t:{for(var h=0,p=0;p<this.i.length;p++){e:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(h+=w,h>4096){h=p;break t}if(h===4096||p===this.i.length-1){h=p+1;break t}}h=1e3}else h=1e3;h=u4(this,D,h),p=Dn(this.J),Wt(p,"RID",l),Wt(p,"CVER",22),this.G&&Wt(p,"X-HTTP-Session-Id",this.G),nd(this,p),B&&(this.R?h="headers="+so(i4(B))+"&"+h:this.u&&cg(p,this.u,B)),$a(this.h,D),this.Ra&&Wt(p,"TYPE","init"),this.S?(Wt(p,"$req",h),Wt(p,"SID","null"),D.U=!0,bs(D,p,null)):bs(D,p,h),this.I=2}}else this.I==3&&(l?h4(this,l):this.i.length==0||co(this.h)||h4(this))};function h4(l,h){var p;h?p=h.l:p=l.V++;let w=Dn(l.J);Wt(w,"SID",l.M),Wt(w,"RID",p),Wt(w,"AID",l.K),nd(l,w),l.u&&l.o&&cg(w,l.u,l.o),p=new xr(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),h&&(l.i=h.G.concat(l.i)),h=u4(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),$a(l.h,p),bs(p,w,h)}function nd(l,h){l.H&&Aa(l.H,function(p,w){Wt(h,w,p)}),l.l&&Aa({},function(p,w){Wt(h,w,p)})}function u4(l,h,p){p=Math.min(l.i.length,p);let w=l.l?d(l.l.Ka,l.l,l):null;t:{var D=l.i;let Vt=-1;for(;;){let He=["count="+p];Vt==-1?p>0?(Vt=D[0].g,He.push("ofs="+Vt)):Vt=0:He.push("ofs="+Vt);let ae=!0;for(let Ye=0;Ye<p;Ye++){var B=D[Ye].g;let ei=D[Ye].map;if(B-=Vt,B<0)Vt=Math.max(0,D[Ye].g-100),ae=!1;else try{B="req"+B+"_"||"";try{var Q=ei instanceof Map?ei:Object.entries(ei);for(let[Es,fo]of Q){let mo=fo;a(fo)&&(mo=Ba(fo)),He.push(B+Es+"="+encodeURIComponent(mo))}}catch(Es){throw He.push(B+"type="+encodeURIComponent("_badmap")),Es}}catch{w&&w(ei)}}if(ae){Q=He.join("&");break t}}Q=void 0}return l=l.i.splice(0,p),h.G=l,Q}function p4(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;yt||y(),mt||(yt(),mt=!0),C.add(h,l),l.A=0}}function hg(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ks(d(l.Da,l),m4(l,l.A)),l.A++,!0)}n.Da=function(){if(this.v=null,g4(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ks(d(this.Wa,this),l)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),Ru(this),g4(this))};function ug(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function g4(l){l.g=new xr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Dn(l.na);Wt(h,"RID","rpc"),Wt(h,"SID",l.M),Wt(h,"AID",l.K),Wt(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Wt(h,"TO",l.ia),Wt(h,"TYPE","xmlhttp"),nd(l,h),l.u&&l.o&&cg(h,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=Ga(Dn(h)),p.u=null,p.R=!0,Zr(p,l)}n.Va=function(){this.C!=null&&(this.C=null,Ru(this),hg(this),sn(19))};function Ou(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function f4(l,h){var p=null;if(l.g==h){Ou(l),ug(l),l.g=null;var w=2}else if(Fn(l.h,h))p=h.G,Xc(l.h,h),w=1;else return;if(l.I!=0){if(h.o)if(w==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var D=l.D;w=Va(),on(w,new Cu(w,p)),Pu(l)}else p4(l);else if(D=h.m,D==3||D==0&&h.X>0||!(w==1&&FI(l,h)||w==2&&hg(l)))switch(p&&p.length>0&&(h=l.h,h.i=h.i.concat(p)),D){case 1:Cs(l,5);break;case 4:Cs(l,10);break;case 3:Cs(l,6);break;default:Cs(l,2)}}}function m4(l,h){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*h}function Cs(l,h){if(l.j.info("Error code "+h),h==2){var p=d(l.bb,l),w=l.Ua;let D=!w;w=new sr(w||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||xi(w,"https"),Ga(w),D?RI(w.toString(),p):PI(w.toString(),p)}else sn(2);l.I=0,l.l&&l.l.pa(h),v4(l),d4(l)}n.bb=function(l){l?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function v4(l){if(l.I=0,l.ja=[],l.l){let h=Ms(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ja,h),T(l.ja,l.i),l.h.i.length=0,k(l.i),l.i.length=0),l.l.oa()}}function w4(l,h,p){var w=p instanceof sr?Dn(p):new sr(p);if(w.g!="")h&&(w.g=h+"."+w.g),Mi(w,w.u);else{var D=s.location;w=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;let B=new sr(null);w&&xi(B,w),h&&(B.g=h),D&&Mi(B,D),p&&(B.h=p),w=B}return p=l.G,h=l.wa,p&&h&&Wt(w,p,h),Wt(w,"VER",l.ka),nd(l,w),w}function _4(l,h,p){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new ke(new Au({ab:p})):new ke(l.ma),h.Fa(l.L),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function y4(){}n=y4.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Bu(){}Bu.prototype.g=function(l,h){return new Ln(l,h)};function Ln(l,h){ne.call(this),this.g=new c4(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!M(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!M(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Wa(this)}g(Ln,ne),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){dg(this.g)},Ln.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Ba(l),l=p);h.i.push(new ti(h.Ya++,l)),h.I==3&&Pu(h)},Ln.prototype.N=function(){this.g.l=null,delete this.j,dg(this.g),delete this.g,Ln.Z.N.call(this)};function k4(l){$c.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){t:{for(let p in h){l=p;break t}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}g(k4,$c);function b4(){qc.call(this),this.status=1}g(b4,qc);function Wa(l){this.g=l}g(Wa,y4),Wa.prototype.ra=function(){on(this.g,"a")},Wa.prototype.qa=function(l){on(this.g,new k4(l))},Wa.prototype.pa=function(l){on(this.g,new b4)},Wa.prototype.oa=function(){on(this.g,"b")},Bu.prototype.createWebChannel=Bu.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,dw=Wi.createWebChannelTransport=function(){return new Bu},cw=Wi.getStatEventTarget=function(){return Va()},lw=Wi.Event=ir,m2=Wi.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,Eh=Wi.ErrorCode=ja,Wc.COMPLETE="complete",aw=Wi.EventType=Wc,xu.EventType=ys,ys.OPEN="a",ys.CLOSE="b",ys.ERROR="c",ys.MESSAGE="d",ne.prototype.listen=ne.prototype.J,Yl=Wi.WebChannel=xu,wN=Wi.FetchXmlHttpFactory=Au,ke.prototype.listenOnce=ke.prototype.K,ke.prototype.getLastError=ke.prototype.Ha,ke.prototype.getLastErrorCode=ke.prototype.ya,ke.prototype.getStatus=ke.prototype.ca,ke.prototype.getResponseJson=ke.prototype.La,ke.prototype.getResponseText=ke.prototype.la,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Fa,sw=Wi.XhrIo=ke}).apply(typeof f2<"u"?f2:typeof self<"u"?self:typeof window<"u"?window:{});var GC="@firebase/firestore",WC="4.9.3";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Pc="12.7.0";var ga=new Ho("@firebase/firestore");function rc(){return ga.logLevel}function W(n,...e){if(ga.logLevel<=Ht.DEBUG){let t=e.map(py);ga.debug(`Firestore (${Pc}): ${n}`,...t)}}function In(n,...e){if(ga.logLevel<=Ht.ERROR){let t=e.map(py);ga.error(`Firestore (${Pc}): ${n}`,...t)}}function fa(n,...e){if(ga.logLevel<=Ht.WARN){let t=e.map(py);ga.warn(`Firestore (${Pc}): ${n}`,...t)}}function py(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function at(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,e6(n,r,t)}function e6(n,e,t){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw In(r),new Error(r)}function ht(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||e6(e,i,r)}function Dt(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},et=class extends Yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Lr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var T2=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ww=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qe.UNAUTHENTICATED))}shutdown(){}},_w=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},yw=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new T2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new qe(e)}},kw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},bw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new kw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},D2=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D2(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new D2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _N(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var zh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=_N(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Tt(n,e){return n<e?-1:n>e?1:0}function Mw(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return hw(i)===hw(o)?Tt(i,o):hw(i)?1:-1}return Tt(n.length,e.length)}var yN=55296,kN=57343;function hw(n){let e=n.charCodeAt(0);return e>=yN&&e<=kN}function uc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function n6(n){return n+"\0"}var QC="__name__",R2=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&at(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&at(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Tt(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Mw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}},de=class n extends R2{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new et(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},bN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ge=class n extends R2{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return bN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QC}static keyField(){return new n([QC])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new et(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new et(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new et(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new et(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(de.fromString(e))}static fromName(e){return new n(de.fromString(e).popFirst(5))}static empty(){return new n(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return de.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new de(e.slice()))}};function xN(n,e,t){if(!t)throw new et(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MN(n,e,t,r){if(e===!0&&r===!0)throw new et(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KC(n){if(!J.isDocumentKey(n))throw new et(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r6(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at(12329,{type:typeof n})}function pc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=gy(n);throw new et(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Fe(n,e){let t={typeString:n};return e&&(t.value=e),t}function lu(n,e){if(!r6(n))throw new et(U.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new et(U.INVALID_ARGUMENT,t);return!0}var YC=-62135596800,ZC=1e6,we=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ZC);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<YC)throw new et(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZC}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-YC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:Fe("string",we._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};var xt=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new we(0,0))}static max(){return new n(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hh=-1,gc=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function Cw(n){return n.fields.find(e=>e.kind===2)}function ta(n){return n.fields.filter(e=>e.kind!==2)}gc.UNKNOWN_ID=-1;var cc=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var Uh=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,kr.min())}};function CN(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(r===1e9?new we(t+1,0):new we(t,r));return new kr(i,J.empty(),e)}function i6(n){return new kr(n.readTime,n.key,Hh)}var kr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(xt.min(),J.empty(),Hh)}static max(){return new n(xt.max(),J.empty(),Hh)}};function fy(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:Tt(n.largestBatchId,e.largestBatchId))}var o6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",P2=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ba(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==o6)throw n;W("LocalStore","Unexpectedly lost primary lease")}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let d=c;t(e[d]).next(u=>{s[d]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var Zn="SimpleDb",O2=class n{static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new ca(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Lr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ca(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{let i=my(r.target.error);this.S.reject(new ca(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(W(Zn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new Iw(t)}},fc=class n{static delete(e){return W(Zn,"Removing database:",e),na(ev().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!$0())return!1;if(n.F())return!0;let e=Ae(),t=n.M(e),r=0<t&&t<10,i=s6(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,n.M(Ae())===12.2&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(W(Zn,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new ca(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new et(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new et(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ca(e,s))},i.onupgradeneeded=o=>{W(Zn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.N.k(s,i.transaction,o.oldVersion,this.version).next(()=>{W(Zn,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){let o=t==="readonly",s=0;for(;;){++s;try{this.db=await this.L(e);let a=O2.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(d=>(a.C(),d)).catch(d=>(a.abort(d),O.reject(d))).toPromise();return c.catch(()=>{}),await a.D,c}catch(a){let c=a,d=c.name!=="FirebaseError"&&s<3;if(W(Zn,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}};function s6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var Ew=class{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return na(this.U.delete())}},ca=class extends et{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function gs(n){return n.name==="IndexedDbTransactionError"}var Iw=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(W(Zn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(W(Zn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),na(r)}add(e){return W(Zn,"ADD",this.store.name,e,e),na(this.store.add(e))}get(e){return na(this.store.get(e)).next(t=>(t===void 0&&(t=null),W(Zn,"GET",this.store.name,e,t),t))}delete(e){return W(Zn,"DELETE",this.store.name,e),na(this.store.delete(e))}count(){return W(Zn,"COUNT",this.store.name),na(this.store.count())}J(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new O((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.H(o,(a,c)=>{s.push(c)}).next(()=>s)}}Y(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new O((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Z(e,t){W(Zn,"DELETE ALL",this.store.name);let r=this.options(e,t);r.X=!1;let i=this.cursor(r);return this.H(i,(o,s,a)=>a.delete())}ee(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.H(i,t)}te(e){let t=this.cursor({});return new O((r,i)=>{t.onerror=o=>{let s=my(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}H(e,t){let r=[];return new O((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new Ew(a),d=t(a.primaryKey,a.value,c);if(d instanceof O){let u=d.catch(g=>(c.done(),O.reject(g)));r.push(u)}c.isDone?i():c.G===null?a.continue():a.continue(c.G)}}).next(()=>O.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function na(n){return new O((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=my(r.target.error);t(i)}})}var XC=!1;function my(n){let e=fc.M(Ae());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XC||(XC=!0,setTimeout(()=>{throw r},0)),r}}return n}var Ph="IndexBackfiller",Sw=class{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){W(Ph,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let t=await this.ne.ie();W(Ph,`Documents written: ${t}`)}catch(t){gs(t)?W(Ph,"Ignoring IndexedDB error during index backfill: ",t):await ba(t)}await this.re(6e4)})}},Aw=class{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){let r=new Set,i=t,o=!0;return O.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return W(Ph,`Processing collection: ${s}`),this.oe(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,o)).next(a=>(W(Ph,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}_e(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=i6(o);fy(s,r)>0&&(r=s)}),new kr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Nr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),da=-1;function E1(n){return n==null}function $h(n){return n===0&&1/n==-1/0}function EN(n){return typeof n=="number"&&Number.isInteger(n)&&!$h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var B2="";function _n(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=JC(e)),e=IN(n.get(t),e);return JC(e)}function IN(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case B2:t+="";break;default:t+=o}}return t}function JC(n){return n+B2+""}function mi(n){let e=n.length;if(ht(e>=2,64408,{path:n}),e===2)return ht(n.charAt(0)===B2&&n.charAt(1)==="",56145,{path:n}),de.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf(B2,o);switch((s<0||s>t)&&at(50515,{path:n}),n.charAt(s+1)){case"":let a=n.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:at(61167,{path:n})}o=s+2}return new de(r)}var ea="remoteDocuments",cu="owner",Zl="owner",qh="mutationQueues",SN="userId",Br="mutations",t8="batchId",sa="userMutationsIndex",e8=["userId","batchId"];function b2(n,e){return[n,_n(e)]}function a6(n,e,t){return[n,_n(e),t]}var AN={},mc="documentMutations",N2="remoteDocumentsV14",TN=["prefixPath","collectionGroup","readTime","documentId"],x2="documentKeyIndex",DN=["prefixPath","collectionGroup","documentId"],l6="collectionGroupIndex",RN=["collectionGroup","readTime","prefixPath","documentId"],Gh="remoteDocumentGlobal",Tw="remoteDocumentGlobalKey",vc="targets",c6="queryTargetsIndex",PN=["canonicalId","targetId"],wc="targetDocuments",ON=["targetId","path"],vy="documentTargetsIndex",BN=["path","targetId"],V2="targetGlobalKey",ha="targetGlobal",Wh="collectionParents",NN=["collectionId","parent"],_c="clientMetadata",VN="clientId",I1="bundles",FN="bundleId",S1="namedQueries",LN="name",wy="indexConfiguration",jN="indexId",Dw="collectionGroupIndex",zN="collectionGroup",Oh="indexState",HN=["indexId","uid"],d6="sequenceNumberIndex",UN=["uid","sequenceNumber"],Bh="indexEntries",$N=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],h6="documentKeyIndex",qN=["indexId","uid","orderedDocumentKey"],A1="documentOverlays",GN=["userId","collectionPath","documentId"],Rw="collectionPathOverlayIndex",WN=["userId","collectionPath","largestBatchId"],u6="collectionGroupOverlayIndex",QN=["userId","collectionGroup","largestBatchId"],_y="globals",KN="name",p6=[qh,Br,mc,ea,vc,cu,ha,wc,_c,Gh,Wh,I1,S1],YN=[...p6,A1],g6=[qh,Br,mc,N2,vc,cu,ha,wc,_c,Gh,Wh,I1,S1,A1],f6=g6,yy=[...f6,wy,Oh,Bh],ZN=yy,m6=[...yy,_y],XN=m6;var Qh=class extends P2{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}};function Qe(n,e){let t=Dt(n);return fc.O(t.le,e)}function n8(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function v6(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ye=class n{constructor(e,t){this.comparator=e,this.root=t||wi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}},lc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}};wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new wi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var se=class n{constructor(e){this.comparator=e,this.data=new ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F2(this.data.getIterator())}getIteratorFrom(e){return new F2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},F2=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Xl(n){return n.hasNext()?n.getNext():void 0}var Vr=class n{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new n([])}unionWith(e){let t=new se(Ge.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var L2=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var We=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new L2("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};We.EMPTY_BYTE_STRING=new We("");var JN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(n){if(ht(!!n,39018),typeof n=="string"){let e=0,t=JN.exec(n);if(ht(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yi(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}var w6="server_timestamp",_6="__type__",y6="__previous_value__",k6="__local_write_time__";function ky(n){return(n?.mapValue?.fields||{})[_6]?.stringValue===w6}function T1(n){let e=n.mapValue.fields[y6];return ky(e)?T1(e):e}function Kh(n){let e=Ki(n.mapValue.fields[k6].timestampValue);return new we(e.seconds,e.nanos)}var Pw=class{constructor(e,t,r,i,o,s,a,c,d,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=u}},j2="(default)",yc=class n{constructor(e,t){this.projectId=e,this.database=t||j2}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===j2}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var by="__type__",b6="__max__",ns={mapValue:{fields:{__type__:{stringValue:b6}}}},xy="__vector__",kc="value",M2={nullValue:"NULL_VALUE"};function ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ky(n)?4:x6(n)?9007199254740991:D1(n)?10:11:at(28295,{value:n})}function _i(n,e){if(n===e)return!0;let t=ss(n);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kh(n).isEqual(Kh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ki(i.timestampValue),a=Ki(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Yi(i.bytesValue).isEqual(Yi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return ve(i.geoPointValue.latitude)===ve(o.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ve(i.integerValue)===ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ve(i.doubleValue),a=ve(o.doubleValue);return s===a?$h(s)===$h(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return uc(n.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(n8(s)!==n8(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!_i(s[c],a[c])))return!1;return!0})(n,e);default:return at(52216,{left:n})}}function Yh(n,e){return(n.values||[]).find(t=>_i(t,e))!==void 0}function as(n,e){if(n===e)return 0;let t=ss(n),r=ss(e);if(t!==r)return Tt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Tt(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=ve(o.integerValue||o.doubleValue),c=ve(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return r8(n.timestampValue,e.timestampValue);case 4:return r8(Kh(n),Kh(e));case 5:return Mw(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Yi(o),c=Yi(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){let u=Tt(a[d],c[d]);if(u!==0)return u}return Tt(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Tt(ve(o.latitude),ve(s.latitude));return a!==0?a:Tt(ve(o.longitude),ve(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return i8(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},c=s.fields||{},d=a[kc]?.arrayValue,u=c[kc]?.arrayValue,g=Tt(d?.values?.length||0,u?.values?.length||0);return g!==0?g:i8(d,u)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===ns.mapValue&&s===ns.mapValue)return 0;if(o===ns.mapValue)return 1;if(s===ns.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),d=s.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let g=0;g<c.length&&g<u.length;++g){let v=Mw(c[g],u[g]);if(v!==0)return v;let k=as(a[c[g]],d[u[g]]);if(k!==0)return k}return Tt(c.length,u.length)})(n.mapValue,e.mapValue);default:throw at(23264,{he:t})}}function r8(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Tt(n,e);let t=Ki(n),r=Ki(e),i=Tt(t.seconds,r.seconds);return i!==0?i:Tt(t.nanos,r.nanos)}function i8(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=as(t[i],r[i]);if(o)return o}return Tt(t.length,r.length)}function bc(n){return Ow(n)}function Ow(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Ki(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Yi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return J.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Ow(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ow(t.fields[s])}`;return i+"}"})(n.mapValue):at(61005,{value:n})}function C2(n){switch(ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=T1(n);return e?16+C2(e):16;case 5:return 2*n.stringValue.length;case 6:return Yi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+C2(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return xa(r.fields,(o,s)=>{i+=o.length+C2(s)}),i})(n.mapValue);default:throw at(13486,{value:n})}}function My(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bw(n){return!!n&&"integerValue"in n}function Zh(n){return!!n&&"arrayValue"in n}function o8(n){return!!n&&"nullValue"in n}function s8(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function E2(n){return!!n&&"mapValue"in n}function D1(n){return(n?.mapValue?.fields||{})[by]?.stringValue===xy}function Nh(n){if(n.geoPointValue)return{geoPointValue:I({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:I({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nh(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nh(n.arrayValue.values[t]);return e}return I({},n)}function x6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===b6}var M6={mapValue:{fields:{[by]:{stringValue:xy},[kc]:{arrayValue:{}}}}};function tV(n){return"nullValue"in n?M2:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?My(yc.empty(),J.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?D1(n)?M6:{mapValue:{}}:at(35942,{value:n})}function eV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?My(yc.empty(),J.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?M6:"mapValue"in n?D1(n)?{mapValue:{}}:ns:at(61959,{value:n})}function a8(n,e){let t=as(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function l8(n,e){let t=as(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Xn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!E2(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(t)}setAll(e){let t=Ge.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Nh(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());E2(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];E2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xa(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Nh(this.value))}};function C6(n){let e=[];return xa(n.fields,(t,r)=>{let i=new Ge([t]);if(E2(r)){let o=C6(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Vr(e)}var un=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,xt.min(),xt.min(),xt.min(),Xn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,xt.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,xt.min(),xt.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,xt.min(),xt.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ls=class{constructor(e,t){this.position=e,this.inclusive=t}};function c8(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=as(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function d8(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_i(n.position[t],e.position[t]))return!1;return!0}var xc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function nV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var z2=class{},Kt=class n extends z2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Fw(e,t,r):t==="array-contains"?new zw(e,r):t==="in"?new H2(e,r):t==="not-in"?new Hw(e,r):t==="array-contains-any"?new Uw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Lw(e,r):new jw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(as(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(as(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},oe=class n extends z2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return Mc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Mc(n){return n.op==="and"}function Nw(n){return n.op==="or"}function Cy(n){return E6(n)&&Mc(n)}function E6(n){for(let e of n.filters)if(e instanceof oe)return!1;return!0}function Vw(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+bc(n.value);if(Cy(n))return n.filters.map(e=>Vw(e)).join(",");{let e=n.filters.map(t=>Vw(t)).join(",");return`${n.op}(${e})`}}function I6(n,e){return n instanceof Kt?(function(r,i){return i instanceof Kt&&r.op===i.op&&r.field.isEqual(i.field)&&_i(r.value,i.value)})(n,e):n instanceof oe?(function(r,i){return i instanceof oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&I6(s,i.filters[a]),!0):!1})(n,e):void at(19439)}function S6(n,e){let t=n.filters.concat(e);return oe.create(t,n.op)}function A6(n){return n instanceof Kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${bc(t.value)}`})(n):n instanceof oe?(function(t){return t.op.toString()+" {"+t.getFilters().map(A6).join(" ,")+"}"})(n):"Filter"}var Fw=class extends Kt{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},Lw=class extends Kt{constructor(e,t){super(e,"in",t),this.keys=T6("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},jw=class extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=T6("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function T6(n,e){return(e.arrayValue?.values||[]).map(t=>J.fromName(t.referenceValue))}var zw=class extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Zh(t)&&Yh(t.arrayValue,this.value)}},H2=class extends Kt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Yh(this.value.arrayValue,t)}},Hw=class extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yh(this.value.arrayValue,t)}},Uw=class extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Zh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yh(this.value.arrayValue,r))}};var $w=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function qw(n,e=null,t=[],r=[],i=null,o=null,s=null){return new $w(n,e,t,r,i,o,s)}function ma(n){let e=Dt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),E1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bc(r)).join(",")),e.Te=t}return e.Te}function du(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d8(n.startAt,e.startAt)&&d8(n.endAt,e.endAt)}function U2(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function $2(n,e){return n.filters.filter(t=>t instanceof Kt&&t.field.isEqual(e))}function h8(n,e,t){let r=M2,i=!0;for(let o of $2(n,e)){let s=M2,a=!0;switch(o.op){case"<":case"<=":s=tV(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=M2}a8({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];a8({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function u8(n,e,t){let r=ns,i=!0;for(let o of $2(n,e)){let s=ns,a=!0;switch(o.op){case">=":case">":s=eV(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ns}l8({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];l8({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var Cc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function rV(n,e,t,r,i,o,s,a){return new Cc(n,e,t,r,i,o,s,a)}function R1(n){return new Cc(n)}function p8(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iV(n){return n.collectionGroup!==null}function Vh(n){let e=Dt(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new se(Ge.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new xc(o,r))}),t.has(Ge.keyField().canonicalString())||e.Ie.push(new xc(Ge.keyField(),r))}return e.Ie}function yr(n){let e=Dt(n);return e.Ee||(e.Ee=oV(e,Vh(n))),e.Ee}function oV(n,e){if(n.limitType==="F")return qw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xc(i.field,o)});let t=n.endAt?new ls(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ls(n.startAt.position,n.startAt.inclusive):null;return qw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gw(n,e,t){return new Cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function P1(n,e){return du(yr(n),yr(e))&&n.limitType===e.limitType}function D6(n){return`${ma(yr(n))}|lt:${n.limitType}`}function ic(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>A6(i)).join(", ")}]`),E1(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bc(i)).join(",")),`Target(${r})`})(yr(n))}; limitType=${n.limitType})`}function hu(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Vh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let d=c8(s,a,c);return s.inclusive?d<=0:d<0})(r.startAt,Vh(r),i)||r.endAt&&!(function(s,a,c){let d=c8(s,a,c);return s.inclusive?d>=0:d>0})(r.endAt,Vh(r),i))})(n,e)}function sV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R6(n){return(e,t)=>{let r=!1;for(let i of Vh(n)){let o=aV(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function aV(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),d=a.data.field(o);return c!==null&&d!==null?as(c,d):at(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at(19790,{direction:n.dir})}}var jr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return v6(this.inner)}size(){return this.innerSize}};var lV=new ye(J.comparator);function Jn(){return lV}var P6=new ye(J.comparator);function Dh(...n){let e=P6;for(let t of n)e=e.insert(t.key,t);return e}function O6(n){let e=P6;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vi(){return Fh()}function B6(){return Fh()}function Fh(){return new jr(n=>n.toString(),(n,e)=>n.isEqual(e))}var cV=new ye(J.comparator),dV=new se(J.comparator);function jt(...n){let e=dV;for(let t of n)e=e.add(t);return e}var hV=new se(Tt);function uV(){return hV}function Ey(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function N6(n){return{integerValue:""+n}}function pV(n,e){return EN(e)?N6(e):Ey(n,e)}var Ec=class{constructor(){this._=void 0}};function gV(n,e,t){return n instanceof va?(function(i,o){let s={fields:{[_6]:{stringValue:w6},[k6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ky(o)&&(o=T1(o)),o&&(s.fields[y6]=o),{mapValue:s}})(t,e):n instanceof cs?F6(n,e):n instanceof ds?L6(n,e):(function(i,o){let s=V6(i,o),a=g8(s)+g8(i.Ae);return Bw(s)&&Bw(i.Ae)?N6(a):Ey(i.serializer,a)})(n,e)}function fV(n,e,t){return n instanceof cs?F6(n,e):n instanceof ds?L6(n,e):t}function V6(n,e){return n instanceof wa?(function(r){return Bw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var va=class extends Ec{},cs=class extends Ec{constructor(e){super(),this.elements=e}};function F6(n,e){let t=j6(e);for(let r of n.elements)t.some(i=>_i(i,r))||t.push(r);return{arrayValue:{values:t}}}var ds=class extends Ec{constructor(e){super(),this.elements=e}};function L6(n,e){let t=j6(e);for(let r of n.elements)t=t.filter(i=>!_i(i,r));return{arrayValue:{values:t}}}var wa=class extends Ec{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function g8(n){return ve(n.integerValue||n.doubleValue)}function j6(n){return Zh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Ww=class{constructor(e,t){this.field=e,this.transform=t}};function mV(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof cs&&i instanceof cs||r instanceof ds&&i instanceof ds?uc(r.elements,i.elements,_i):r instanceof wa&&i instanceof wa?_i(r.Ae,i.Ae):r instanceof va&&i instanceof va})(n.transform,e.transform)}var Qw=class{constructor(e,t){this.version=e,this.transformResults=t}},Fr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function I2(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ic=class{};function z6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xh(n.key,Fr.none()):new hs(n.key,n.data,Fr.none());{let t=n.data,r=Xn.empty(),i=new se(Ge.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yi(n.key,r,new Vr(i.toArray()),Fr.none())}}function vV(n,e,t){n instanceof hs?(function(i,o,s){let a=i.value.clone(),c=m8(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof yi?(function(i,o,s){if(!I2(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=m8(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(H6(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Lh(n,e,t,r){return n instanceof hs?(function(o,s,a,c){if(!I2(o.precondition,s))return a;let d=o.value.clone(),u=v8(o.fieldTransforms,c,s);return d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof yi?(function(o,s,a,c){if(!I2(o.precondition,s))return a;let d=v8(o.fieldTransforms,c,s),u=s.data;return u.setAll(H6(o)),u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(n,e,t,r):(function(o,s,a){return I2(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function wV(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=V6(r.transform,i||null);o!=null&&(t===null&&(t=Xn.empty()),t.set(r.field,o))}return t||null}function f8(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uc(r,i,(o,s)=>mV(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var hs=class extends Ic{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yi=class extends Ic{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function H6(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function m8(n,e,t){let r=new Map;ht(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fV(s,a,t[i]))}return r}function v8(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,gV(o,s,e))}return r}var Xh=class extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},q2=class extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jh=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&vV(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Lh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=B6();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=z6(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(t,r)=>f8(t,r))&&uc(this.baseMutations,e.baseMutations,(t,r)=>f8(t,r))}},Kw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return cV})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var tu=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Yw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ne,Xt;function _V(n){switch(n){case U.OK:return at(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return at(15467,{code:n})}}function U6(n){if(n===void 0)return In("GRPC error has no .code"),U.UNKNOWN;switch(n){case Ne.OK:return U.OK;case Ne.CANCELLED:return U.CANCELLED;case Ne.UNKNOWN:return U.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return U.INTERNAL;case Ne.UNAVAILABLE:return U.UNAVAILABLE;case Ne.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ne.NOT_FOUND:return U.NOT_FOUND;case Ne.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ne.ABORTED:return U.ABORTED;case Ne.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ne.DATA_LOSS:return U.DATA_LOSS;default:return at(39323,{code:n})}}(Xt=Ne||(Ne={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";var yV=null;function kV(){return new TextEncoder}var bV=new Gi([4294967295,4294967295],0);function w8(n){let e=kV().encode(n),t=new ow;return t.update(e),new Uint8Array(t.digest())}function _8(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gi([t,r],0),new Gi([i,o],0)]}var Zw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new aa(`Invalid padding: ${t}`);if(r<0)throw new aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new aa(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gi.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Gi.fromNumber(r)));return i.compare(bV)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=w8(e),[r,i]=_8(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=w8(e),[r,i]=_8(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},aa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var G2=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(xt.min(),i,new ye(Tt),Jn(),jt())}},eu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,jt(),jt(),jt())}};var dc=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},W2=class{constructor(e,t){this.targetId=e,this.Ce=t}},Q2=class{constructor(e,t,r=We.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},K2=class{constructor(){this.ve=0,this.Fe=y8(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jt(),t=jt(),r=jt();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at(38017,{changeType:o})}}),new eu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=y8()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Xw=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jn(),this.Je=v2(),this.He=v2(),this.Ye=new ye(Tt)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:at(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(U2(o))if(r===0){let s=new J(o.path);this.et(t,s,un.newNoDocument(s,xt.min()))}else ht(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),c=a?this.ct(a,e,s):1;if(c!==0){this.it(t);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}yV?.lt((function(u,g,v,k,T){let N={localCacheCount:u,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},A=g.unchangedNames;return A&&(N.bloomFilter={applied:T===0,hashCount:A?.hashCount??0,bitmapLength:A?.bits?.bitmap?.length??0,padding:A?.bits?.padding??0,mightContain:H=>k?.mightContain(H)??!1}),N})(s,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Yi(r).toUint8Array()}catch(c){if(c instanceof L2)return fa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Zw(s,i,o)}catch(c){return fa(c instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&U2(a.target)){let c=new J(a.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,un.newNoDocument(c,e))}o.Be&&(t.set(s,o.ke()),o.qe())}});let r=jt();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new G2(e,t,this.Ye,this.je,r);return this.je=Jn(),this.Je=v2(),this.He=v2(),this.Ye=new ye(Tt),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new K2,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new se(Tt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new se(Tt),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K2),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function v2(){return new ye(J.comparator)}function y8(){return new ye(J.comparator)}var xV={asc:"ASCENDING",desc:"DESCENDING"},MV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CV={and:"AND",or:"OR"},Jw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function t_(n,e){return n.useProto3Json||E1(e)?e:{value:e}}function Sc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EV(n,e){return Sc(n,e.toTimestamp())}function Sn(n){return ht(!!n,49232),xt.fromTimestamp((function(t){let r=Ki(t);return new we(r.seconds,r.nanos)})(n))}function Iy(n,e){return e_(n,e).canonicalString()}function e_(n,e){let t=(function(i){return new de(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function q6(n){let e=de.fromString(n);return ht(tE(e),10190,{key:e.toString()}),e}function Y2(n,e){return Iy(n.databaseId,e.path)}function ua(n,e){let t=q6(e);if(t.get(1)!==n.databaseId.projectId)throw new et(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(Q6(t))}function G6(n,e){return Iy(n.databaseId,e)}function W6(n){let e=q6(n);return e.length===4?de.emptyPath():Q6(e)}function n_(n){return new de(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q6(n){return ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function k8(n,e,t){return{name:Y2(n,e),fields:t.value.mapValue.fields}}function IV(n,e,t){let r=ua(n,e.name),i=Sn(e.updateTime),o=e.createTime?Sn(e.createTime):xt.min(),s=new Xn({mapValue:{fields:e.fields}}),a=un.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function SV(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:at(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,u){return d.useProto3Json?(ht(u===void 0||typeof u=="string",58123),We.fromBase64String(u||"")):(ht(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),We.fromUint8Array(u||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(d){let u=d.code===void 0?U.UNKNOWN:U6(d.code);return new et(u,d.message||"")})(s);t=new Q2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ua(n,r.document.name),o=Sn(r.document.updateTime),s=r.document.createTime?Sn(r.document.createTime):xt.min(),a=new Xn({mapValue:{fields:r.document.fields}}),c=un.newFoundDocument(i,o,s,a),d=r.targetIds||[],u=r.removedTargetIds||[];t=new dc(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ua(n,r.document),o=r.readTime?Sn(r.readTime):xt.min(),s=un.newNoDocument(i,o),a=r.removedTargetIds||[];t=new dc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ua(n,r.document),o=r.removedTargetIds||[];t=new dc([],o,i,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Yw(i,o),a=r.targetId;t=new W2(a,s)}}return t}function Z2(n,e){let t;if(e instanceof hs)t={update:k8(n,e.key,e.value)};else if(e instanceof Xh)t={delete:Y2(n,e.key)};else if(e instanceof yi)t={update:k8(n,e.key,e.data),updateMask:OV(e.fieldMask)};else{if(!(e instanceof q2))return at(16599,{Vt:e.type});t={verify:Y2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof va)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ds)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wa)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw at(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:EV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:at(27497)})(n,e.precondition)),t}function r_(n,e){let t=e.currentDocument?(function(o){return o.updateTime!==void 0?Fr.updateTime(Sn(o.updateTime)):o.exists!==void 0?Fr.exists(o.exists):Fr.none()})(e.currentDocument):Fr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>(function(s,a){let c=null;if("setToServerValue"in a)ht(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),c=new va;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new cs(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new ds(u)}else"increment"in a?c=new wa(s,a.increment):at(16584,{proto:a});let d=Ge.fromServerFormat(a.fieldPath);return new Ww(d,c)})(n,i)):[];if(e.update){e.update.name;let i=ua(n,e.update.name),o=new Xn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=(function(c){let d=c.fieldPaths||[];return new Vr(d.map(u=>Ge.fromServerFormat(u)))})(e.updateMask);return new yi(i,o,s,t,r)}return new hs(i,o,t,r)}if(e.delete){let i=ua(n,e.delete);return new Xh(i,t)}if(e.verify){let i=ua(n,e.verify);return new q2(i,t)}return at(1463,{proto:e})}function AV(n,e){return n&&n.length>0?(ht(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Sn(i.updateTime):Sn(o);return s.isEqual(xt.min())&&(s=Sn(o)),new Qw(s,i.transformResults||[])})(t,e))):[]}function K6(n,e){return{documents:[G6(n,e.path)]}}function Y6(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=G6(n,i);let o=(function(d){if(d.length!==0)return J6(oe.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(d){if(d.length!==0)return d.map(u=>(function(v){return{field:oc(v.field),direction:DV(v.dir)}})(u))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=t_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function Z6(n){let e=W6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ht(r===1,65062);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=(function(g){let v=X6(g);return v instanceof oe&&Cy(v)?v.getFilters():[v]})(t.where));let s=[];t.orderBy&&(s=(function(g){return g.map(v=>(function(T){return new xc(sc(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v))})(t.orderBy));let a=null;t.limit&&(a=(function(g){let v;return v=typeof g=="object"?g.value:g,E1(v)?null:v})(t.limit));let c=null;t.startAt&&(c=(function(g){let v=!!g.before,k=g.values||[];return new ls(k,v)})(t.startAt));let d=null;return t.endAt&&(d=(function(g){let v=!g.before,k=g.values||[];return new ls(k,v)})(t.endAt)),rV(e,i,s,o,a,"F",c,d)}function TV(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function X6(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=sc(t.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=sc(t.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=sc(t.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=sc(t.unaryFilter.field);return Kt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Kt.create(sc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return oe.create(t.compositeFilter.filters.map(r=>X6(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(t.compositeFilter.op))})(n):at(30097,{filter:n})}function DV(n){return xV[n]}function RV(n){return MV[n]}function PV(n){return CV[n]}function oc(n){return{fieldPath:n.canonicalString()}}function sc(n){return Ge.fromServerFormat(n.fieldPath)}function J6(n){return n instanceof Kt?(function(t){if(t.op==="=="){if(s8(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NAN"}};if(o8(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(s8(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NAN"}};if(o8(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(t.field),op:RV(t.op),value:t.value}}})(n):n instanceof oe?(function(t){let r=t.getFilters().map(i=>J6(i));return r.length===1?r[0]:{compositeFilter:{op:PV(t.op),filters:r}}})(n):at(54877,{filter:n})}function OV(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ac=class n{constructor(e,t,r,i,o=xt.min(),s=xt.min(),a=We.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var X2=class{constructor(e){this.yt=e}};function BV(n,e){let t;if(e.document)t=IV(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=J.fromSegments(e.noDocument.path),i=ya(e.noDocument.readTime);t=un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at(56709);{let r=J.fromSegments(e.unknownDocument.path),i=ya(e.unknownDocument.version);t=un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){let o=new we(i[0],i[1]);return xt.fromTimestamp(o)})(e.readTime)),t}function b8(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:J2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,s){return{name:Y2(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Sc(o,s.version.toTimestamp()),createTime:Sc(o,s.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:_a(e.version)};else{if(!e.isUnknownDocument())return at(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:_a(e.version)}}return r}function J2(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _a(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ya(n){let e=new we(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function ra(n,e){let t=(e.baseMutations||[]).map(o=>r_(n.yt,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>r_(n.yt,o)),i=we.fromMillis(e.localWriteTimeMs);return new Jh(e.batchId,i,t,r)}function Rh(n){let e=ya(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ya(n.lastLimboFreeSnapshotVersion):xt.min(),r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){let s=o.documents.length;return ht(s===1,1966,{count:s}),yr(R1(W6(o.documents[0])))})(n.query):(function(o){return yr(Z6(o))})(n.query),new Ac(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,We.fromBase64String(n.resumeToken))}function eE(n,e){let t=_a(e.snapshotVersion),r=_a(e.lastLimboFreeSnapshotVersion),i;i=U2(e.target)?K6(n.yt,e.target):Y6(n.yt,e.target).ft;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ma(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function nE(n){let e=Z6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gw(e,e.limit,"L"):e}function uw(n,e){return new tu(e.largestBatchId,r_(n.yt,e.overlayMutation))}function x8(n,e){let t=e.path.lastSegment();return[n,_n(e.path.popLast()),t]}function M8(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:_a(r.readTime),documentKey:_n(r.documentKey.path),largestBatchId:r.largestBatchId}}var i_=class{getBundleMetadata(e,t){return C8(e).get(t).next(r=>{if(r)return(function(o){return{id:o.bundleId,createTime:ya(o.createTime),version:o.version}})(r)})}saveBundleMetadata(e,t){return C8(e).put((function(i){return{bundleId:i.id,createTime:_a(Sn(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return E8(e).get(t).next(r=>{if(r)return(function(o){return{name:o.name,query:nE(o.bundledQuery),readTime:ya(o.readTime)}})(r)})}saveNamedQuery(e,t){return E8(e).put((function(i){return{name:i.name,readTime:_a(Sn(i.readTime)),bundledQuery:i.bundledQuery}})(t))}};function C8(n){return Qe(n,I1)}function E8(n){return Qe(n,S1)}var t1=class n{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Ih(e).get(x8(this.userId,t)).next(r=>r?uw(this.serializer,r):null)}getOverlays(e,t){let r=vi();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new tu(t,s);i.push(this.St(e,a))}),O.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(_n(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ih(e).Z(Rw,a))}),O.waitFor(o)}getOverlaysForCollection(e,t,r){let i=vi(),o=_n(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ih(e).J(Rw,s).next(a=>{for(let c of a){let d=uw(this.serializer,c);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=vi(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ih(e).ee({index:u6,range:a},(c,d,u)=>{let g=uw(this.serializer,d);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):u.done()}).next(()=>o)}St(e,t){return Ih(e).put((function(i,o,s){let[a,c,d]=x8(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Z2(i.yt,s.mutation)}})(this.serializer,this.userId,t))}};function Ih(n){return Qe(n,A1)}var o_=class{bt(e){return Qe(e,_y)}getSessionToken(e){return this.bt(e).get("sessionToken").next(t=>{let r=t?.value;return r?We.fromUint8Array(r):We.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Qi=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),$h(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Ki(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Yi(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?x6(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):D1(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):at(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=kc,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ve(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),J.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Qi.Kt=new Qi;var Jl=255;function NV(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function I8(n){let e=64-(function(r){let i=0;for(let o=0;o<8;++o){let s=NV(255&r[o]);if(i+=s,s!==8)break}return i})(n);return Math.ceil(e/8)}var s_=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{let i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{let i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){let t=this.en(e),r=I8(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){let t=this.en(e),r=I8(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Jl),this.sn(255)}_n(){this.an(Jl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t=(function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){let t=255&e;t===0?(this.sn(0),this.sn(255)):t===Jl?(this.sn(Jl),this.sn(0)):this.sn(t)}Jt(e){let t=255&e;t===0?(this.an(0),this.an(255)):t===Jl?(this.an(Jl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},a_=class{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}},l_=class{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}},ia=class{constructor(){this.cn=new s_,this.ln=new a_(this.cn),this.hn=new l_(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}};var oa=class n{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){let e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new n(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:S2(this.En),directionalValue:S2(this.dn),orderedDocumentKey:S2(t),documentKey:r.path.toArray()}}Vn(e,t,r){let i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}};function Xo(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=S8(n.En,e.En),t!==0?t:(t=S8(n.dn,e.dn),t!==0?t:J.comparator(n.In,e.In)))}function S8(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function S2(n){return sv()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function A8(n){return typeof n!="string"?n:(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}var e1=class{constructor(e){this.mn=new se((t,r)=>Ge.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(let t of e.filters){let r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(ht(e.collectionGroup===this.collectionId,49279),this.pn)return!1;let t=Cw(e);if(t!==void 0&&!this.wn(t))return!1;let r=ta(e),i=new Set,o=0,s=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){let a=this.mn.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.Sn(a,c)||!this.bn(this.fn[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.fn.length||!this.bn(this.fn[s++],a))return!1}return!0}Dn(){if(this.pn)return null;let e=new se(Ge.comparator),t=[];for(let r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new cc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new cc(r.field,0))}for(let r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new cc(r.field,r.dir==="asc"?0:1)));return new gc(gc.UNKNOWN_ID,this.collectionId,t,Uh.empty())}wn(e){for(let t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function rE(n){if(ht(n instanceof Kt||n instanceof oe,20012),n instanceof Kt){if(n instanceof H2){let t=n.value.arrayValue?.values?.map(r=>Kt.create(n.field,"==",r))||[];return oe.create(t,"or")}return n}let e=n.filters.map(t=>rE(t));return oe.create(e,n.op)}function VV(n){if(n.getFilters().length===0)return[];let e=h_(rE(n));return ht(iE(e),7391),c_(e)||d_(e)?[e]:e.getFilters()}function c_(n){return n instanceof Kt}function d_(n){return n instanceof oe&&Cy(n)}function iE(n){return c_(n)||d_(n)||(function(t){if(t instanceof oe&&Nw(t)){for(let r of t.getFilters())if(!c_(r)&&!d_(r))return!1;return!0}return!1})(n)}function h_(n){if(ht(n instanceof Kt||n instanceof oe,34018),n instanceof Kt)return n;if(n.filters.length===1)return h_(n.filters[0]);let e=n.filters.map(r=>h_(r)),t=oe.create(e,n.op);return t=n1(t),iE(t)?t:(ht(t instanceof oe,64498),ht(Mc(t),40251),ht(t.filters.length>1,57927),t.filters.reduce((r,i)=>Sy(r,i)))}function Sy(n,e){let t;return ht(n instanceof Kt||n instanceof oe,38388),ht(e instanceof Kt||e instanceof oe,25473),t=n instanceof Kt?e instanceof Kt?(function(i,o){return oe.create([i,o],"and")})(n,e):T8(n,e):e instanceof Kt?T8(e,n):(function(i,o){if(ht(i.filters.length>0&&o.filters.length>0,48005),Mc(i)&&Mc(o))return S6(i,o.getFilters());let s=Nw(i)?i:o,a=Nw(i)?o:i,c=s.filters.map(d=>Sy(d,a));return oe.create(c,"or")})(n,e),n1(t)}function T8(n,e){if(Mc(e))return S6(e,n.getFilters());{let t=e.filters.map(r=>Sy(n,r));return oe.create(t,"or")}}function n1(n){if(ht(n instanceof Kt||n instanceof oe,11850),n instanceof Kt)return n;let e=n.getFilters();if(e.length===1)return n1(e[0]);if(E6(n))return n;let t=e.map(i=>n1(i)),r=[];return t.forEach(i=>{i instanceof Kt?r.push(i):i instanceof oe&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:oe.create(r,n.op)}var u_=class{constructor(){this.Cn=new nu}addToCollectionParentIndex(e,t){return this.Cn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(kr.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},nu=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new se(de.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new se(de.comparator)).toArray()}};var D8="IndexedDbIndexManager",w2=new Uint8Array(0),p_=class{constructor(e,t){this.databaseId=t,this.vn=new nu,this.Fn=new jr(r=>ma(r),(r,i)=>du(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});let o={collectionId:r,parent:_n(i)};return R8(e).put(o)}return O.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[n6(t),""],!1,!0);return R8(e).J(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(mi(s.parent))}return r})}addFieldIndex(e,t){let r=Sh(e),i=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}})(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=ec(e);return o.next(a=>{s.put(M8(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=Sh(e),i=ec(e),o=tc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Sh(e),r=tc(e),i=ec(e);return t.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,t){return O.forEach(this.Mn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new e1(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=tc(e),i=!0,o=new Map;return O.forEach(this.Mn(t),s=>this.xn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=jt(),a=[];return O.forEach(o,(c,d)=>{W(D8,`Using index ${(function(G){return`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`})(c)} to execute ${ma(t)}`);let u=(function(G,ot){let yt=Cw(ot);if(yt===void 0)return null;for(let mt of $2(G,yt.fieldPath))switch(mt.op){case"array-contains-any":return mt.value.arrayValue.values||[];case"array-contains":return[mt.value]}return null})(d,c),g=(function(G,ot){let yt=new Map;for(let mt of ta(ot))for(let C of $2(G,mt.fieldPath))switch(C.op){case"==":case"in":yt.set(mt.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return yt.set(mt.fieldPath.canonicalString(),C.value),Array.from(yt.values())}return null})(d,c),v=(function(G,ot){let yt=[],mt=!0;for(let C of ta(ot)){let y=C.kind===0?h8(G,C.fieldPath,G.startAt):u8(G,C.fieldPath,G.startAt);yt.push(y.value),mt&&(mt=y.inclusive)}return new ls(yt,mt)})(d,c),k=(function(G,ot){let yt=[],mt=!0;for(let C of ta(ot)){let y=C.kind===0?u8(G,C.fieldPath,G.endAt):h8(G,C.fieldPath,G.endAt);yt.push(y.value),mt&&(mt=y.inclusive)}return new ls(yt,mt)})(d,c),T=this.On(c,d,v),N=this.On(c,d,k),A=this.Nn(c,d,g),H=this.Bn(c.indexId,u,T,v.inclusive,N,k.inclusive,A);return O.forEach(H,$=>r.Y($,t.limit).next(G=>{G.forEach(ot=>{let yt=J.fromSegments(ot.documentKey);s.has(yt)||(s=s.add(yt),a.push(yt))})}))}).next(()=>a)}return O.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=VV(oe.create(e.filters,"and")).map(r=>qw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,r,i,o,s,a){let c=(t!=null?t.length:1)*Math.max(r.length,o.length),d=c/(t!=null?t.length:1),u=[];for(let g=0;g<c;++g){let v=t?this.Ln(t[g/d]):w2,k=this.kn(e,v,r[g%d],i),T=this.qn(e,v,o[g%d],s),N=a.map(A=>this.kn(e,v,A,!0));u.push(...this.createRange(k,T,N))}return u}kn(e,t,r,i){let o=new oa(e,J.empty(),t,r);return i?o:o.An()}qn(e,t,r,i){let o=new oa(e,J.empty(),t,r);return i?o.An():o}xn(e,t){let r=new e1(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.yn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.Mn(t);return O.forEach(i,o=>this.xn(e,o).next(s=>{s?r!==0&&s.fields.length<(function(c){let d=new se(Ge.comparator),u=!1;for(let g of c.filters)for(let v of g.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?u=!0:d=d.add(v.field));for(let g of c.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(u?1:0)})(o)&&(r=1):r=0})).next(()=>(function(s){return s.limit!==null})(t)&&i.length>1&&r===2?1:r)}Qn(e,t){let r=new ia;for(let i of ta(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.Pn(i.kind);Qi.Kt.Dt(o,s)}return r.un()}Ln(e){let t=new ia;return Qi.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){let r=new ia;return Qi.Kt.Dt(My(this.databaseId,t),r.Pn((function(o){let s=ta(o);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new ia);let o=0;for(let s of ta(e)){let a=r[o++];for(let c of i)if(this.Un(t,s.fieldPath)&&Zh(a))i=this.Kn(i,s,a);else{let d=c.Pn(s.kind);Qi.Kt.Dt(a,d)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new ia;c.seed(a.un()),Qi.Kt.Dt(s,c.Pn(t.kind)),o.push(c)}return o}Un(e,t){return!!e.filters.find(r=>r instanceof Kt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Sh(e),i=ec(e);return(t?r.J(Dw,IDBKeyRange.bound(t,t)):r.J()).next(o=>{let s=[];return O.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push((function(u,g){let v=g?new Uh(g.sequenceNumber,new kr(ya(g.readTime),new J(mi(g.documentKey)),g.largestBatchId)):Uh.empty(),k=u.fields.map(([T,N])=>new cc(Ge.fromServerFormat(T),N));return new gc(u.indexId,u.collectionGroup,k,v)})(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Tt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Sh(e),o=ec(e);return this.Gn(e).next(s=>i.J(Dw,IDBKeyRange.bound(t,t)).next(a=>O.forEach(a,c=>o.put(M8(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return O.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?O.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),O.forEach(a,c=>this.zn(e,i,c).next(d=>{let u=this.jn(o,c);return d.isEqual(u)?O.resolve():this.Jn(e,o,c,d,u)}))))})}Hn(e,t,r,i){return tc(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return tc(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){let i=tc(e),o=new se(Xo);return i.ee({index:h6,range:IDBKeyRange.only([r.indexId,this.uid,S2(this.$n(r,t))])},(s,a)=>{o=o.add(new oa(r.indexId,t,A8(a.arrayValue),A8(a.directionalValue)))}).next(()=>o)}jn(e,t){let r=new se(Xo),i=this.Qn(t,e);if(i==null)return r;let o=Cw(t);if(o!=null){let s=e.data.field(o.fieldPath);if(Zh(s))for(let a of s.arrayValue.values||[])r=r.add(new oa(t.indexId,e.key,this.Ln(a),i))}else r=r.add(new oa(t.indexId,e.key,w2,i));return r}Jn(e,t,r,i,o){W(D8,"Updating index entries for document '%s'",t.key);let s=[];return(function(c,d,u,g,v){let k=c.getIterator(),T=d.getIterator(),N=Xl(k),A=Xl(T);for(;N||A;){let H=!1,$=!1;if(N&&A){let G=u(N,A);G<0?$=!0:G>0&&(H=!0)}else N!=null?$=!0:H=!0;H?(g(A),A=Xl(T)):$?(v(N),N=Xl(k)):(N=Xl(k),A=Xl(T))}})(i,o,Xo,a=>{s.push(this.Hn(e,t,r,a))},a=>{s.push(this.Yn(e,t,r,a))}),O.waitFor(s)}Gn(e){let t=1;return ec(e).ee({index:d6,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Xo(s,a)).filter((s,a,c)=>!a||Xo(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Xo(s,e),c=Xo(s,t);if(a===0)i[0]=e.An();else if(a>0&&c<0)i.push(s),i.push(s.An());else if(c>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];let a=i[s].Vn(this.uid,w2,J.empty()),c=i[s+1].Vn(this.uid,w2,J.empty());o.push(IDBKeyRange.bound(a,c))}return o}Zn(e,t){return Xo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(P8)}getMinOffset(e,t){return O.mapArray(this.Mn(t),r=>this.xn(e,r).next(i=>i||at(44426))).next(P8)}};function R8(n){return Qe(n,Wh)}function tc(n){return Qe(n,Bh)}function Sh(n){return Qe(n,wy)}function ec(n){return Qe(n,Oh)}function P8(n){ht(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;fy(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new kr(e.readTime,e.documentKey,t)}var O8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040,Bn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};function sE(n,e,t){let r=n.store(Br),i=n.store(mc),o=[],s=IDBKeyRange.only(t.batchId),a=0,c=r.ee({range:s},(u,g,v)=>(a++,v.delete()));o.push(c.next(()=>{ht(a===1,47070,{batchId:t.batchId})}));let d=[];for(let u of t.mutations){let g=a6(e,u.key.path,t.batchId);o.push(i.delete(g)),d.push(u.key)}return O.waitFor(o).next(()=>d)}function r1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at(14731);e=n.noDocument}return JSON.stringify(e).length}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(oE,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);var i1=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){ht(e.uid!=="",64387);let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).ee({index:sa,range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=ac(e),s=Jo(e);return s.add({}).next(a=>{ht(typeof a=="number",49019);let c=new Jh(a,t,r,i),d=(function(k,T,N){let A=N.baseMutations.map($=>Z2(k.yt,$)),H=N.mutations.map($=>Z2(k.yt,$));return{userId:T,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:A,mutations:H}})(this.serializer,this.userId,c),u=[],g=new se((v,k)=>Tt(v.canonicalString(),k.canonicalString()));for(let v of i){let k=a6(this.userId,v.key.path,a);g=g.add(v.key.path.popLast()),u.push(s.put(d)),u.push(o.put(k,AN))}return g.forEach(v=>{u.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Xn[a]=c.keys()}),O.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return Jo(e).get(t).next(r=>r?(ht(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ra(this.serializer,r)):null)}er(e,t){return this.Xn[t]?O.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Jo(e).ee({index:sa,range:i},(s,a,c)=>{a.userId===this.userId&&(ht(a.batchId>=r,47524,{tr:r}),o=ra(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=da;return Jo(e).ee({index:sa,range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,da],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).J(sa,t).next(r=>r.map(i=>ra(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=b2(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ac(e).ee({range:i},(s,a,c)=>{let[d,u,g]=s,v=mi(u);if(d===this.userId&&t.path.isEqual(v))return Jo(e).get(g).next(k=>{if(!k)throw at(61480,{nr:s,batchId:g});ht(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:g}),o.push(ra(this.serializer,k))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new se(Tt),i=[];return t.forEach(o=>{let s=b2(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=ac(e).ee({range:a},(d,u,g)=>{let[v,k,T]=d,N=mi(k);v===this.userId&&o.path.isEqual(N)?r=r.add(T):g.done()});i.push(c)}),O.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=b2(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new se(Tt);return ac(e).ee({range:s},(c,d,u)=>{let[g,v,k]=c,T=mi(v);g===this.userId&&r.isPrefixOf(T)?T.length===i&&(a=a.add(k)):u.done()}).next(()=>this.rr(e,a))}rr(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Jo(e).get(o).next(s=>{if(s===null)throw at(35274,{batchId:o});ht(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),r.push(ra(this.serializer,s))}))}),O.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return sE(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),O.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return O.resolve();let r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return ac(e).ee({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=mi(o[1]);i.push(c)}else a.done()}).next(()=>{ht(i.length===0,56720,{sr:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return aE(e,this.userId,t)}_r(e){return lE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:da,lastStreamToken:""})}};function aE(n,e,t){let r=b2(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ac(n).ee({range:o,X:!0},(a,c,d)=>{let[u,g,v]=a;u===e&&g===i&&(s=!0),d.done()}).next(()=>s)}function Jo(n){return Qe(n,Br)}function ac(n){return Qe(n,mc)}function lE(n){return Qe(n,qh)}var Tc=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var g_=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{let r=new Tc(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(t=>xt.fromTimestamp(new we(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nc(e).delete(t.targetId)).next(()=>this.lr(e)).next(r=>(ht(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,t,r){let i=0,o=[];return nc(e).ee((s,a)=>{let c=Rh(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>O.waitFor(o)).next(()=>i)}forEachTarget(e,t){return nc(e).ee((r,i)=>{let o=Rh(i);t(o)})}lr(e){return B8(e).get(V2).next(t=>(ht(t!==null,2888),t))}hr(e,t){return B8(e).put(V2,t)}Pr(e,t){return nc(e).put(eE(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(t=>t.targetCount)}getTargetData(e,t){let r=ma(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return nc(e).ee({range:i,index:c6},(s,a,c)=>{let d=Rh(a);du(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=es(e);return t.forEach(s=>{let a=_n(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),O.waitFor(i)}removeMatchingKeys(e,t,r){let i=es(e);return O.forEach(t,o=>{let s=_n(o.path);return O.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=es(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=es(e),o=jt();return i.ee({range:r,X:!0},(s,a,c)=>{let d=mi(s[1]),u=new J(d);o=o.add(u)}).next(()=>o)}containsKey(e,t){let r=_n(t.path),i=IDBKeyRange.bound([r],[n6(r)],!1,!0),o=0;return es(e).ee({index:vy,X:!0,range:i},([s,a],c,d)=>{s!==0&&(o++,d.done())}).next(()=>o>0)}At(e,t){return nc(e).get(t).next(r=>r?Rh(r):null)}};function nc(n){return Qe(n,vc)}function B8(n){return Qe(n,ha)}function es(n){return Qe(n,wc)}var N8="LruGarbageCollector",FV=1048576;function V8([n,e],[t,r]){let i=Tt(n,t);return i===0?Tt(e,r):i}var f_=class{constructor(e){this.Ir=e,this.buffer=new se(V8),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();V8(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},o1=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(N8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gs(t)?W(N8,"Ignoring IndexedDB error during garbage collection: ",t):await ba(t)}await this.Vr(3e5)})}},m_=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(Nr.ce);let r=new f_(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(O8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O8):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,s,a,c,d,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),rc()<=Ht.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function cE(n,e){return new m_(n,e)}var v_=class{constructor(e,t){this.db=e,this.garbageCollector=cE(this,t)}gr(e){let t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(r,i)=>t(i))}addReference(e,t,r){return _2(e,r)}removeReference(e,t,r){return _2(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return _2(e,t)}br(e,t){return(function(i,o){let s=!1;return lE(i).te(a=>aE(i,a,o).next(c=>(c&&(s=!0),O.resolve(!c)))).next(()=>s)})(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Sr(e,(s,a)=>{if(a<=t){let c=this.br(e,s).next(d=>{if(!d)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,xt.min()),es(e).delete((function(g){return[0,_n(g.path)]})(s))))});i.push(c)}}).next(()=>O.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return _2(e,t)}Sr(e,t){let r=es(e),i,o=Nr.ce;return r.ee({index:vy},([s,a],{path:c,sequenceNumber:d})=>{s===0?(o!==Nr.ce&&t(new J(mi(i)),o),o=d,i=c):o=Nr.ce}).next(()=>{o!==Nr.ce&&t(new J(mi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function _2(n,e){return es(n).put((function(r,i){return{targetId:0,path:_n(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}var s1=class{constructor(){this.changes=new jr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var w_=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Js(e).put(r)}removeEntry(e,t,r){return Js(e).delete((function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],J2(s),a[a.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Dr(e,r)))}getEntry(e,t){let r=un.newInvalidDocument(t);return Js(e).ee({index:x2,range:IDBKeyRange.only(Ah(t))},(i,o)=>{r=this.Cr(t,o)}).next(()=>r)}vr(e,t){let r={size:0,document:un.newInvalidDocument(t)};return Js(e).ee({index:x2,range:IDBKeyRange.only(Ah(t))},(i,o)=>{r={document:this.Cr(t,o),size:r1(o)}}).next(()=>r)}getEntries(e,t){let r=Jn();return this.Fr(e,t,(i,o)=>{let s=this.Cr(i,o);r=r.insert(i,s)}).next(()=>r)}Mr(e,t){let r=Jn(),i=new ye(J.comparator);return this.Fr(e,t,(o,s)=>{let a=this.Cr(o,s);r=r.insert(o,a),i=i.insert(o,r1(s))}).next(()=>({documents:r,Or:i}))}Fr(e,t,r){if(t.isEmpty())return O.resolve();let i=new se(j8);t.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(Ah(i.first()),Ah(i.last())),s=i.getIterator(),a=s.getNext();return Js(e).ee({index:x2,range:o},(c,d,u)=>{let g=J.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&j8(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,d),a=s.hasNext()?s.getNext():null),a?u.j(Ah(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),J2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Js(e).J(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let u=Jn();for(let g of d){let v=this.Cr(J.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(hu(t,v)||i.has(v.key))&&(u=u.insert(v.key,v))}return u})}getAllFromCollectionGroup(e,t,r,i){let o=Jn(),s=L8(t,r),a=L8(t,kr.max());return Js(e).ee({index:l6,range:IDBKeyRange.bound(s,a,!0)},(c,d,u)=>{let g=this.Cr(J.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(g.key,g),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new __(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return F8(e).get(Tw).next(t=>(ht(!!t,20021),t))}Dr(e,t){return F8(e).put(Tw,t)}Cr(e,t){if(t){let r=BV(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(xt.min())))return r}return un.newInvalidDocument(e)}};function dE(n){return new w_(n)}var __=class extends s1{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new jr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new se((o,s)=>Tt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=b8(this.Nr.serializer,s);i=i.add(o.path.popLast());let d=r1(c);r+=d-a.size,t.push(this.Nr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=b8(this.Nr.serializer,s.convertToNoDocument(xt.min()));t.push(this.Nr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Nr.updateMetadata(e,r)),O.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(({documents:r,Or:i})=>(i.forEach((o,s)=>{this.Br.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function F8(n){return Qe(n,Gh)}function Js(n){return Qe(n,N2)}function Ah(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function L8(n,e){let t=e.documentKey.path.toArray();return[n,J2(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function j8(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Tt(t[o],r[o]),i)return i;return i=Tt(t.length,r.length),i||(i=Tt(t[t.length-2],r[r.length-2]),i||Tt(t[t.length-1],r[r.length-1]))}var y_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var a1=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Lh(r.mutation,i,Vr.empty(),we.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jt()){let i=vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Dh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jt()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Jn(),s=Fh(),a=(function(){return Fh()})();return t.forEach((c,d)=>{let u=r.get(d.key);i.has(d.key)&&(u===void 0||u.mutation instanceof yi)?o=o.insert(d.key,d):u!==void 0?(s.set(d.key,u.mutation.getFieldMask()),Lh(u.mutation,d,u.mutation.getFieldMask(),we.now())):s.set(d.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,u)=>s.set(d,u)),t.forEach((d,u)=>a.set(d,new y_(u,s.get(d)??null))),a))}recalculateAndSaveOverlays(e,t){let r=Fh(),i=new ye((s,a)=>s-a),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let u=r.get(c)||Vr.empty();u=a.applyToLocalView(d,u),r.set(c,u);let g=(i.get(a.batchId)||jt()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,u=c.value,g=B6();u.forEach(v=>{if(!o.has(v)){let k=z6(t.get(v),r.get(v));k!==null&&g.set(v,k),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(vi()),a=Hh,c=o;return s.next(d=>O.forEach(d,(u,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(u)?O.resolve():this.remoteDocumentCache.getEntry(e,u).next(v=>{c=c.insert(u,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,jt())).next(u=>({batchId:a,changes:O6(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=Dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Dh();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{let d=(function(g,v){return new Cc(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(u=>{u.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,d)=>{let u=d.getKey();s.get(u)===null&&(s=s.insert(u,un.newInvalidDocument(u)))});let a=Dh();return s.forEach((c,d)=>{let u=o.get(c);u!==void 0&&Lh(u.mutation,d,Vr.empty(),we.now()),hu(t,d)&&(a=a.insert(c,d))}),a})}};var k_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return O.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:nE(i.bundledQuery),readTime:Sn(i.readTime)}})(t)),O.resolve()}};var b_=class{constructor(){this.overlays=new ye(J.comparator),this.qr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vi();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=vi(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ye((d,u)=>d-u),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let u=o.get(d.largestBatchId);u===null&&(u=vi(),o=o.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}let a=vi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>a.set(d,u)),!(a.size()>=i)););return O.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tu(t,r));let o=this.qr.get(t);o===void 0&&(o=jt(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var x_=class{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var ru=class{constructor(){this.Qr=new se(Ve.$r),this.Ur=new se(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Ve(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Ve(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new J(new de([])),r=new Ve(t,e),i=new Ve(t,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new J(new de([])),r=new Ve(t,e),i=new Ve(t,e+1),o=jt();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ve(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return J.comparator(e.key,t.key)||Tt(e.Yr,t.Yr)}static Kr(e,t){return Tt(e.Yr,t.Yr)||J.comparator(e.key,t.key)}};var M_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new se(Ve.$r)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Jh(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Ve(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?da:this.tr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ve(t,0),i=new Ve(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new se(Tt);return t.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),O.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new J(o),0),a=new se(Tt);return this.Zr.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Yr)),!0)},s),O.resolve(this.ti(a))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ht(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return O.forEach(t.mutations,i=>{let o=new Ve(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Ve(t,0),i=this.Zr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var C_=class{constructor(e){this.ri=e,this.docs=(function(){return new ye(J.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Jn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():un.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Jn(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:u}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||fy(i6(u),r)<=0||(i.has(u.key)||hu(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){at(9500)}ii(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new E_(this)}getSize(e){return O.resolve(this.size)}},E_=class extends s1{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var I_=class{constructor(e){this.persistence=e,this.si=new jr(t=>ma(t),du),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new ru,this.targetCount=0,this.ai=Tc.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),O.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.Pr(t),O.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this._i.containsKey(t))}};var iu=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Nr(0),this.li=!1,this.li=!0,this.hi=new x_,this.referenceDelegate=e(this),this.Pi=new I_(this),this.indexManager=new u_,this.remoteDocumentCache=(function(i){return new C_(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new X2(t),this.Ii=new k_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new M_(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new S_(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return O.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},S_=class extends P2{constructor(e){super(),this.currentSequenceNumber=e}},l1=class n{constructor(e){this.persistence=e,this.Ri=new ru,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.fi,r=>{let i=J.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,xt.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return O.or([()=>O.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},c1=class n{constructor(e,t){this.persistence=e,this.pi=new jr(r=>_n(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cE(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return O.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(a=>{a||(r++,o.removeEntry(s,xt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),O.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=C2(e.data.value)),t}br(e,t,r){return O.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var A_=class{constructor(e){this.serializer=e}k(e,t,r,i){let o=new O2("createOrUpgrade",t);r<1&&i>=1&&((function(c){c.createObjectStore(cu)})(e),(function(c){c.createObjectStore(qh,{keyPath:SN}),c.createObjectStore(Br,{keyPath:t8,autoIncrement:!0}).createIndex(sa,e8,{unique:!0}),c.createObjectStore(mc)})(e),z8(e),(function(c){c.createObjectStore(ea)})(e));let s=O.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(wc),c.deleteObjectStore(vc),c.deleteObjectStore(ha)})(e),z8(e)),s=s.next(()=>(function(c){let d=c.store(ha),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return d.put(V2,u)})(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>(function(c,d){return d.store(Br).J().next(g=>{c.deleteObjectStore(Br),c.createObjectStore(Br,{keyPath:t8,autoIncrement:!0}).createIndex(sa,e8,{unique:!0});let v=d.store(Br),k=g.map(T=>v.put(T));return O.waitFor(k)})})(e,o))),s=s.next(()=>{(function(c){c.createObjectStore(_c,{keyPath:VN})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.yi(o))),r<6&&i>=6&&(s=s.next(()=>((function(c){c.createObjectStore(Gh)})(e),this.wi(o)))),r<7&&i>=7&&(s=s.next(()=>this.Si(o))),r<8&&i>=8&&(s=s.next(()=>this.bi(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Di(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore(I1,{keyPath:FN})})(e),(function(c){c.createObjectStore(S1,{keyPath:LN})})(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let d=c.createObjectStore(A1,{keyPath:GN});d.createIndex(Rw,WN,{unique:!1}),d.createIndex(u6,QN,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>(function(c){let d=c.createObjectStore(N2,{keyPath:TN});d.createIndex(x2,DN),d.createIndex(l6,RN)})(e)).next(()=>this.Ci(e,o)).next(()=>e.deleteObjectStore(ea))),r<14&&i>=14&&(s=s.next(()=>this.Fi(e,o))),r<15&&i>=15&&(s=s.next(()=>(function(c){c.createObjectStore(wy,{keyPath:jN,autoIncrement:!0}).createIndex(Dw,zN,{unique:!1}),c.createObjectStore(Oh,{keyPath:HN}).createIndex(d6,UN,{unique:!1}),c.createObjectStore(Bh,{keyPath:$N}).createIndex(h6,qN,{unique:!1})})(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore(Oh).clear()}).next(()=>{t.objectStore(Bh).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(c){c.createObjectStore(_y,{keyPath:KN})})(e)})),r<18&&i>=18&&sv()&&(s=s.next(()=>{t.objectStore(Oh).clear()}).next(()=>{t.objectStore(Bh).clear()})),s}wi(e){let t=0;return e.store(ea).ee((r,i)=>{t+=r1(i)}).next(()=>{let r={byteSize:t};return e.store(Gh).put(Tw,r)})}yi(e){let t=e.store(qh),r=e.store(Br);return t.J().next(i=>O.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,da],[o.userId,o.lastAcknowledgedBatchId]);return r.J(sa,s).next(a=>O.forEach(a,c=>{ht(c.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});let d=ra(this.serializer,c);return sE(e,o.userId,d).next(()=>{})}))}))}Si(e){let t=e.store(wc),r=e.store(ea);return e.store(ha).get(V2).next(i=>{let o=[];return r.ee((s,a)=>{let c=new de(s),d=(function(g){return[0,_n(g)]})(c);o.push(t.get(d).next(u=>u?O.resolve():(g=>t.put({targetId:0,path:_n(g),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>O.waitFor(o))})}bi(e,t){e.createObjectStore(Wh,{keyPath:NN});let r=t.store(Wh),i=new nu,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:_n(c)})}};return t.store(ea).ee({X:!0},(s,a)=>{let c=new de(s);return o(c.popLast())}).next(()=>t.store(mc).ee({X:!0},([s,a,c],d)=>{let u=mi(a);return o(u.popLast())}))}Di(e){let t=e.store(vc);return t.ee((r,i)=>{let o=Rh(i),s=eE(this.serializer,o);return t.put(s)})}Ci(e,t){let r=t.store(ea),i=[];return r.ee((o,s)=>{let a=t.store(N2),c=(function(g){return g.document?new J(de.fromString(g.document.name).popFirst(5)):g.noDocument?J.fromSegments(g.noDocument.path):g.unknownDocument?J.fromSegments(g.unknownDocument.path):at(36783)})(s).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(d))}).next(()=>O.waitFor(i))}Fi(e,t){let r=t.store(Br),i=dE(this.serializer),o=new iu(l1.mi,this.serializer.yt);return r.J().next(s=>{let a=new Map;return s.forEach(c=>{let d=a.get(c.userId)??jt();ra(this.serializer,c).keys().forEach(u=>d=d.add(u)),a.set(c.userId,d)}),O.forEach(a,(c,d)=>{let u=new qe(d),g=t1.wt(this.serializer,u),v=o.getIndexManager(u),k=i1.wt(u,this.serializer,v,o.referenceDelegate);return new a1(i,k,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Qh(t,Nr.ce),c).next()})})}};function z8(n){n.createObjectStore(wc,{keyPath:ON}).createIndex(vy,BN,{unique:!0}),n.createObjectStore(vc,{keyPath:"targetId"}).createIndex(c6,PN,{unique:!0}),n.createObjectStore(ha)}var ts="IndexedDbPersistence",pw=18e5,gw=5e3,fw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LV="main",T_=class n{constructor(e,t,r,i,o,s,a,c,d,u,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=o,this.window=s,this.document=a,this.xi=d,this.Oi=u,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!n.v())throw new et(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v_(this,i),this.$i=t+LV,this.serializer=new X2(c),this.Ui=new fc(this.$i,this.Ni,new A_(this.serializer)),this.hi=new o_,this.Pi=new g_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dE(this.serializer),this.Ii=new i_,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&In(ts,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(U.FAILED_PRECONDITION,fw);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Nr(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>y2(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(gs(e))return W(ts,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W(ts,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Th(e).get(Zl).next(t=>O.resolve(this.es(t)))}ts(e){return y2(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,pw)){this.qi=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=Qe(t,_c);return r.J().next(i=>{let o=this.ss(i,pw),s=i.filter(a=>o.indexOf(a)===-1);return O.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(let t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?O.resolve(!0):Th(e).get(Zl).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,gw)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new et(U.FAILED_PRECONDITION,fw);return!1}}return!(!this.networkEnabled||!this.inForeground)||y2(e).J().next(r=>this.ss(r,gw).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&W(ts,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[cu,_c],e=>{let t=new Qh(e,Nr.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>y2(e).J().next(t=>this.ss(t,pw).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return i1.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new p_(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return t1.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){W(ts,"Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=(function(c){return c===18?XN:c===17?m6:c===16?ZN:c===15?yy:c===14?f6:c===13?g6:c===12?YN:c===11?p6:void at(60245)})(this.Ni),s;return this.Ui.runTransaction(e,i,o,a=>(s=new Qh(a,this.ci?this.ci.next():Nr.ce),t==="readwrite-primary"?this.Hi(s).next(c=>!!c||this.Yi(s)).next(c=>{if(!c)throw In(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new et(U.FAILED_PRECONDITION,o6);return r(s)}).next(c=>this.Xi(s).next(()=>c)):this.Is(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Is(e){return Th(e).get(Zl).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,gw)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(U.FAILED_PRECONDITION,fw)})}Xi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Th(e).put(Zl,t)}static v(){return fc.v()}Zi(e){let t=Th(e);return t.get(Zl).next(r=>this.es(r)?(W(ts,"Releasing primary lease."),t.delete(Zl)):O.resolve())}rs(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(In(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();let e=/(?:Version|Mobile)\/1[456]/;ov()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{let t=this.Ki?.getItem(this._s(e))!==null;return W(ts,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return In(ts,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){In("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Th(n){return Qe(n,cu)}function y2(n){return Qe(n,_c)}function jV(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var D_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=jt(),i=jt();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var R_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var d1=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ov()?8:s6(Ae())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new R_;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,t,s,a.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(rc()<=Ht.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ic(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),O.resolve()):(rc()<=Ht.DEBUG&&W("QueryEngine","Query:",ic(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(rc()<=Ht.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ic(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):O.resolve())}ys(e,t){if(p8(t))return O.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Gw(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=jt(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.Ds(t,a);return this.Cs(t,d,s,c.readTime)?this.ys(e,Gw(t,null,"F")):this.vs(e,d,t,c)}))})))}ws(e,t,r,i){return p8(t)||i.isEqual(xt.min())?O.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(t,o);return this.Cs(t,s,r,i)?O.resolve(null):(rc()<=Ht.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(t)),this.vs(e,s,t,CN(i,Hh)).next(a=>a))})}Ds(e,t){let r=new se(R6(e));return t.forEach((i,o)=>{hu(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return rc()<=Ht.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ic(t)),this.ps.getDocumentsMatchingQuery(e,t,kr.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ay="LocalStore",zV=3e8,P_=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ye(Tt),this.xs=new jr(o=>ma(o),du),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function hE(n,e,t,r){return new P_(n,e,t,r)}async function uE(n,e){let t=Dt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=jt();for(let d of i){s.push(d.batchId);for(let u of d.mutations)c=c.add(u.key)}for(let d of o){a.push(d.batchId);for(let u of d.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:s,addedBatchIds:a}))})})}function HV(n,e){let t=Dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,d,u){let g=d.batch,v=g.keys(),k=O.resolve();return v.forEach(T=>{k=k.next(()=>u.getEntry(c,T)).next(N=>{let A=d.docVersions.get(T);ht(A!==null,48541),N.version.compareTo(A)<0&&(g.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),u.addEntry(N)))})}),k.next(()=>a.mutationQueue.removeMutationBatch(c,g))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=jt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pE(n){let e=Dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function UV(n,e){let t=Dt(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let a=[];e.targetChanges.forEach((u,g)=>{let v=i.get(g);if(!v)return;a.push(t.Pi.removeMatchingKeys(o,u.removedDocuments,g).next(()=>t.Pi.addMatchingKeys(o,u.addedDocuments,g)));let k=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(We.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):u.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(u.resumeToken,r)),i=i.insert(g,k),(function(N,A,H){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=zV?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(v,k,u)&&a.push(t.Pi.updateTargetData(o,k))});let c=Jn(),d=jt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push($V(o,s,e.documentUpdates).next(u=>{c=u.ks,d=u.qs})),!r.isEqual(xt.min())){let u=t.Pi.getLastRemoteSnapshotVersion(o).next(g=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.Ms=i,o))}function $V(n,e,t){let r=jt(),i=jt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Jn();return t.forEach((a,c)=>{let d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(xt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W(Ay,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:s,qs:i}})}function qV(n,e){let t=Dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=da),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GV(n,e){let t=Dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.Pi.allocateTargetId(r).next(s=>(i=new Ac(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function O_(n,e,t){let r=Dt(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!gs(s))throw s;W(Ay,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function H8(n,e,t){let r=Dt(n),i=xt.min(),o=jt();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,d,u){let g=Dt(c),v=g.xs.get(u);return v!==void 0?O.resolve(g.Ms.get(v)):g.Pi.getTargetData(d,u)})(r,s,yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:xt.min(),t?o:jt())).next(a=>(WV(r,sV(e),a),{documents:a,Qs:o})))}function WV(n,e,t){let r=n.Os.get(e)||xt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}var h1=class{constructor(){this.activeTargetIds=uV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var u1=class{constructor(){this.Mo=new h1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var B_=class{Oo(e){}shutdown(){}};var U8="ConnectivityMonitor",p1=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(U8,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){W(U8,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var k2=null;function N_(){return k2===null?k2=(function(){return 268435456+Math.round(2147483648*Math.random())})():k2++,"0x"+k2.toString(16)}var mw="RestConnection",QV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},V_=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===j2?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){let s=N_(),a=this.zo(e,t.toUriEncodedString());W(mw,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);let{host:d}=new URL(a),u=zo(d);return this.Jo(e,a,c,r,u).then(g=>(W(mw,`Received RPC '${e}' ${s}: `,g),g),g=>{throw fa(mw,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,t,r,i,o,s){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){let r=QV[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var F_=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var wn="WebChannelConnection",L_=class extends V_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=N_();return new Promise((a,c)=>{let d=new sw;d.setWithCredentials(!0),d.listenOnce(aw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Eh.NO_ERROR:let g=d.getResponseJson();W(wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Eh.TIMEOUT:W(wn,`RPC '${e}' ${s} timed out`),c(new et(U.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:let v=d.getStatus();if(W(wn,`RPC '${e}' ${s} failed with status:`,v,"response text:",d.getResponseText()),v>0){let k=d.getResponseJson();Array.isArray(k)&&(k=k[0]);let T=k?.error;if(T&&T.status&&T.message){let N=(function(H){let $=H.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf($)>=0?$:U.UNKNOWN})(T.status);c(new et(N,T.message))}else c(new et(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new et(U.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{W(wn,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);W(wn,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",u,r,15)})}T_(e,t,r){let i=N_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dw(),a=cw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let u=o.join("");W(wn,`Creating RPC '${e}' stream ${i}: ${u}`,c);let g=s.createWebChannel(u,c);this.I_(g);let v=!1,k=!1,T=new F_({Yo:A=>{k?W(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(W(wn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),W(wn,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),N=(A,H,$)=>{A.listen(H,G=>{try{$(G)}catch(ot){setTimeout(()=>{throw ot},0)}})};return N(g,Yl.EventType.OPEN,()=>{k||(W(wn,`RPC '${e}' stream ${i} transport opened.`),T.o_())}),N(g,Yl.EventType.CLOSE,()=>{k||(k=!0,W(wn,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(g))}),N(g,Yl.EventType.ERROR,A=>{k||(k=!0,fa(wn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new et(U.UNAVAILABLE,"The operation could not be completed")))}),N(g,Yl.EventType.MESSAGE,A=>{if(!k){let H=A.data[0];ht(!!H,16349);let $=H,G=$?.error||$[0]?.error;if(G){W(wn,`RPC '${e}' stream ${i} received error:`,G);let ot=G.status,yt=(function(y){let b=Ne[y];if(b!==void 0)return U6(b)})(ot),mt=G.message;yt===void 0&&(yt=U.INTERNAL,mt="Unknown error status: "+ot+" with message "+G.message),k=!0,T.a_(new et(yt,mt)),g.close()}else W(wn,`RPC '${e}' stream ${i} received:`,H),T.u_(H)}}),N(a,lw.STAT_EVENT,A=>{A.stat===m2.PROXY?W(wn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===m2.NOPROXY&&W(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function KV(){return typeof window<"u"?window:null}function A2(){return typeof document<"u"?document:null}function O1(n){return new Jw(n,!0)}var g1=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var $8="PersistentStream",f1=class{constructor(e,t,r,i,o,s,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(In(t.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new et(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W($8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(W($8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},j_=class extends f1{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=SV(this.serializer,e),r=(function(o){if(!("targetChange"in o))return xt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?xt.min():s.readTime?Sn(s.readTime):xt.min()})(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=n_(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=U2(c)?{documents:K6(o,c)}:{query:Y6(o,c).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$6(o,s.resumeToken);let d=t_(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(xt.min())>0){a.readTime=Sc(o,s.snapshotVersion.toTimestamp());let d=t_(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a})(this.serializer,e);let r=TV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=n_(this.serializer),t.removeTarget=e,this.q_(t)}},z_=class extends f1{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=AV(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=n_(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Z2(this.serializer,r))};this.q_(t)}};var H_=class{},U_=class extends H_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new et(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,e_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(U.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,e_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new et(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},$_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(In(t),this.aa=!1):W("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var ka="RemoteStore",q_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ma(this)&&(W(ka,"Restarting streams for network reachability change."),await(async function(c){let d=Dt(c);d.Ea.add(4),await uu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await B1(d)})(this))})}),this.Ra=new $_(r,i)}};async function B1(n){if(Ma(n))for(let e of n.da)await e(!0)}async function uu(n){for(let e of n.da)await e(!1)}function gE(n,e){let t=Dt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Py(t)?Ry(t):Oc(t).O_()&&Dy(t,e))}function Ty(n,e){let t=Dt(n),r=Oc(t);t.Ia.delete(e),r.O_()&&fE(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ma(t)&&t.Ra.set("Unknown"))}function Dy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oc(n).Y_(e)}function fE(n,e){n.Va.Ue(e),Oc(n).Z_(e)}function Ry(n){n.Va=new Xw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Oc(n).start(),n.Ra.ua()}function Py(n){return Ma(n)&&!Oc(n).x_()&&n.Ia.size>0}function Ma(n){return Dt(n).Ea.size===0}function mE(n){n.Va=void 0}async function YV(n){n.Ra.set("Online")}async function ZV(n){n.Ia.forEach((e,t)=>{Dy(n,e)})}async function XV(n,e){mE(n),Py(n)?(n.Ra.ha(e),Ry(n)):n.Ra.set("Unknown")}async function JV(n,e,t){if(n.Ra.set("Online"),e instanceof Q2&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(n,e)}catch(r){W(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await m1(n,r)}else if(e instanceof dc?n.Va.Ze(e):e instanceof W2?n.Va.st(e):n.Va.tt(e),!t.isEqual(xt.min()))try{let r=await pE(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.Ia.get(d);u&&o.Ia.set(d,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{let u=o.Ia.get(c);if(!u)return;o.Ia.set(c,u.withResumeToken(We.EMPTY_BYTE_STRING,u.snapshotVersion)),fE(o,c);let g=new Ac(u.target,c,d,u.sequenceNumber);Dy(o,g)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){W(ka,"Failed to raise snapshot:",r),await m1(n,r)}}async function m1(n,e,t){if(!gs(e))throw e;n.Ea.add(1),await uu(n),n.Ra.set("Offline"),t||(t=()=>pE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{W(ka,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await B1(n)})}function vE(n,e){return e().catch(t=>m1(n,t,e))}async function pu(n){let e=Dt(n),t=us(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:da;for(;tF(e);)try{let i=await qV(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,eF(e,i)}catch(i){await m1(e,i)}wE(e)&&_E(e)}function tF(n){return Ma(n)&&n.Ta.length<10}function eF(n,e){n.Ta.push(e);let t=us(n);t.O_()&&t.X_&&t.ea(e.mutations)}function wE(n){return Ma(n)&&!us(n).x_()&&n.Ta.length>0}function _E(n){us(n).start()}async function nF(n){us(n).ra()}async function rF(n){let e=us(n);for(let t of n.Ta)e.ea(t.mutations)}async function iF(n,e,t){let r=n.Ta.shift(),i=Kw.from(r,e,t);await vE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await pu(n)}async function oF(n,e){e&&us(n).X_&&await(async function(r,i){if((function(s){return _V(s)&&s!==U.ABORTED})(i.code)){let o=r.Ta.shift();us(r).B_(),await vE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await pu(r)}})(n,e),wE(n)&&_E(n)}async function q8(n,e){let t=Dt(n);t.asyncQueue.verifyOperationInProgress(),W(ka,"RemoteStore received new credentials");let r=Ma(t);t.Ea.add(3),await uu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await B1(t)}async function sF(n,e){let t=Dt(n);e?(t.Ea.delete(2),await B1(t)):e||(t.Ea.add(2),await uu(t),t.Ra.set("Unknown"))}function Oc(n){return n.ma||(n.ma=(function(t,r,i){let o=Dt(t);return o.sa(),new j_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:YV.bind(null,n),t_:ZV.bind(null,n),r_:XV.bind(null,n),H_:JV.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Py(n)?Ry(n):n.Ra.set("Unknown")):(await n.ma.stop(),mE(n))})),n.ma}function us(n){return n.fa||(n.fa=(function(t,r,i){let o=Dt(t);return o.sa(),new z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:nF.bind(null,n),r_:oF.bind(null,n),ta:rF.bind(null,n),na:iF.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await pu(n)):(await n.fa.stop(),n.Ta.length>0&&(W(ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var G_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Oy(n,e){if(In("AsyncQueue",`${e}: ${n}`),gs(n))return new et(U.UNAVAILABLE,`${e}: ${n}`);throw n}var v1=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=Dh(),this.sortedSet=new ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var w1=class{constructor(){this.ga=new ye(J.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Dc=class n{constructor(e,t,r,i,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,v1.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var W_=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},Q_=class{constructor(){this.queries=G8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Dt(t),o=i.queries;i.queries=G8(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new et(U.ABORTED,"Firestore shutting down"))}};function G8(){return new jr(n=>D6(n),P1)}async function aF(n,e){let t=Dt(n),r=3,i=e.query,o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new W_,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=Oy(s,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&By(t)}async function lF(n,e){let t=Dt(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cF(n,e){let t=Dt(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&By(t)}function dF(n,e,t){let r=Dt(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function By(n){n.Ca.forEach(e=>{e.next()})}var K_,W8;(W8=K_||(K_={})).Ma="default",W8.Cache="cache";var Y_=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==K_.Cache}};var _1=class{constructor(e){this.key=e}},y1=class{constructor(e){this.key=e}},Z_=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=R6(e),this.tu=new v1(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new w1,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,g)=>{let v=i.get(u),k=hu(this.query,g)?g:null,T=!!v&&this.mutatedKeys.has(v.key),N=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations),A=!1;v&&k?v.data.isEqual(k.data)?T!==N&&(r.track({type:3,doc:k}),A=!0):this.su(v,k)||(r.track({type:2,doc:k}),A=!0,(c&&this.eu(k,c)>0||d&&this.eu(k,d)<0)&&(a=!0)):!v&&k?(r.track({type:0,doc:k}),A=!0):v&&!k&&(r.track({type:1,doc:v}),A=!0,(c||d)&&(a=!0)),A&&(k?(s=s.add(k),o=N?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((u,g)=>(function(k,T){let N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:A})}};return N(k)-N(T)})(u.type,g.type)||this.eu(u.doc,g.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new Dc(this.query,e.tu,o,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=jt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new y1(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new _1(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=jt();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Ny="SyncEngine",X_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},J_=class{constructor(e){this.key=e,this.hu=!1}},ty=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new jr(a=>D6(a),P1),this.Iu=new Map,this.Eu=new Set,this.du=new ye(J.comparator),this.Au=new Map,this.Ru=new ru,this.Vu={},this.mu=new Map,this.fu=Tc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function hF(n,e,t=!0){let r=CE(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await yE(r,e,t,!0),i}async function uF(n,e){let t=CE(n);await yE(t,e,!0,!1)}async function yE(n,e,t,r){let i=await GV(n.localStore,yr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await pF(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&gE(n.remoteStore,i),a}async function pF(n,e,t,r,i){n.pu=(g,v,k)=>(async function(N,A,H,$){let G=A.view.ru(H);G.Cs&&(G=await H8(N.localStore,A.query,!1).then(({documents:C})=>A.view.ru(C,G)));let ot=$&&$.targetChanges.get(A.targetId),yt=$&&$.targetMismatches.get(A.targetId)!=null,mt=A.view.applyChanges(G,N.isPrimaryClient,ot,yt);return K8(N,A.targetId,mt.au),mt.snapshot})(n,g,v,k);let o=await H8(n.localStore,e,!0),s=new Z_(e,o.Qs),a=s.ru(o.documents),c=eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,c);K8(n,t,d.au);let u=new X_(e,t,s);return n.Tu.set(e,u),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function gF(n,e,t){let r=Dt(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!P1(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await O_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ty(r.remoteStore,i.targetId),ey(r,i.targetId)}).catch(ba)):(ey(r,i.targetId),await O_(r.localStore,i.targetId,!0))}async function fF(n,e){let t=Dt(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(t.remoteStore,r.targetId))}async function mF(n,e,t){let r=EE(n);try{let i=await(function(s,a){let c=Dt(s),d=we.now(),u=a.reduce((k,T)=>k.add(T.key),jt()),g,v;return c.persistence.runTransaction("Locally write mutations","readwrite",k=>{let T=Jn(),N=jt();return c.Ns.getEntries(k,u).next(A=>{T=A,T.forEach((H,$)=>{$.isValidDocument()||(N=N.add(H))})}).next(()=>c.localDocuments.getOverlayedDocuments(k,T)).next(A=>{g=A;let H=[];for(let $ of a){let G=wV($,g.get($.key).overlayedDocument);G!=null&&H.push(new yi($.key,G,C6(G.value.mapValue),Fr.exists(!0)))}return c.mutationQueue.addMutationBatch(k,d,H,a)}).next(A=>{v=A;let H=A.applyToLocalDocumentSet(g,N);return c.documentOverlayCache.saveOverlays(k,A.batchId,H)})}).then(()=>({batchId:v.batchId,changes:O6(g)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new ye(Tt)),d=d.insert(a,c),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,t),await gu(r,i.changes),await pu(r.remoteStore)}catch(i){let o=Oy(i,"Failed to persist write");t.reject(o)}}async function kE(n,e){let t=Dt(n);try{let r=await UV(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ht(s.hu,14607):i.removedDocuments.size>0&&(ht(s.hu,42227),s.hu=!1))}),await gu(t,r,e)}catch(r){await ba(r)}}function Q8(n,e,t){let r=Dt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=Dt(s);c.onlineState=a;let d=!1;c.queries.forEach((u,g)=>{for(let v of g.Sa)v.va(a)&&(d=!0)}),d&&By(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vF(n,e,t){let r=Dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new ye(J.comparator);s=s.insert(o,un.newNoDocument(o,xt.min()));let a=jt().add(o),c=new G2(xt.min(),new Map,new ye(Tt),s,a);await kE(r,c),r.du=r.du.remove(o),r.Au.delete(e),Vy(r)}else await O_(r.localStore,e,!1).then(()=>ey(r,e,t)).catch(ba)}async function wF(n,e){let t=Dt(n),r=e.batch.batchId;try{let i=await HV(t.localStore,e);xE(t,r,null),bE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gu(t,i)}catch(i){await ba(i)}}async function _F(n,e,t){let r=Dt(n);try{let i=await(function(s,a){let c=Dt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,a).next(g=>(ht(g!==null,37113),u=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})})(r.localStore,e);xE(r,e,t),bE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gu(r,i)}catch(i){await ba(i)}}function bE(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function xE(n,e,t){let r=Dt(n),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||ME(n,r)})}function ME(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Ty(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Vy(n))}function K8(n,e,t){for(let r of t)r instanceof _1?(n.Ru.addReference(r.key,e),yF(n,r)):r instanceof y1?(W(Ny,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||ME(n,r.key)):at(19791,{wu:r})}function yF(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(W(Ny,"New document in limbo: "+t),n.Eu.add(r),Vy(n))}function Vy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new J(de.fromString(e)),r=n.fu.next();n.Au.set(r,new J_(t)),n.du=n.du.insert(t,r),gE(n.remoteStore,new Ac(yr(R1(t.path)),r,"TargetPurposeLimboResolution",Nr.ce))}}async function gu(n,e,t){let r=Dt(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{s.push(r.pu(c,e,t).then(d=>{if((d||t)&&r.isPrimaryClient){let u=d?!d.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,u?"current":"not-current")}if(d){i.push(d);let u=D_.As(c.targetId,d);o.push(u)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(c,d){let u=Dt(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>O.forEach(d,v=>O.forEach(v.Es,k=>u.persistence.referenceDelegate.addReference(g,v.targetId,k)).next(()=>O.forEach(v.ds,k=>u.persistence.referenceDelegate.removeReference(g,v.targetId,k)))))}catch(g){if(!gs(g))throw g;W(Ay,"Failed to update sequence numbers: "+g)}for(let g of d){let v=g.targetId;if(!g.fromCache){let k=u.Ms.get(v),T=k.snapshotVersion,N=k.withLastLimboFreeSnapshotVersion(T);u.Ms=u.Ms.insert(v,N)}}})(r.localStore,o))}async function kF(n,e){let t=Dt(n);if(!t.currentUser.isEqual(e)){W(Ny,"User change. New user:",e.toKey());let r=await uE(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(c=>{c.reject(new et(U.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(t,r.Ls)}}function bF(n,e){let t=Dt(n),r=t.Au.get(e);if(r&&r.hu)return jt().add(r.key);{let i=jt(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function CE(n){let e=Dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vF.bind(null,e),e.Pu.H_=cF.bind(null,e.eventManager),e.Pu.yu=dF.bind(null,e.eventManager),e}function EE(n){let e=Dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_F.bind(null,e),e}var Fy=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=O1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return hE(this.persistence,new d1,t.initialUser,this.serializer)}Cu(t){return new iu(l1.mi,this.serializer)}Du(t){return new u1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),ny=class extends Fy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof c1,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new o1(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new iu(r=>c1.mi(r,t),this.serializer)}},ry=class extends Fy{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await EE(this.xu.syncEngine),await pu(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return hE(this.persistence,new d1,e.initialUser,this.serializer)}Fu(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new o1(r,e.asyncQueue,t)}Mu(e,t){let r=new Aw(t,this.persistence);return new Sw(e.asyncQueue,r)}Cu(e){let t=jV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new T_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,KV(),A2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new u1}};var IE=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Q8(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kF.bind(null,this.syncEngine),await sF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Q_})()}createDatastore(t){let r=O1(t.databaseInfo.databaseId),i=(function(s){return new L_(s)})(t.databaseInfo);return(function(s,a,c,d){return new U_(s,a,c,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new q_(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>Q8(this.syncEngine,r,0),(function(){return p1.v()?new p1:new B_})())}createSyncEngine(t,r){return(function(o,s,a,c,d,u,g){let v=new ty(o,s,a,c,d,u);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Dt(r);W(ka,"RemoteStore shutting down."),i.Ea.add(5),await uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var iy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):In("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ps="FirestoreClient",oy=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=zh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{W(ps,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W(ps,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Oy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function vw(n,e){n.asyncQueue.verifyOperationInProgress(),W(ps,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Y8(n,e){n.asyncQueue.verifyOperationInProgress();let t=await xF(n);W(ps,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>q8(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>q8(e.remoteStore,i)),n._onlineComponents=e}async function xF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(ps,"Using user provided OfflineComponentProvider");try{await vw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),await vw(n,new Fy)}}else W(ps,"Using default OfflineComponentProvider"),await vw(n,new ny(void 0));return n._offlineComponents}async function SE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(ps,"Using user provided OnlineComponentProvider"),await Y8(n,n._uninitializedComponentsProvider._online)):(W(ps,"Using default OnlineComponentProvider"),await Y8(n,new IE))),n._onlineComponents}function MF(n){return SE(n).then(e=>e.syncEngine)}async function CF(n){let e=await SE(n),t=e.eventManager;return t.onListen=hF.bind(null,e.syncEngine),t.onUnlisten=gF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fF.bind(null,e.syncEngine),t}function EF(n,e,t={}){let r=new Lr;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,d){let u=new iy({next:v=>{u.Nu(),s.enqueueAndForget(()=>lF(o,g));let k=v.docs.has(a);!k&&v.fromCache?d.reject(new et(U.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&v.fromCache&&c&&c.source==="server"?d.reject(new et(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new Y_(R1(a.path),u,{includeMetadataChanges:!0,qa:!0});return aF(o,g)})(await CF(n),n.asyncQueue,e,t,r)),r.promise}function AE(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Z8=new Map;var TE="firestore.googleapis.com",X8=!0,k1=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TE,this.ssl=X8}else this.host=e.host,this.ssl=e.ssl??X8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FV)throw new et(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new et(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new et(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new et(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ou=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ww;switch(r.type){case"firstParty":return new bw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new et(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=Z8.get(t);r&&(W("ComponentProvider","Removing Datastore"),Z8.delete(t),r.terminate())})(this),Promise.resolve()}};function IF(n,e,t,r={}){n=pc(n,ou);let i=zo(e),o=n._getSettings(),s=it(I({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(H0(`https://${a}`),U0("Firestore",!0)),o.host!==TE&&o.host!==a&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=it(I({},o),{host:a,ssl:i,emulatorOptions:r});if(!hi(c,s)&&(n._setSettings(c),r.mockUserToken)){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=qe.MOCK_USER;else{d=_M(r.mockUserToken,n._app?.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new et(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(g)}n._authCredentials=new _w(new T2(d,u))}}var sy=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},An=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(lu(t,n._jsonSchema))return new n(e,r||null,new J(de.fromString(t.referencePath)))}};An._jsonSchemaVersion="firestore/documentReference/1.0",An._jsonSchema={type:Fe("string",An._jsonSchemaVersion),referencePath:Fe("string")};var su=class n extends sy{constructor(e,t,r){super(e,t,R1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Ly(n,e,...t){if(n=En(n),arguments.length===1&&(e=zh.newId()),xN("doc","path",e),n instanceof ou){let r=de.fromString(e,...t);return KC(r),new An(n,null,new J(r))}{if(!(n instanceof An||n instanceof su))throw new et(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(de.fromString(e,...t));return KC(r),new An(n.firestore,n instanceof su?n.converter:null,new J(r))}}var J8="AsyncQueue",b1=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g1(this,"async_queue_retry"),this._c=()=>{let r=A2();r&&W(J8,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=A2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=A2();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Lr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gs(e))throw e;W(J8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,In("INTERNAL UNHANDLED ERROR: ",t6(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=G_.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&at(47125,{Pc:t6(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function t6(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Rc=class extends ou{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new b1,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new b1(e),this._firestoreClient=void 0,await e}}};function jy(n,e){let t=typeof n=="object"?n:ql(),r=typeof n=="string"?n:e||j2,i=mh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=wM("firestore");o&&IF(i,...o)}return i}function DE(n){if(n._terminated)throw new et(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RE(n),n._firestoreClient}function RE(n){let e=n._freezeSettings(),t=(function(i,o,s,a){return new Pw(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,AE(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new oy(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}function PE(n,e){fa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return SF(n,IE.provider,{build:r=>new ry(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function SF(n,e,t){if((n=pc(n,Rc))._firestoreClient||n._terminated)throw new et(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new et(U.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},RE(n)}var rs=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(We.fromBase64String(e))}catch(t){throw new et(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(We.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};rs._jsonSchemaVersion="firestore/bytes/1.0",rs._jsonSchema={type:Fe("string",rs._jsonSchemaVersion),bytes:Fe("string")};var au=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new et(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var x1=class{constructor(e){this._methodName=e}};var is=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(lu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Fe("string",is._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};var os=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new et(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Fe("string",os._jsonSchemaVersion),vectorValues:Fe("object")};var AF=/^__.*__$/,ay=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,t,this.fieldTransforms):new hs(e,this.data,t,this.fieldTransforms)}};function OE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{Ac:n})}}var ly=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n(I(I({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return M1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OE(this.Ac)&&AF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},cy=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||O1(e)}Cc(e,t,r,i=!1){return new ly({Ac:e,methodName:t,Dc:r,path:Ge.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function TF(n){let e=n._freezeSettings(),t=O1(n._databaseId);return new cy(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DF(n,e,t,r,i,o={}){let s=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);FE("Data must be an object, but it was:",s,r);let a=NE(r,s),c,d;if(o.merge)c=new Vr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let g of o.mergeFields){let v=RF(e,g,t);if(!s.contains(v))throw new et(U.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);OF(u,v)||u.push(v)}c=new Vr(u),d=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=s.fieldTransforms;return new ay(new Xn(a),c,d)}function BE(n,e){if(VE(n=En(n)))return FE("Unsupported field value:",e,n),NE(n,e);if(n instanceof x1)return(function(r,i){if(!OE(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=BE(a,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=we.fromDate(r);return{timestampValue:Sc(i.serializer,o)}}if(r instanceof we){let o=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sc(i.serializer,o)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rs)return{bytesValue:$6(i.serializer,r._byteString)};if(r instanceof An){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Iy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof os)return(function(s,a){return{mapValue:{fields:{[by]:{stringValue:xy},[kc]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ey(a.serializer,d)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${gy(r)}`)})(n,e)}function NE(n,e){let t={};return v6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(n,(r,i)=>{let o=BE(i,e.mc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function VE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof we||n instanceof is||n instanceof rs||n instanceof An||n instanceof x1||n instanceof os)}function FE(n,e,t){if(!VE(t)||!r6(t)){let r=gy(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function RF(n,e,t){if((e=En(e))instanceof au)return e._internalPath;if(typeof e=="string")return LE(n,e);throw M1("Field path arguments must be of type string or ",n,!1,void 0,t)}var PF=new RegExp("[~\\*/\\[\\]]");function LE(n,e,t){if(e.search(PF)>=0)throw M1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new au(...e.split("."))._internalPath}catch{throw M1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function M1(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new et(U.INVALID_ARGUMENT,a+n+c)}function OF(n,e){return n.some(t=>t.isEqual(e))}var C1=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(jE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},dy=class extends C1{data(){return super.data()}};function jE(n,e){return typeof e=="string"?LE(n,e):e instanceof au?e._internalPath:e._delegate._internalPath}var hy=class{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xa(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[kc].arrayValue?.values?.map(r=>ve(r.doubleValue));return new os(t)}convertGeoPoint(e){return new is(ve(e.latitude),ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=T1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kh(e));default:return null}}convertTimestamp(e){let t=Ki(e);return new we(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=de.fromString(e);ht(tE(r),9688,{name:e});let i=new yc(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||In(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function BF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var la=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pa=class n extends C1{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(jE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Fe("string",pa._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};var hc=class extends pa{data(e={}){return super.data(e)}},jh=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new la(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hc(this._firestore,this._userDataWriter,r.key,r,new la(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new la(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new la(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,u=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:NF(a.type),doc:c,oldIndex:d,newIndex:u}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function NF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:n})}}function zE(n){n=pc(n,An);let e=pc(n.firestore,Rc);return EF(DE(e),n._key).then(t=>FF(e,n,t))}jh._jsonSchemaVersion="firestore/querySnapshot/1.0",jh._jsonSchema={type:Fe("string",jh._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};var uy=class extends hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,t)}};function HE(n,e,t){n=pc(n,An);let r=pc(n.firestore,Rc),i=BF(n.converter,e,t);return VF(r,[DF(TF(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Fr.none())])}function VF(n,e){return(function(r,i){let o=new Lr;return r.asyncQueue.enqueueAndForget(async()=>mF(await MF(r),i,o)),o.promise})(DE(n),e)}function FF(n,e,t){let r=t.docs.get(e._key),i=new uy(n);return new pa(n,i,e._key,r,new la(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Pc=i})(qo),$o(new wr("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Rc(new yw(r.getProvider("auth-internal")),new xw(s,r.getProvider("app-check-internal")),(function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new et(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(d.options.projectId,u)})(s,i),s);return o=I({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pr(GC,WC,e),Pr(GC,WC,"esm2020")})();var LF="Cloud Sync",zy="#0b63ff";function UE(n,e,t,r){try{let i=Object.keys(e||{});console.groupCollapsed(`%c\u2601\uFE0F ${LF} %c${i.length} Change(s) in ${n}`,`color: ${zy}; font-weight: bold;`,"color: gray; font-weight: normal;");for(let o of i){let s=t?.[o],a=e[o];console.log(`%c${o}%c`,`color: ${zy}; font-weight: bold; border-left: 3px solid ${zy}; padding-left: 5px;`,"color: inherit;",{from:s,to:a})}console.groupEnd()}catch(i){console.warn("Cloud logger error",i)}}var jF="firebase",zF="12.7.0";Pr(jF,zF,"app");var $E={firebaseConfig:{apiKey:"AIzaSyAFDN_nVGHhAxiQAFSKYxeqIeI6xyBVF_s",authDomain:"ipa-quiz-83cb6.firebaseapp.com",projectId:"ipa-quiz-83cb6",storageBucket:"ipa-quiz-83cb6.firebasestorage.app",messagingSenderId:"33326350668",appId:"1:33326350668:web:c88840af1599ca04fd4fe9",measurementId:"G-K6KZGBVETG"}};var Bc=class n{app;db;init(){if(this.app)return this.app;let e=$E.firebaseConfig;if(e)try{this.app=kv(e);try{this.db=jy(this.app);try{PE(this.db).catch(()=>{})}catch{}}catch{}return this.app}catch(t){try{return this.app=ql(),this.app}catch{console.warn("Firebase init failed",t);return}}}getFirestore(){if(this.db)return this.db;let e=this.init();if(e)try{return this.db=jy(e),this.db}catch{return}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function qE(n){if(n.length===0)return;let e=Math.floor(Math.random()*n.length);return n[e]}function HF(n){let e=n.map(t=>t.trim()).map(t=>t.replace(/^U\+?/i,"").replace(/^0x/i,"")).map(t=>t?Number.parseInt(t,16):Number.NaN).filter(t=>Number.isFinite(t));if(e.length!==0)try{return String.fromCodePoint(...e)}catch{return}}var fs=class n{indexPromise;voiceManifestPromises=new Map;async pickSoundByChars(e){return qE(await this.listSoundsByChars(e))}async listSoundsByChars(e){let t=await this.loadIndex(),r=t.sources.flatMap(d=>d.voices.map(u=>u.manifestUrl)),i=new Map(t.sources.filter(d=>!!d.logoUrl).map(d=>[d.sourceId,d.logoUrl])),o=new Map(t.sources.filter(d=>!!d.title).map(d=>[d.sourceId,d.title])),s=new Map(t.sources.flatMap(d=>d.voices.map(u=>[`${d.sourceId}/${u.voiceId}`,{author:u.author}])).filter(([,d])=>d.author));return(await Promise.all(r.map(d=>this.loadVoiceManifest(d)))).flatMap(d=>d.files.filter(u=>u.chars===e).map(u=>I(I(I({url:u.url,sourceId:d.sourceId,voiceId:d.voiceId},i.get(d.sourceId)?{logoUrl:i.get(d.sourceId)}:{}),o.get(d.sourceId)?{sourceTitle:o.get(d.sourceId)}:{}),s.get(`${d.sourceId}/${d.voiceId}`)?s.get(`${d.sourceId}/${d.voiceId}`):{})))}async pickSoundByUnicodes(e){return qE(await this.listSoundsByUnicodes(e))}async listSoundsByUnicodes(e){let t=HF(e);return t?this.listSoundsByChars(t):[]}async pickSoundUrlByChars(e){return(await this.pickSoundByChars(e))?.url}async pickSoundUrlByUnicodes(e){return(await this.pickSoundByUnicodes(e))?.url}loadIndex(){return this.indexPromise??=this.fetchJson("sounds/manifest.json"),this.indexPromise}loadVoiceManifest(e){let t=e,r=this.voiceManifestPromises.get(t);if(r)return r;let i=this.fetchJson(e);return this.voiceManifestPromises.set(t,i),i}async fetchJson(e){let t=new URL(e,document.baseURI).toString(),r=await fetch(t);if(!r.ok)throw new Error(`Failed to load sound manifest: ${r.status} ${r.statusText} (${e})`);return await r.json()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var fu={"quiz-1":{id:"quiz-1",name:"IPA Vowels",description:"Learn the International Phonetic Alphabet (IPA) symbols for vowels.",sessions:{}},"quiz-2":{sessions:{},id:"quiz-2",name:"IPA Consonants",description:"Learn the International Phonetic Alphabet (IPA) symbols for consonants."}};var GE=new Map(fi.map(n=>[n.id,n]));function WE(n){let e={};for(let[t,r]of Object.entries(n.quizzes)){let i={};for(let[o,s]of Object.entries(r.sessions??{})){let a={};for(let[c,d]of Object.entries(s.questions??{})){let u={};for(let[g,v]of Object.entries(d.options??{}))u[g]={vowelId:v.id,type:v.type,soundIndex:v.soundIndex};a[c]={vowelId:d.vowel.id,vowelSoundIndex:d.vowel.soundIndex,type:d.type,index:d.index,options:u,selectedAnswer:d.selectedAnswer,answered:d.answered,answeredDate:d.answeredDate}}i[o]={quizId:s.quizId,id:s.id,creationDate:s.creationDate,questions:a,currentQuestionIndex:s.currentQuestionIndex}}e[t]={id:r.id,currentSessionId:r.currentSessionId,sessions:i}}return{quizzes:e,currentQuizId:n.currentQuizId,version:n.version}}function QE(n){let e={};for(let[t,r]of Object.entries(n.quizzes)){let i=fu[t];if(!i)continue;let o={};for(let[s,a]of Object.entries(r.sessions??{})){let c={};for(let[d,u]of Object.entries(a.questions??{})){let g=GE.get(u.vowelId);if(!g)continue;let v={};for(let[T,N]of Object.entries(u.options??{})){let A=GE.get(N.vowelId);A&&(v[T]=it(I({},A),{type:N.type,soundIndex:N.soundIndex}))}let k={vowel:it(I({},g),{soundIndex:u.vowelSoundIndex}),type:u.type,index:u.index,options:v};u.answered?c[d]=it(I({},k),{answered:!0,selectedAnswer:u.selectedAnswer,answeredDate:u.answeredDate}):c[d]=it(I({},k),{answered:!1,selectedAnswer:void 0})}o[s]={quizId:a.quizId,id:a.id,creationDate:a.creationDate,questions:c,currentQuestionIndex:a.currentQuestionIndex}}e[t]=it(I({},i),{id:r.id,currentSessionId:r.currentSessionId,sessions:o})}for(let[t,r]of Object.entries(fu))e[t]||(e[t]=I({},r));return{quizzes:e,currentQuizId:n.currentQuizId,version:n.version}}var Nc=class n{lastSentState;uid;idToken;firebaseService=f(Bc);phonemeService=f(fs);setUser(e,t){this.uid=e,this.idToken=t}async fetchRemoteState(e){let t=e??this.uid;if(!t)return;let r=this.firebaseService.getFirestore();if(r)try{let i=Ly(r,"users",t),o=await zE(i);if(console.info("[CloudSync] fetched user doc",{uid:t,exists:o.exists()}),!o.exists())return;let s=o.data();if(console.info("[CloudSync] user doc data keys",Object.keys(s??{})),!s)return;try{this.lastSentState=this.clone(s)}catch{}try{return QE(s)}catch(a){console.warn("Failed to denormalize remote state",a);return}}catch(i){console.warn("Failed to fetch remote state",i);return}}async sync(e){try{if(!this.uid)return;console.info("[CloudSync] preparing sync for",this.uid);let t=WE(e),r=this.computeDiff(this.lastSentState,t);if(!r||Object.keys(r).length===0)return;try{UE(this.constructor.name,r,this.lastSentState,t)}catch{}let i=this.firebaseService.getFirestore();if(i){let o=Ly(i,"users",this.uid);console.info("[CloudSync] writing changes for",this.uid,Object.keys(r)),await HE(o,r,{merge:!0}),console.info("[CloudSync] write complete for",this.uid)}this.lastSentState=this.clone(t)}catch(t){console.warn("Cloud sync failed:",t)}}computeDiff(e,t){if(e===void 0)return this.clone(t)??{};if(e===t)return{};if(!this.isObject(e)||!this.isObject(t))return this.clone(t);let r={},i=new Set([...Object.keys(e),...Object.keys(t)]);for(let o of i){let s=e?.[o],a=t?.[o];if(this.isObject(s)&&this.isObject(a)){let c=this.computeDiff(s,a);c&&Object.keys(c).length>0&&(r[o]=c)}else Array.isArray(s)&&Array.isArray(a)?(s.length!==a.length||JSON.stringify(s)!==JSON.stringify(a))&&(r[o]=this.clone(a)):s!==a&&(r[o]=this.clone(a))}return r}isObject(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}clone(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Vc=class n{firebaseService=f(Bc);cloudSync=f(Nc);phonemeSoundsService=f(fs);store=f(Qn);authInitialized=!1;user$=new Ee(null);init(){if(this.authInitialized)return;let e=this.firebaseService.init();if(!e)return;let t=Zo(e);Xv(t,async r=>this.handleUser(r)),this.authInitialized=!0}async signInAnonymously(){this.init();let e=this.firebaseService.init();if(!e)return;let t=Zo(e);await Kv(t)}async signInWithGoogle(){this.init();let e=this.firebaseService.init();if(!e)return;let t=Zo(e);await nw(t,new Qv)}async signInWithEmail(e,t){this.init();let r=this.firebaseService.init();if(!r)return;let i=Zo(r);await Zv(i,e,t)}async signUpWithEmail(e,t){this.init();let r=this.firebaseService.init();if(!r)return;let i=Zo(r);await Yv(i,e,t)}async signOut(){let e=this.firebaseService.init();if(!e)return;let t=Zo(e);await Jv(t),this.cloudSync.setUser(void 0,void 0)}async handleUser(e){if(this.user$.next(e),!e){this.cloudSync.setUser(void 0,void 0);return}let t;try{t=await e.getIdToken()}catch(r){console.warn("Failed to obtain ID token for cloud sync",r),t=void 0}console.info("[FirebaseAuth] detected user",{uid:e.uid,anonymous:e.isAnonymous});try{console.info("[FirebaseAuth] attempting to fetch remote state for",e.uid);let r=await this.cloudSync.fetchRemoteState(e.uid);if(r){let i=[];for(let o of Object.values(r.quizzes))for(let s of Object.values(o.sessions??{}))i.push(...Object.values(s.questions??{}));i.length>0&&await rw(i,this.phonemeSoundsService),console.info("[FirebaseAuth] remote state fetched, dispatching restoreState"),this.store.dispatch(Ut.restoreState({restoring:r}))}else console.info("[FirebaseAuth] no remote state found for",e.uid)}catch(r){console.warn("Failed to restore remote state",r)}try{this.cloudSync.setUser(e.uid,t)}catch{}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var UF="\u26A1\uFE0F",$F="SIGNAL",Hy="#3b82f6";function Le(){return function(e){if(!Sr())return;let t=e.\u0275fac;e.\u0275fac=function(...i){let o=t(...i),s={},a=new Map;for(let c in o){let d=o[c];Rs(d)&&(s[c]=d)}return Object.keys(s).length>0&&Rn(()=>{let d=Object.entries(s).map(([u,g])=>({key:u,value:g()})).filter(({key:u,value:g})=>{let v=a.get(u);return g!==v});d.length>0&&(console.groupCollapsed(`%c${UF}${$F} %c${d.length} Change(s) in ${e.name}`,`color: ${Hy}; font-weight: bold;`,"color: gray; font-weight: normal;"),d.forEach(({key:u,value:g})=>{let v=a.get(u);console.log(`%c${u}%c`,`color: ${Hy}; font-weight: bold; border-left: 3px solid ${Hy}; padding-left: 5px;`,"color: inherit;",{from:v,to:g}),a.set(u,g)}),console.groupEnd())}),o}}}function qF(n,e){if(n&1){let t=Yt();V(0,"p"),Z(1," Signed in as: "),Mt(2,"br"),V(3,"strong"),Z(4),j()(),V(5,"p",3),Z(6),j(),V(7,"button",4),ut("click",function(){pt(t);let i=K();return gt(i.logout())}),Z(8," Sign Out "),j()}if(n&2){let t=e;F(4),Ie(t.email||"Anonymous"),F(2),xn("UID: ",t.uid)}}function GF(n,e){n&1&&(V(0,"mat-error"),Z(1,"Invalid email"),j())}function WF(n,e){n&1&&(V(0,"mat-error"),Z(1,"Min 6 chars"),j())}function QF(n,e){n&1&&(V(0,"mat-error"),Z(1,"Invalid email"),j())}function KF(n,e){n&1&&(V(0,"mat-error"),Z(1,"Min 6 chars"),j())}function YF(n,e){if(n&1){let t=Yt();V(0,"button",5),ut("click",function(){pt(t);let i=K();return gt(i.googleLogin())}),V(1,"mat-icon"),Z(2,"login"),j(),Z(3," Sign in with Google "),j(),V(4,"button",6),ut("click",function(){pt(t);let i=K();return gt(i.continueAnonymous())}),Z(5," Continue anonymously "),j(),V(6,"div",7),Z(7,"OR"),j(),V(8,"mat-tab-group")(9,"mat-tab",8)(10,"form",9),ut("ngSubmit",function(){pt(t);let i=K();return gt(i.onLogin())}),V(11,"mat-form-field",10)(12,"mat-label"),Z(13,"Email"),j(),Mt(14,"input",11),Et(15,GF,2,0,"mat-error"),j(),V(16,"mat-form-field",10)(17,"mat-label"),Z(18,"Password"),j(),Mt(19,"input",12),Et(20,WF,2,0,"mat-error"),j(),V(21,"button",13),Z(22," Log In "),j()()(),V(23,"mat-tab",14)(24,"form",9),ut("ngSubmit",function(){pt(t);let i=K();return gt(i.onRegister())}),V(25,"mat-form-field",10)(26,"mat-label"),Z(27,"Email"),j(),Mt(28,"input",11),Et(29,QF,2,0,"mat-error"),j(),V(30,"mat-form-field",10)(31,"mat-label"),Z(32,"Password"),j(),Mt(33,"input",12),Et(34,KF,2,0,"mat-error"),j(),V(35,"button",15),Z(36," Sign Up "),j()()()()}if(n&2){let t,r,i,o,s=K();F(10),dt("formGroup",s.loginForm),F(5),It((t=s.loginForm.get("email"))!=null&&t.hasError("email")?15:-1),F(5),It((r=s.loginForm.get("password"))!=null&&r.hasError("minlength")?20:-1),F(),dt("disabled",s.loginForm.invalid),F(3),dt("formGroup",s.registerForm),F(5),It((i=s.registerForm.get("email"))!=null&&i.hasError("email")?29:-1),F(5),It((o=s.registerForm.get("password"))!=null&&o.hasError("minlength")?34:-1),F(),dt("disabled",s.registerForm.invalid)}}var zr=class{auth=f(Vc);fb=f(B5);snackBar=f(Zd);router=f(Wn);user$=this.auth.user$;loginForm=this.fb.group({email:["",[Kn.required,Kn.email]],password:["",[Kn.required,Kn.minLength(6)]]});registerForm=this.fb.group({email:["",[Kn.required,Kn.email]],password:["",[Kn.required,Kn.minLength(6)]]});async googleLogin(){try{await this.auth.signInWithGoogle(),this.router.navigate(["/"])}catch(e){this.snackBar.open(e.message,"Close",{duration:3e3})}}async continueAnonymous(){try{await this.auth.signInAnonymously(),this.router.navigate(["/"])}catch(e){this.snackBar.open(e.message,"Close",{duration:3e3})}}async onLogin(){if(this.loginForm.invalid)return;let{email:e,password:t}=this.loginForm.value;try{await this.auth.signInWithEmail(e,t),this.router.navigate(["/"])}catch(r){this.snackBar.open(r.message,"Close",{duration:3e3})}}async onRegister(){if(this.registerForm.invalid)return;let{email:e,password:t}=this.registerForm.value;try{await this.auth.signUpWithEmail(e,t),this.router.navigate(["/"])}catch(r){this.snackBar.open(r.message,"Close",{duration:3e3})}}async logout(){await this.auth.signOut()}};ee(zr,"\u0275fac",function(t){return new(t||zr)}),ee(zr,"\u0275cmp",rt({type:zr,selectors:[["app-login"]],decls:9,vars:3,consts:[[1,"container","container-login"],[1,"login-card"],[1,"pt-3"],[1,"text-secondary","small"],["color","warn","mat-stroked-button","",3,"click"],["mat-flat-button","",1,"w-100","mb-3",3,"click"],["mat-stroked-button","",1,"w-100","mb-3",3,"click"],[1,"divider"],["label","Sign In"],[1,"d-flex","flex-column","gap-2","pt-3",3,"ngSubmit","formGroup"],["appearance","outline"],["formControlName","email","matInput","","type","email"],["formControlName","password","matInput","","type","password"],["color","primary","mat-raised-button","","type","submit",3,"disabled"],["label","Register"],["color","accent","mat-raised-button","","type","submit",3,"disabled"]],template:function(t,r){if(t&1&&(V(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),Z(4,"Account"),j()(),V(5,"mat-card-content",2),Et(6,qF,9,2),Mo(7,"async"),ek(8,YF,37,8),j()()()),t&2){let i;F(6),It((i=il(7,1,r.user$))?6:8,i)}},dependencies:[Ku,P0,R5,A0,C5,E5,dh,jm,fr,Do,O0,V5,L5,j5,F5,uh,V0,hh,Um,iM,rM,uM,Zm,hM,kp,yp,l0,jg],styles:[".container-login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;padding-top:2rem;height:100%}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px}.divider[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#ccc;font-size:.8rem}.w-100[_ngcontent-%COMP%]{width:100%}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.pt-3[_ngcontent-%COMP%]{padding-top:1rem}.d-flex[_ngcontent-%COMP%]{display:flex}.flex-column[_ngcontent-%COMP%]{flex-direction:column}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.text-secondary[_ngcontent-%COMP%]{color:#6c757d}.small[_ngcontent-%COMP%]{font-size:.875em}"]})),zr=Re([Le()],zr);var KE="mat-badge-content",ZF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return n})(),YE=(()=>{class n{_ngZone=f(ct);_elementRef=f(wt);_ariaDescriber=f(hp);_renderer=f(le);_animationsDisabled=Me();_idGenerator=f(Be);get color(){return this._color}set color(t){this._setColor(t),this._color=t}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(t){this._updateRenderedContent(t)}_content;get description(){return this._description}set description(t){this._updateDescription(t)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=f(hf);_document=f(bt);constructor(){let t=f(Xe);t.load(ZF),t.load(xd)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),r="mat-badge-active";return t.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),t.setAttribute("aria-hidden","true"),t.classList.add(KE),this._animationsDisabled&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&!this._animationsDisabled?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(r)})}):t.classList.add(r),t}_updateRenderedContent(t){let r=`${t??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),t&&r.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${KE}`);for(let r of Array.from(t))r!==this._badgeElement&&r.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(r,i){r&2&&St("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small",i.size==="small")("mat-badge-medium",i.size==="medium")("mat-badge-large",i.size==="large")("mat-badge-hidden",i.hidden||!i.content)("mat-badge-disabled",i.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",At],disabled:[2,"matBadgeDisabled","disabled",At],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",At]}})}return n})(),N1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[Cd,re]})}return n})();var V1=(()=>{class n{get vertical(){return this._vertical}set vertical(t){this._vertical=pr(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=pr(t)}_inset=!1;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,i){r&2&&(Gt("aria-orientation",i.vertical?"vertical":"horizontal"),St("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return n})(),F1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[re]})}return n})();var tL=["tooltip"],eL=20;var nL=new L("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(Rt);return()=>o0(n,{scrollThrottle:eL})}}),rL=new L("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var XE="tooltip-panel",JE=Io({passive:!0}),iL=8,oL=8,sL=24,aL=200,Ca=(()=>{class n{_elementRef=f(wt);_ngZone=f(ct);_platform=f(Qt);_ariaDescriber=f(hp);_focusMonitor=f(Pi);_dir=f(gr);_injector=f(Rt);_viewContainerRef=f(Hn);_animationsDisabled=Me();_defaultOptions=f(rL,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=tI;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=pr(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let r=pr(t);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=So(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=So(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let r=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new nt;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=iL}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ie(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,JE)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(r);this._detach(),this._portal=this._portal||new No(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(ie(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(t):(r._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof wt)return this._overlayRef;this._detach()}let r=this._injector.get(qs).getAncestorScrollContainers(this._elementRef),i=`${this._cssClassPrefix}-${XE}`,o=s0(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r).withPopoverLocation("global");return o.positionChanges.pipe(ie(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Rl(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,i]:i,scrollStrategy:this._injector.get(nL)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ie(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ie(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ie(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!cl(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(ie(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset(I(I({},i.main),o.main)),this._addOffset(I(I({},i.fallback),o.fallback))])}_addOffset(t){let r=oL,i=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-r:t.originY==="bottom"?t.offsetY=r:t.originX==="start"?t.offsetX=i?-r:r:t.originX==="end"&&(t.offsetX=i?r:-r),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"||r=="below"?i={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&t||r=="right"&&!t?i={originX:"start",originY:"center"}:(r=="after"||r=="right"&&t||r=="left"&&!t)&&(i={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"?i={overlayX:"center",overlayY:"bottom"}:r=="below"?i={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&t||r=="right"&&!t?i={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&t||r=="left"&&!t)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),$e(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){let{overlayY:r,originX:i,originY:o}=t,s;if(r==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=r==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${XE}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let r;t.x!==void 0&&t.y!==void 0&&(r=t),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{let i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,JE)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let r=this._injector.get(bt).elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let r=this._elementRef.nativeElement,i=r.style;(t==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||$e({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){r&2&&St("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),tI=(()=>{class n{_changeDetectorRef=f(Oe);_elementRef=f(wt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Me();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new nt;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>sL&&t.width>=aL}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(t?o:i),r.classList.add(t?i:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(r);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(r,i){if(r&1&&bn(tL,7),r&2){let o;Ot(o=Bt())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){r&1&&ut("mouseleave",function(s){return i._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,i){if(r&1){let o=Yt();V(0,"div",1,0),ut("animationend",function(a){return pt(o),gt(i._handleAnimationEnd(a))}),V(2,"div",2),Z(3),j()()}r&2&&(St("mdc-tooltip--multiline",i._isMultiline),dt("ngClass",i.tooltipClass),F(3),Ie(i.message))},dependencies:[Bs],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var ms=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[Cd,Kd,re,Wd]})}return n})();var $y=(()=>{class n{_listeners=[];notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lL=["mat-internal-form-field",""],cL=["*"],eI=(()=>{class n{labelPosition;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){r&2&&St("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:lL,ngContentSelectors:cL,decls:1,vars:0,template:function(r,i){r&1&&(xe(),Zt(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return n})();var dL=["input"],hL=["formField"],uL=["*"],L1=class{source;value;constructor(e,t){this.source=e,this.value=t}},pL={provide:S0,useExisting:yo(()=>qy),multi:!0},nI=new L("MatRadioGroup"),gL=new L("mat-radio-default-options",{providedIn:"root",factory:()=>({color:"accent",disabledInteractive:!1})}),qy=(()=>{class n{_changeDetector=f(Oe);_value=null;_name=f(Be).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new qt;_radios;color;get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){let t=this._selected!==null&&this._selected.value===this._value;this._radios&&!t&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new L1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-radio-group"]],contentQueries:function(r,i,o){if(r&1&&Ai(o,j1,5),r&2){let s;Ot(s=Bt())&&(i._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",At],required:[2,"required","required",At],disabledInteractive:[2,"disabledInteractive","disabledInteractive",At]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[he([pL,{provide:nI,useExisting:n}])]})}return n})(),j1=(()=>{class n{_elementRef=f(wt);_changeDetector=f(Oe);_focusMonitor=f(Pi);_radioDispatcher=f($y);_defaultOptions=f(gL,{optional:!0});_ngZone=f(ct);_renderer=f(le);_uniqueId=f(Be).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){t!==this._required&&this._changeDetector.markForCheck(),this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new qt;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=Me();_injector=f(Rt);constructor(){f(Xe).load(fl);let t=f(nI,{optional:!0}),r=f(new Di("tabindex"),{optional:!0});this.radioGroup=t,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,r&&(this.tabIndex=oi(r,0))}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,r)=>{t!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new L1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_onInputClick=t=>{this.disabled&&this.disabledInteractive&&t.preventDefault()};_updateTabIndex(){let t=this.radioGroup,r;if(!t||!t.selected||this.disabled?r=this.tabIndex:r=t.selected===this?this.tabIndex:-1,r!==this._previousTabIndex){let i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r,$e(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===i&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===i&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-radio-button"]],viewQuery:function(r,i){if(r&1&&bn(dL,5)(hL,7,wt),r&2){let o;Ot(o=Bt())&&(i._inputElement=o.first),Ot(o=Bt())&&(i._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(r,i){r&1&&ut("focus",function(){return i._inputElement.nativeElement.focus()}),r&2&&(Gt("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),St("mat-primary",i.color==="primary")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("mat-mdc-radio-checked",i.checked)("mat-mdc-radio-disabled",i.disabled)("mat-mdc-radio-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",At],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:oi(t)],checked:[2,"checked","checked",At],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",At],required:[2,"required","required",At],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",At]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:uL,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,i){if(r&1){let o=Yt();xe(),V(0,"div",2,0)(2,"div",3)(3,"div",4),ut("click",function(a){return pt(o),gt(i._onTouchTargetClick(a))}),j(),V(4,"input",5,1),ut("change",function(a){return pt(o),gt(i._onInputInteraction(a))}),j(),V(6,"div",6),Mt(7,"div",7)(8,"div",8),j(),V(9,"div",9),Mt(10,"div",10),j()(),V(11,"label",11),Zt(12),j()()}r&2&&(dt("labelPosition",i.labelPosition),F(2),St("mdc-radio--disabled",i.disabled),F(2),dt("id",i.inputId)("checked",i.checked)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Gt("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),F(5),dt("matRippleTrigger",i._rippleTrigger.nativeElement)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),F(2),dt("for",i.inputId))},dependencies:[To,eI],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-radio-button .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button label{cursor:pointer}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-radio-touch-target-size, 48px);width:var(--mat-radio-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return n})(),z1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=vt({imports:[vp,j1,re]})}return n})();var mL=(n,e,t,r)=>({"fill-white":n,"stroke-border":!0,"selected-answer":e,"correct-answer":t,"wrong-answer":r}),vL=(n,e)=>e.vowel.id;function wL(n,e){if(n&1&&(Ts(),V(0,"text",7),Z(1),j()),n&2){let t=K().$implicit;Gt("x",t.x1)("y",t.y1-25),F(),xn(" ",t.label," ")}}function _L(n,e){if(n&1&&(Ts(),V(0,"text",8),Z(1),j()),n&2){let t=K().$implicit;Gt("x",t.x1-40)("y",t.y1+5),F(),xn(" ",t.label," ")}}function yL(n,e){if(n&1&&(Ts(),Mt(0,"line",6),Et(1,wL,2,3,":svg:text",7)(2,_L,2,3,":svg:text",8)),n&2){let t=e.$implicit;Gt("x1",t.x1)("x2",t.x2)("y1",t.y1)("y2",t.y2),F(),It(t.type==="vertical"?1:2)}}function kL(n,e){if(n&1&&(Ts(),V(0,"g",9),Mt(1,"circle",10),V(2,"text",11),Z(3),j()()),n&2){let t=K().$implicit,r=K(),i=Ft(13),o=Ft(14),s=Ft(15);dt("matTooltip",t.vowel.name),Gt("transform","translate("+t.x+","+t.y+")"),F(),Ps("fill",i?r.getHeatmapColor(i[t.vowel.id]):null)("stroke",i?"none":null),dt("ngClass",dk(9,mL,!i,s===t.vowel.id,(o==null||o.vowel==null?null:o.vowel.id)===t.vowel.id,s===t.vowel.id&&(o==null||o.vowel==null?null:o.vowel.id)!==t.vowel.id)),Gt("filter",i?"url(#heatmapBlur)":null),F(2),xn(" ",t.vowel.letter," ")}}function bL(n,e){if(n&1&&Et(0,kL,4,14,":svg:g",9),n&2){let t=e.$implicit,r=K(),i=Ft(11),o=Ft(12),s=Ft(13),a=Ft(14),c=Ft(15),d=o||s||r.confusionVectors()&&r.confusionVectors().length||i&&((a==null||a.vowel==null?null:a.vowel.id)===t.vowel.id||c===t.vowel.id);It(d?0:-1)}}function xL(n,e){if(n&1&&(Ts(),Mt(0,"path",5)),n&2){let t=e.$implicit;Gt("d",t.d)("stroke-width",t.strokeWidth)}}var H1=["Close","Near-close","Close-mid","Mid","Open-mid","Near-open","Open"],U1=["Front","Near-front","Central","Near-back","Back"],tr=class{answered$=zt(void 0,{alias:"answered"});selectedAnswer$=zt(void 0,{alias:"selectedAnswer"});question$=zt(void 0,{alias:"question"});showAll$=zt(void 0,{alias:"showAll"});heatmapData$=zt(void 0,{alias:"heatmapData"});confusionData$=zt(void 0,{alias:"confusionData"});svgWidth=600;svgHeight=400;padding=60;vowelNodes=Lt(()=>fi.map(e=>this.calculateVowelPosition(e)));gridLines=this.calculateGridLines();confusionVectors=Lt(()=>{let e=this.confusionData$();if(!e)return[];let t=this.vowelNodes(),r=new Map(t.map(i=>[i.vowel.id,i]));return e.map(i=>{let o=r.get(i.from),s=r.get(i.to);if(!o||!s)return null;let a=s.x-o.x,c=s.y-o.y,d=Math.sqrt(a*a+c*c),u=22;if(d<1e-6)return null;let g=a/d,v=c/d,k=this.svgWidth/2,T=this.svgHeight/2,N=(o.x+s.x)/2,A=(o.y+s.y)/2,H=k-N,$=T-A,G=-v,ot=g;G*H+ot*$>0&&(G=-G,ot=-ot);let mt=Math.min(60,d*.3),C=N+G*mt,y=A+ot*mt,b=o.x+g*u,S=o.y+v*u,E=s.x-g*u,R=s.y-v*u;return{questions:i.from,answer:i.to,d:`M ${b} ${S} Q ${C} ${y} ${E} ${R}`,count:i.count,strokeWidth:Math.min(10,2+i.count)}}).filter(i=>i!==null)});getHeatmapColor(e){return e===void 0?"#e0e0e0":`hsl(${Math.max(0,Math.min(120,e*120))}, 70%, 80%)`}getChartDimensions(){let e=this.padding,t=this.svgHeight-this.padding,r=this.padding+50,i=this.svgWidth-r,o=r,s=i-o,a=s*.55;return{topY:e,bottomY:t,paddingX:r,topRightX:i,topLeftX:o,topWidth:s,bottomWidth:a}}calculateVowelPosition(e){let t=e.name,r=t.toLowerCase(),i=r.includes("rounded")&&!r.includes("unrounded"),o=-1,s=-1;H1.forEach((C,y)=>{let b=C.toLowerCase();r.includes(b)&&b.length>s&&(s=b.length,o=y)});let a=-1,c=-1;if(U1.forEach((C,y)=>{let b=C.toLowerCase();r.includes(b)&&b.length>c&&(c=b.length,a=y)}),o===-1||a===-1)return console.warn("Unknown position for vowel:",t),{vowel:e,x:0,y:0,isRounded:i};let{topY:d,bottomY:u,topRightX:g,topLeftX:v,topWidth:k,bottomWidth:T}=this.getChartDimensions(),N=o/(H1.length-1),A=d+N*(u-d),H=k-(k-T)*N,$=g,G=$-H,ot=a/(U1.length-1),yt=G+ot*($-G),mt=14;return i?yt+=mt:yt-=mt,{vowel:e,x:yt,y:A,isRounded:i}}calculateGridLines(){return[...this.calculateHorizontalConstrictionGridLines(),...this.calculateVerticalPlacementGridLines()]}calculateVerticalPlacementGridLines(){let{topY:e,bottomY:t,topRightX:r,topLeftX:i,bottomWidth:o}=this.getChartDimensions();return U1.map((s,a)=>{let c=a/(U1.length-1),d=i+c*(r-i),u=r,g=u-o,v=g+c*(u-g);return{x1:d,y1:e,x2:v,y2:t,type:"vertical",label:s}})}calculateHorizontalConstrictionGridLines(){let{topY:e,bottomY:t,topRightX:r,topWidth:i,bottomWidth:o}=this.getChartDimensions();return H1.map((s,a)=>{let c=a/(H1.length-1),d=e+c*(t-e),u=i-(i-o)*c,g=r;return{x1:g-u,y1:d,x2:g,y2:d,type:"horizontal",label:s}})}};ee(tr,"\u0275fac",function(t){return new(t||tr)}),ee(tr,"\u0275cmp",rt({type:tr,selectors:[["app-chart"]],inputs:{answered$:[1,"answered","answered$"],selectedAnswer$:[1,"selectedAnswer","selectedAnswer$"],question$:[1,"question","question$"],showAll$:[1,"showAll","showAll$"],heatmapData$:[1,"heatmapData","heatmapData$"],confusionData$:[1,"confusionData","confusionData$"]},decls:21,vars:6,consts:[["height","200%","id","heatmapBlur","width","200%","x","-50%","y","-50%"],["in","SourceGraphic","operator","dilate","radius","2","result","dilated"],["in","dilated","stdDeviation","6"],["id","arrowhead","markerHeight","3.5","markerWidth","5","orient","auto","refX","9","refY","3.5","viewBox","0 0 10 7"],["fill","red","points","0 0, 10 3.5, 0 7"],["fill","none","marker-end","url(#arrowhead)","opacity","0.6","stroke","red"],[1,"grid-line"],["text-anchor","middle",1,"text-secondary"],["text-anchor","end",1,"text-secondary"],[1,"vowel-node",3,"matTooltip"],["r","18",3,"ngClass"],["dy",".35em","text-anchor","middle",1,"vowel-text"]],template:function(t,r){t&1&&(Ts(),V(0,"svg")(1,"defs")(2,"filter",0),Mt(3,"feMorphology",1)(4,"feGaussianBlur",2),j(),V(5,"marker",3),Mt(6,"polygon",4),j()(),V(7,"g"),dn(8,yL,3,5,null,null,Ir),j(),V(10,"g"),dr(11)(12)(13)(14)(15),dn(16,bL,1,1,null,null,vL),j(),V(18,"g"),dn(19,xL,1,2,":svg:path",5,Ir),j()()),t&2&&(Gt("viewBox","0 0 "+r.svgWidth+" "+r.svgHeight),F(8),hn(r.gridLines),F(3),ce(r.answered$()),F(),ce(r.showAll$()),F(),ce(r.heatmapData$()),F(),ce(r.question$()),F(),ce(r.selectedAnswer$()),F(),hn(r.vowelNodes()),F(3),hn(r.confusionVectors()))},dependencies:[N5,fr,z1,ms,Ca,Bs,P0],styles:[".grid-line[_ngcontent-%COMP%]{stroke:#ccc}.vowel-node[_ngcontent-%COMP%]{cursor:pointer}.vowel-node[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke-width:1px;transition:fill .8s,stroke-width .8s}.vowel-node[_ngcontent-%COMP%]:hover   circle[_ngcontent-%COMP%]{stroke-width:2px}.fill-white[_ngcontent-%COMP%]{fill:#fff}.selected-answer[_ngcontent-%COMP%]{stroke:#000}.correct-answer[_ngcontent-%COMP%]{stroke:#28a745}.correct-answer.fill-white[_ngcontent-%COMP%]{fill:#d4edda}.wrong-answer[_ngcontent-%COMP%]{stroke:#dc3545}.wrong-answer.fill-white[_ngcontent-%COMP%]{fill:#f8d7da}"]})),tr=Re([Le()],tr);var lI=Symbol.for("immer-nothing"),rI=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function Hr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Fc=Object.getPrototypeOf;function Lc(n){return!!n&&!!n[er]}function Ia(n){return n?cI(n)||Array.isArray(n)||!!n[rI]||!!n.constructor?.[rI]||Q1(n)||K1(n):!1}var ML=Object.prototype.constructor.toString();function cI(n){if(!n||typeof n!="object")return!1;let e=Fc(n);if(e===null)return!0;let t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===ML}function $1(n,e){W1(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function W1(n){let e=n[er];return e?e.type_:Array.isArray(n)?1:Q1(n)?2:K1(n)?3:0}function Qy(n,e){return W1(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function dI(n,e,t){let r=W1(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function CL(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Q1(n){return n instanceof Map}function K1(n){return n instanceof Set}function Ea(n){return n.copy_||n.base_}function Ky(n,e){if(Q1(n))return new Map(n);if(K1(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);let t=cI(n);if(e===!0||e==="class_only"&&!t){let r=Object.getOwnPropertyDescriptors(n);delete r[er];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){let s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[s]})}return Object.create(Fc(n),r)}else{let r=Fc(n);if(r!==null&&t)return I({},n);let i=Object.create(r);return Object.assign(i,n)}}function t4(n,e=!1){return Y1(n)||Lc(n)||!Ia(n)||(W1(n)>1&&(n.set=n.add=n.clear=n.delete=EL),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>t4(r,!0))),n}function EL(){Hr(2)}function Y1(n){return Object.isFrozen(n)}var IL={};function Sa(n){let e=IL[n];return e||Hr(0,n),e}var mu;function hI(){return mu}function SL(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iI(n,e){e&&(Sa("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Yy(n){Zy(n),n.drafts_.forEach(AL),n.drafts_=null}function Zy(n){n===mu&&(mu=n.parent_)}function oI(n){return mu=SL(mu,n)}function AL(n){let e=n[er];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sI(n,e){e.unfinalizedDrafts_=e.drafts_.length;let t=e.drafts_[0];return n!==void 0&&n!==t?(t[er].modified_&&(Yy(e),Hr(4)),Ia(n)&&(n=q1(e,n),e.parent_||G1(e,n)),e.patches_&&Sa("Patches").generateReplacementPatches_(t[er].base_,n,e.patches_,e.inversePatches_)):n=q1(e,t,[]),Yy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==lI?n:void 0}function q1(n,e,t){if(Y1(e))return e;let r=e[er];if(!r)return $1(e,(i,o)=>aI(n,r,e,i,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return G1(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;let i=r.copy_,o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),$1(o,(a,c)=>aI(n,r,i,a,c,t,s)),G1(n,i,!1),t&&n.patches_&&Sa("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function aI(n,e,t,r,i,o,s){if(Lc(i)){let a=o&&e&&e.type_!==3&&!Qy(e.assigned_,r)?o.concat(r):void 0,c=q1(n,i,a);if(dI(t,r,c),Lc(c))n.canAutoFreeze_=!1;else return}else s&&t.add(i);if(Ia(i)&&!Y1(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;q1(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&G1(n,i)}}function G1(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&t4(e,t)}function TL(n,e){let t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:hI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,o=e4;t&&(i=[r],o=vu);let{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var e4={get(n,e){if(e===er)return n;let t=Ea(n);if(!Qy(t,e))return DL(n,t,e);let r=t[e];return n.finalized_||!Ia(r)?r:r===Gy(n.base_,e)?(Wy(n),n.copy_[e]=Jy(r,n)):r},has(n,e){return e in Ea(n)},ownKeys(n){return Reflect.ownKeys(Ea(n))},set(n,e,t){let r=uI(Ea(n),e);if(r?.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){let i=Gy(Ea(n),e),o=i?.[er];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(CL(t,i)&&(t!==void 0||Qy(n.base_,e)))return!0;Wy(n),Xy(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Gy(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Wy(n),Xy(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){let t=Ea(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Hr(11)},getPrototypeOf(n){return Fc(n.base_)},setPrototypeOf(){Hr(12)}},vu={};$1(e4,(n,e)=>{vu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vu.deleteProperty=function(n,e){return vu.set.call(this,n,e,void 0)};vu.set=function(n,e,t){return e4.set.call(this,n[0],e,t,n[0])};function Gy(n,e){let t=n[er];return(t?Ea(t):n)[e]}function DL(n,e,t){let r=uI(e,t);return r?"value"in r?r.value:r.get?.call(n.draft_):void 0}function uI(n,e){if(!(e in n))return;let t=Fc(n);for(;t;){let r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Fc(t)}}function Xy(n){n.modified_||(n.modified_=!0,n.parent_&&Xy(n.parent_))}function Wy(n){n.copy_||(n.copy_=Ky(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var RL=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){let o=t;t=e;let s=this;return function(c=o,...d){return s.produce(c,u=>t.call(this,u,...d))}}typeof t!="function"&&Hr(6),r!==void 0&&typeof r!="function"&&Hr(7);let i;if(Ia(e)){let o=oI(this),s=Jy(e,void 0),a=!0;try{i=t(s),a=!1}finally{a?Yy(o):Zy(o)}return iI(o,r),sI(i,o)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===lI&&(i=void 0),this.autoFreeze_&&t4(i,!0),r){let o=[],s=[];Sa("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Hr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,c=>e(c,...a));let r,i;return[this.produce(e,t,(s,a)=>{r=s,i=a}),r,i]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Ia(n)||Hr(8),Lc(n)&&(n=PL(n));let e=oI(this),t=Jy(n,void 0);return t[er].isManual_=!0,Zy(e),t}finishDraft(n,e){let t=n&&n[er];(!t||!t.isManual_)&&Hr(9);let{scope_:r}=t;return iI(r,e),sI(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){let i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));let r=Sa("Patches").applyPatches_;return Lc(n)?r(n,e):this.produce(n,i=>r(i,e))}};function Jy(n,e){let t=Q1(n)?Sa("MapSet").proxyMap_(n,e):K1(n)?Sa("MapSet").proxySet_(n,e):TL(n,e);return(e?e.scope_:hI()).drafts_.push(t),t}function PL(n){return Lc(n)||Hr(10,n),pI(n)}function pI(n){if(!Ia(n)||Y1(n))return n;let e=n[er],t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Ky(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Ky(n,!0);return $1(t,(r,i)=>{dI(t,r,pI(i))}),e&&(e.finalized_=!1),t}var nr=new RL,gI=nr.produce,brt=nr.produceWithPatches.bind(nr),xrt=nr.setAutoFreeze.bind(nr),Mrt=nr.setUseStrictShallowCopy.bind(nr),Crt=nr.applyPatches.bind(nr),Ert=nr.createDraft.bind(nr),Irt=nr.finishDraft.bind(nr);function fI(n){return(e,t)=>gI(e,r=>n(r,t))}function Zi(...n){let e=n.pop();return Qs(...n,fI(e))}var mI={type:v0},vI={type:nh};var wu=(n,...e)=>e.reduce((t,r)=>I(I({},t),r),I({},n));var OL=Object.freeze({quizzes:I({},fu),currentQuizId:void 0,version:1}),wI=ym(OL,Qs(Ut.addQuiz,(n,{quiz:e})=>wu(n,{quizzes:it(I({},n.quizzes),{[e.id]:e})})),Zi(Ut.addSession,(n,{session:e})=>{let t=n.quizzes[e.quizId];return t.sessions[e.id]=e,n}),Qs(Ut.openQuiz,(n,{quizId:e})=>wu(n,{currentQuizId:e})),Zi(Ut.openSession,(n,{quizId:e,sessionId:t})=>{let r=n.quizzes[e];return r&&(r.currentSessionId=t),n}),Zi(Ut.selectAnswer,(n,{selectedAnswer:e})=>{let t=n.currentQuizId;if(!t)return n;let r=n.quizzes[t],i=r?.currentSessionId;if(!i)return n;let o=r.sessions[i],s=o?.currentQuestionIndex,a=o?.questions;return s!==void 0&&a[s]!==void 0&&(a[s].selectedAnswer=e),n}),Zi(Ut.updateQuestionSoundIndex,(n,{soundIndex:e})=>{let t=n.currentQuizId;if(!t)return n;let r=n.quizzes[t],i=r?.currentSessionId;if(!i)return n;let o=r.sessions[i],s=o?.currentQuestionIndex,a=o?.questions;return s!==void 0&&a[s]!==void 0&&(a[s].vowel.soundIndex=e),n}),Zi(Ut.updateOptionSoundIndex,(n,{optionId:e,soundIndex:t})=>{let r=n.currentQuizId;if(!r)return n;let i=n.quizzes[r],o=i?.currentSessionId;if(!o)return n;let s=i.sessions?.[o],a=s?.currentQuestionIndex,c=s?.questions;return a!==void 0&&c[a]!==void 0&&(c[a].options[e].soundIndex=t),n}),Qs(Ut.restoreState,(n,{restoring:e})=>wu(n,e)),Zi(Ut.answerCurrent,(n,{date:e})=>{let t=n.currentQuizId;if(!t)return n;let r=n.quizzes[t],i=r?.currentSessionId;if(!i)return n;let o=r.sessions?.[i],s=o?.currentQuestionIndex,a=o?.questions;return s!==void 0&&a[s]!==void 0&&(a[s].answered=!0,a[s].answeredDate=e),n}),Zi(Ut.nextQuestion,n=>{let e=n.currentQuizId;if(!e)return n;let t=n.quizzes[e],r=t?.currentSessionId;if(!r)return n;let i=t.sessions[r],o=i?Object.keys(i.questions).length:0;return i&&i.currentQuestionIndex<o-1&&i.currentQuestionIndex++,n}),Zi(Ut.previousQuestion,n=>{let e=n.currentQuizId;if(!e)return n;let t=n.quizzes[e],r=t?.currentSessionId;if(!r)return n;let i=t.sessions?.[r];return i&&i.currentQuestionIndex>0&&i.currentQuestionIndex--,n}),Qs(vI,(n,{payload:e})=>{let{routerState:{url:t}}=e,r=t?.match(/quiz-\d+/)?.at(0);return wu(n,{currentQuizId:r??n.currentQuizId})}));function _I(n){return n.charAt(0).toUpperCase()+n.substring(1)}function n4(n,e,t){return Object.keys(t).reduce((i,o)=>it(I({},i),{[`select${_I(n)}${_I(o)}`]:On(e,s=>s?.[o])}),{})}var nn=z3({name:"quiz",reducer:wI,extraSelectors:n=>{let e=On(n.selectQuizzes,n.selectCurrentQuizId,(v,k)=>k!==void 0?v[k]:void 0),t=n4("quiz",e,{description:"",id:"quiz-0",name:"",sessions:{},currentSessionId:"session-0"}),r=On(t.selectQuizSessions,t.selectQuizCurrentSessionId,(v,k)=>{if(!v)return;if(k!==void 0)return v[k];let T=Object.values(v).find(N=>Object.values(N.questions).some(A=>!A.answered));return T!==void 0?T:Object.values(v).at(-1)}),i=n4("session",r,{creationDate:"",currentQuestionIndex:0,id:"session-0",questions:{},quizId:"quiz-0"}),o=On(i.selectSessionQuestions,v=>v?Object.keys(v).length:void 0),s=On(i.selectSessionQuestions,i.selectSessionCurrentQuestionIndex,(v,k)=>k!==void 0?v?.[k]:void 0),a=n4("currentQuestion",s,{index:0,answered:!1,answeredDate:void 0,options:{},selectedAnswer:void 0,type:"letter",vowel:{}}),c=On(t.selectQuizSessions,v=>Object.values(v??{}).sort((k,T)=>k.creationDate.localeCompare(T.creationDate)).map(k=>{let T=Object.values(k.questions),N=T.reduce(($,G)=>($.seen.add(G.vowel.id),G.answered&&($.answered++,G.selectedAnswer===G.vowel.id?($.correct++,$.currentStreak++,$.longestStreak=Math.max($.longestStreak,$.currentStreak)):G.selectedAnswer!==void 0&&($.wrong++,$.currentStreak=0)),$),{answered:0,correct:0,seen:new Set,wrong:0,currentStreak:0,longestStreak:0}),A=T.length,H=N.seen.size;return it(I({},N),{seenLength:H,itens:A,unSeen:A-H})}).reverse()),d=On(t.selectQuizSessions,v=>{let k=Object.values(v??{}).sort((A,H)=>A.creationDate.localeCompare(H.creationDate)).map(A=>Object.values(A.questions)).flat(1).reduce((A,H)=>(A.seen.add(H.vowel.id),H.answered&&(A.answered++,H.selectedAnswer===H.vowel.id?(A.correct++,A.currentStreak++,A.longestStreak=Math.max(A.longestStreak,A.currentStreak)):H.selectedAnswer!==void 0&&(A.wrong++,A.currentStreak=0)),A),{answered:0,correct:0,seen:new Set,wrong:0,currentStreak:0,longestStreak:0}),T=fi.length,N=k.seen.size;return it(I({},k),{seenLength:N,itens:T,unSeen:T-N})}),u=[10,25,50,100],g=On(t.selectQuizSessions,v=>{if(v===void 0)return;let k=Object.values(v).filter($=>!Object.values($.questions).some(G=>!G.answered)),T=k.length;if(T===0)return[];let N=k.map($=>{let G=Object.values($.questions??{}),ot=G.filter(mt=>mt.selectedAnswer===mt.vowel.id).length,yt=G.length;return ot/yt});return Array.from(new Set([...u.filter($=>$<=T),T])).filter($=>$>0&&$<=T).sort(($,G)=>$-G).map($=>({length:$,type:"SMA",value:N.slice(-$).reduce((G,ot)=>G+ot,0)/$}))});return it(I(it(I({selectCurrentQuiz:e},i),{selectCurrentSession:r,selectQuestionsLength:o,selectCurrentQuestion:s}),a),{selectMovingAverages:g,selectStatsBySession:c,selectTotalStats:d,selectFinished:On(i.selectSessionQuestions,v=>v!==void 0&&!Object.values(v??{}).some(k=>!k.answered)),selectAllAnsweredQuestions:On(t.selectQuizSessions,v=>Object.values(v??{}).flatMap(k=>Object.values(k.questions)).filter(k=>k.answered).map(({answeredDate:k,type:T,vowel:N,options:A,selectedAnswer:H})=>({answeredDate:k,type:T,correct:N,chosen:A[H]})))})}});var je=class n{practiceOpened(e){this.store$.dispatch(Ut.practiceOpened({quizId:e}))}nextOptionSound(e){let t=e,r=e.sounds??[];if(r.length===0)return;let o=((t.soundIndex??0)+1)%r.length;this.store$.dispatch(Ut.updateOptionSoundIndex({optionId:e.id,soundIndex:o}))}nextQuestionSound(e){let t=e,r=e.sounds??[];if(r.length===0)return;let o=((t.soundIndex??0)+1)%r.length;this.store$.dispatch(Ut.updateQuestionSoundIndex({soundIndex:o}))}goBack(){this.store$.dispatch(Ut.goBack())}store$=f(Qn);goToNewSession(){this.store$.dispatch(Ut.goToNewSession())}previousQuestion(){this.store$.dispatch(Ut.previousQuestion())}next(){this.store$.dispatch(Ut.nextQuestion())}answerCurrent(){this.store$.dispatch(Ut.answerCurrent({date:new Date().toISOString()}))}openQuiz(e){this.store$.dispatch(Ut.openQuiz({quizId:e}))}selectAnswer(e){this.store$.dispatch(Ut.selectAnswer({selectedAnswer:e}))}_quizzes$;get quizzes$(){return this._quizzes$}_finished$;get finished$(){return this._finished$}_openedQuiz$;get openedQuiz$(){return this._openedQuiz$}_selectedAnswer$;get selectedAnswer$(){return this._selectedAnswer$}_state$;get state$(){return this._state$}_allAnsweredQuestions$;get allAnsweredQuestions$(){return this._allAnsweredQuestions$}_currentSession$;get currentSession$(){return this._currentSession$}_questions$;get questions$(){return this._questions$}_question$;get question$(){return this._question$}_currentQuestionIndex$;get currentQuestionIndex$(){return this._currentQuestionIndex$}_answered$;get answered$(){return this._answered$}_questionsLength$;get questionsLength$(){return this._questionsLength$}_movingAverages$=this.store$.select(nn.selectMovingAverages);_statsBySession$=this.store$.select(nn.selectStatsBySession);get statsBySession$(){return this._statsBySession$}get movingAverages$(){return this._movingAverages$}_totalStats$=this.store$.select(nn.selectTotalStats);get totalStats$(){return this._totalStats$}constructor(){this._finished$=this.store$.select(nn.selectFinished),this._quizzes$=this.store$.select(nn.selectQuizzes).pipe(lt(e=>Object.values(e??{}).sort((t,r)=>t.id.localeCompare(r.id)))),this._openedQuiz$=this.store$.select(nn.selectCurrentQuiz),this._selectedAnswer$=this.store$.select(nn.selectCurrentQuestionSelectedAnswer),this._state$=this.store$.select(nn.selectQuizState),this._currentSession$=this.store$.select(nn.selectCurrentSession),this._questions$=this.store$.select(nn.selectSessionQuestions).pipe(lt(e=>e?Object.values(e):void 0)),this._question$=this.store$.select(nn.selectCurrentQuestion),this._currentQuestionIndex$=this.store$.select(nn.selectCurrentQuestionIndex),this._answered$=this.store$.select(nn.selectCurrentQuestionAnswered),this._questionsLength$=this.store$.select(nn.selectQuestionsLength),this._allAnsweredQuestions$=this.store$.select(nn.selectAllAnsweredQuestions)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ur=class{correct=zt.required();wrong=zt.required();longest=zt.required();current=zt.required()};ee(Ur,"\u0275fac",function(t){return new(t||Ur)}),ee(Ur,"\u0275cmp",rt({type:Ur,selectors:[["app-stat-badges"]],inputs:{correct:[1,"correct"],wrong:[1,"wrong"],longest:[1,"longest"],current:[1,"current"]},decls:12,vars:4,consts:[["matBadgeOverlap","false","matTooltip","Correct",1,"ms-4","text-success","correct",3,"matBadge"],["matBadgeOverlap","false","matTooltip","Wrong",1,"ms-4","text-danger","wrong",3,"matBadge"],["matBadgeOverlap","false","matTooltip","Current Streak",1,"ms-4","current",3,"matBadge"],["matBadgeOverlap","false","matTooltip","Longest Streak",1,"ms-4","longest",3,"matBadge"]],template:function(t,r){t&1&&(V(0,"span",0)(1,"strong"),Z(2,"\u2713\uFE0E"),j()(),V(3,"span",1)(4,"strong"),Z(5,"\u274C\uFE0E"),j()(),V(6,"span",2)(7,"strong"),Z(8,"\u{1F525}\uFE0E"),j()(),V(9,"span",3)(10,"strong"),Z(11,"\u{1F3C6}\uFE0E"),j()()),t&2&&(dt("matBadge",r.correct()),F(3),dt("matBadge",r.wrong()),F(3),dt("matBadge",r.current()),F(3),dt("matBadge",r.longest()))},dependencies:[N1,YE,ms,Ca],styles:["[_nghost-%COMP%]     .correct .mat-badge-content{background-color:var(--bs-success)}[_nghost-%COMP%]     .wrong .mat-badge-content{background-color:var(--bs-danger)}[_nghost-%COMP%]     .current{color:#ff6700}[_nghost-%COMP%]     .current .mat-badge-content{background-color:#ff6700}[_nghost-%COMP%]     .longest{color:#b29600}[_nghost-%COMP%]     .longest .mat-badge-content{background-color:#b29600}"]})),Ur=Re([Le()],Ur);var BL=()=>[10,25,50,100];function NL(n,e){n&1&&(V(0,"span",9)(1,"sup"),Z(2,"Incomplete"),j()())}function VL(n,e){if(n&1&&(V(0,"span",9)(1,"sup"),Z(2),j()()),n&2){let t=K().$index;K();let r=Ft(12);F(2),Ie("SMA"+(t+1-(r?1:0)))}}function FL(n,e){if(n&1&&(V(0,"div"),Mt(1,"app-stat-badges",2),j(),Et(2,NL,3,0,"span",9),Et(3,VL,3,1,"span",9)),n&2){let t=e.$implicit,r=e.$index,i=e.$count;K();let o=Ft(12);F(),dt("correct",t.correct)("current",t.currentStreak)("longest",t.longestStreak)("wrong",t.wrong),F(),It(i>0&&o&&r===0?2:-1),F(),It(lk(6,BL).includes(r+1-(o?1:0))?3:-1)}}function LL(n,e){if(n&1&&(V(0,"div",7),Mt(1,"ng-icon",10),V(2,"span"),Z(3),j(),V(4,"span"),Z(5),Mo(6,"percent"),j()()),n&2){let t=e.$implicit;F(3),ok("",t.type,"-",t.length,":"),F(2),xn(" ",hk(6,3,t.value,"2.2-2"))}}var $r=class{allAnsweredQuestions$=tn(f(je).allAnsweredQuestions$);heatmapData$=Lt(()=>{let e=this.allAnsweredQuestions$();if(!e)return;let t={};for(let i of e){let o=i.correct.id;t[o]||(t[o]={total:0,correct:0}),t[o].total++,i.correct.id===i.chosen.id&&t[o].correct++}let r={};for(let i in t){let o=t[i];r[i]=o.correct/o.total}return r});confusionData$=Lt(()=>{let e=this.allAnsweredQuestions$();if(!e)return;let t={};for(let r of e)if(r.correct.id!==r.chosen.id){let i=`${r.correct.id}|${r.chosen.id}`;t[i]=(t[i]||0)+1}return Object.entries(t).map(([r,i])=>{let[o,s]=r.split("|");return{from:o,to:s,count:i}})});quizService=f(je);_statsBySession$=tn(this.quizService.statsBySession$);get statsBySession$(){return this._statsBySession$}_movingAverages$=tn(this.quizService.movingAverages$);get movingAverages$(){return this._movingAverages$}_totalStats$=tn(this.quizService.totalStats$);get totalStats$(){return this._totalStats$}_quizId;set id(e){this._quizId=e}router=f(Wn);practice(){this._quizId&&(this.quizService.practiceOpened(this._quizId),this.router.navigate(["quiz/"+this._quizId]))}};ee($r,"\u0275fac",function(t){return new(t||$r)}),ee($r,"\u0275cmp",rt({type:$r,selectors:[["app-quiz-home"]],inputs:{id:"id"},features:[he([],[Il({lucideChartSpline:Vx})])],decls:23,vars:8,consts:[[1,"d-flex","flex-column","h-100","justify-content-between"],[1,"d-flex","flex-column","gap-3"],[3,"correct","current","longest","wrong"],[1,"d-flex","flex-column","overflow-hidden"],[1,"overflow-auto","pt-1"],[1,"mt-4",3,"confusionData","heatmapData","showAll"],[1,"my-3"],[1,"ms-4"],["color","primary","mat-raised-button","",1,"flex-shrink-0",3,"click"],[1,"text-secondary","small"],["name","lucideChartSpline"]],template:function(t,r){if(t&1){let i=Yt();V(0,"div",0)(1,"div",1)(2,"section")(3,"h1"),Z(4,"Quiz Stats"),j(),V(5,"h2"),Z(6,"Total"),j(),Mt(7,"app-stat-badges",2),j(),V(8,"section",3)(9,"h2"),Z(10,"Sessions"),j(),V(11,"div",4),dr(12),dn(13,FL,4,7,null,null,Ir),j()()(),V(15,"div",1),Mt(16,"app-chart",5),V(17,"section"),Mt(18,"mat-divider",6),dn(19,LL,7,6,"div",7,Ir),j(),V(21,"button",8),ut("click",function(){return pt(i),gt(r.practice())}),Z(22," Practice "),j()()()}if(t&2){let i,o,s,a,c;F(7),dt("correct",((i=r.totalStats$())==null?null:i.correct)??0)("current",((o=r.totalStats$())==null?null:o.currentStreak)??0)("longest",((s=r.totalStats$())==null?null:s.longestStreak)??0)("wrong",((a=r.totalStats$())==null?null:a.wrong)??0),F(5),ce((((c=r.statsBySession$())==null||c[0]==null?null:c[0].answered)??0)<10),F(),hn(r.statsBySession$()),F(3),dt("confusionData",r.confusionData$())("heatmapData",r.heatmapData$())("showAll",!0),F(3),hn(r.movingAverages$())}},dependencies:[N1,ms,fr,Do,O0,Sl,Ur,F1,V1,tr,Ug],styles:["[_nghost-%COMP%]     .correct .mat-badge-content{background-color:var(--bs-success)}[_nghost-%COMP%]     .wrong .mat-badge-content{background-color:var(--bs-danger)}[_nghost-%COMP%]     .current{color:#ff6700}[_nghost-%COMP%]     .current .mat-badge-content{background-color:#ff6700}[_nghost-%COMP%]     .longest{color:gold}[_nghost-%COMP%]     .longest .mat-badge-content{background-color:gold}"]})),$r=Re([Le()],$r);var yI=[{symbol:"i",examples:[{word:"viel",transcription:"[fi\u02D0l]"},{word:"Igel",transcription:"[\u02C8i\u02D0\u0261l\u0329]"},{word:"Bibel",transcription:"[\u02C8bi\u02D0bl\u0329]"},{word:"wir",transcription:"[vi\u02D0\u0250\u032F]"},{word:"Sie",transcription:"[zi\u02D0]"}]},{symbol:"y",examples:[{word:"f\xFChlen",transcription:"[\u02C8fy\u02D0l\u0259n]"},{word:"Lyrik",transcription:"[\u02C8ly\u02D0\u0281\u026Ak]"},{word:"T\xFCr",transcription:"[ty\u02D0\u0250\u032F]"},{word:"\xFCber",transcription:"[\u02C8y\u02D0b\u0250]"},{word:"s\xFC\xDF",transcription:"[zy\u02D0s]"}]},{symbol:"u",examples:[{word:"gut",transcription:"[\u0261u\u02D0t]"},{word:"Hut",transcription:"[hu\u02D0t]"},{word:"Musik",transcription:"[mu\u02C8zi\u02D0k]"},{word:"Blume",transcription:"[\u02C8blu\u02D0m\u0259]"},{word:"Schuh",transcription:"[\u0283u\u02D0]"}]},{symbol:"\u026A",examples:[{word:"Fisch",transcription:"[f\u026A\u0283]"},{word:"mit",transcription:"[m\u026At]"},{word:"Kinder",transcription:"[\u02C8k\u026And\u0250]"},{word:"sind",transcription:"[z\u026Ant]"},{word:"immer",transcription:"[\u02C8\u026Am\u0250]"}]},{symbol:"\u028F",examples:[{word:"m\xFCssen",transcription:"[\u02C8m\u028Fs\u0259n]"},{word:"f\xFClle",transcription:"[\u02C8f\u028Fl\u0259]"},{word:"Rhythmus",transcription:"[\u02C8\u0281\u028Ftm\u028As]"},{word:"H\xFCtte",transcription:"[\u02C8h\u028Ft\u0259]"},{word:"Gl\xFCck",transcription:"[\u0261l\u028Fk]"}]},{symbol:"\u028A",examples:[{word:"unter",transcription:"[\u02C8\u028Ant\u0250]"},{word:"Mutter",transcription:"[\u02C8m\u028At\u0250]"},{word:"rund",transcription:"[\u0281\u028Ant]"},{word:"Bund",transcription:"[b\u028Ant]"},{word:"Kuss",transcription:"[k\u028As]"}]},{symbol:"e",examples:[{word:"geben",transcription:"[\u02C8\u0261e\u02D0b\u0259n]"},{word:"ewig",transcription:"[\u02C8e\u02D0v\u026A\xE7]"},{word:"See",transcription:"[ze\u02D0]"},{word:"Heimat",transcription:"[\u02C8ha\u026Ama\u02D0t]"},{word:"Beere",transcription:"[\u02C8be\u02D0\u0281\u0259]"}]},{symbol:"\xF8",examples:[{word:"h\xF6ren",transcription:"[\u02C8h\xF8\u02D0\u0281\u0259n]"},{word:"H\xF6hle",transcription:"[\u02C8h\xF8\u02D0l\u0259]"},{word:"sch\xF6n",transcription:"[\u0283\xF8\u02D0n]"},{word:"\xD6l",transcription:"[\xF8\u02D0l]"},{word:"Goethe",transcription:"[\u02C8\u0261\xF8\u02D0t\u0259]"}]},{symbol:"o",examples:[{word:"rot",transcription:"[\u0281o\u02D0t]"},{word:"Rose",transcription:"[\u02C8\u0281o\u02D0z\u0259]"},{word:"Opa",transcription:"[\u02C8o\u02D0pa]"},{word:"Boot",transcription:"[bo\u02D0t]"},{word:"Sohn",transcription:"[zo\u02D0n]"}]},{symbol:"\u0259",examples:[{word:"Liebe",transcription:"[\u02C8li\u02D0b\u0259]"},{word:"ohne",transcription:"[\u02C8o\u02D0n\u0259]"},{word:"Freude",transcription:"[\u02C8f\u0281\u0254\u028Fd\u0259]"},{word:"Hilfe",transcription:"[\u02C8h\u026Alf\u0259]"},{word:"Glaube",transcription:"[\u02C8\u0261la\u028Ab\u0259]"}]},{symbol:"\u025B",examples:[{word:"Bett",transcription:"[b\u025Bt]"},{word:"M\xE4nner",transcription:"[\u02C8m\u025Bn\u0250]"},{word:"sp\xE4t",transcription:"[\u0283p\u025B\u02D0t]"},{word:"\xC4rger",transcription:"[\u02C8\u025B\u0281\u0261\u0250]"},{word:"helfen",transcription:"[\u02C8h\u025Blf\u0259n]"}]},{symbol:"\u0153",examples:[{word:"H\xF6lle",transcription:"[\u02C8h\u0153l\u0259]"},{word:"G\xF6ttlich",transcription:"[\u02C8\u0261\u0153tl\u026A\xE7]"},{word:"k\xF6nnen",transcription:"[\u02C8k\u0153n\u0259n]"},{word:"L\xF6ffel",transcription:"[\u02C8l\u0153f\u0259l]"},{word:"zw\xF6lf",transcription:"[tsv\u0153lf]"}]},{symbol:"\u0254",examples:[{word:"dort",transcription:"[d\u0254\u0281t]"},{word:"kommen",transcription:"[\u02C8k\u0254m\u0259n]"},{word:"toll",transcription:"[t\u0254l]"},{word:"voll",transcription:"[f\u0254l]"},{word:"Sonne",transcription:"[\u02C8z\u0254n\u0259]"}]},{symbol:"\u0250",examples:[{word:"Vater",transcription:"[\u02C8fa\u02D0t\u0250]"},{word:"Wasser",transcription:"[\u02C8vas\u0250]"},{word:"Berta",transcription:"[\u02C8b\u025B\u0281t\u0250]"},{word:"Nordpol",transcription:"[\u02C8n\u0254\u0281tpo\u02D0l]"},{word:"Opa",transcription:"[\u02C8o\u02D0p\u0250]"}]},{symbol:"a",examples:[{word:"Wasser",transcription:"[\u02C8vas\u0250]"},{word:"Katze",transcription:"[\u02C8kats\u0259]"},{word:"Hand",transcription:"[hant]"},{word:"Mann",transcription:"[man]"},{word:"das",transcription:"[das]"}]},{symbol:"\xE4",examples:[{word:"Vater",transcription:"[\u02C8fa\u02D0t\u0250]"},{word:"Ma\xDF",transcription:"[ma\u02D0s]"},{word:"Abend",transcription:"[\u02C8a\u02D0b\u0259nt]"},{word:"Tag",transcription:"[ta\u02D0k]"},{word:"Bahn",transcription:"[ba\u02D0n]"}]}];var kI=[{symbol:"i",examples:[{word:"bead",transcription:"[bi\u02D0d]"},{word:"see",transcription:"[si\u02D0]"},{word:"feet",transcription:"[fi\u02D0t\u031A]"},{word:"chief",transcription:"[t\u0283i\u02D0f]"},{word:"happy",transcription:"[\u02C8h\xE6pi]"}]},{symbol:"\u026A",examples:[{word:"bit",transcription:"[b\u026At\u031A]"},{word:"in",transcription:"[\u026An]"},{word:"silly",transcription:"[\u02C8s\u026Ali]"},{word:"fill",transcription:"[f\u026A\u026B]"},{word:"gym",transcription:"[d\u0292\u026Am]"}]},{symbol:"\u0268",examples:[{word:"roses",transcription:"[\u02C8\u0279o\u028Az\u0268z]"},{word:"wanted",transcription:"[\u02C8w\u0251nt\u0268d]"},{word:"music",transcription:"[\u02C8mju\u02D0z\u0268k]"},{word:"believe",transcription:"[b\u0268\u02C8\u026Bi\u02D0v]"},{word:"rabbit",transcription:"[\u02C8\u0279\xE6b\u0268t]"}]},{symbol:"\u0289",examples:[{word:"two",transcription:"[t\u02B0\u0289\u02D0]"},{word:"dude",transcription:"[d\u0289\u02D0d]"},{word:"news",transcription:"[n\u0289\u02D0z]"},{word:"soon",transcription:"[s\u0289\u02D0n]"},{word:"suit",transcription:"[s\u0289\u02D0t\u031A]"}]},{symbol:"\u028A",examples:[{word:"put",transcription:"[p\u02B0\u028At\u031A]"},{word:"foot",transcription:"[f\u028At\u031A]"},{word:"good",transcription:"[\u0261\u028Ad]"},{word:"look",transcription:"[\u026B\u028Ak\u031A]"},{word:"could",transcription:"[k\u02B0\u028Ad]"}]},{symbol:"u",examples:[{word:"goose",transcription:"[\u0261u\u02D0s]"},{word:"who",transcription:"[hu\u02D0]"},{word:"blue",transcription:"[b\u026Bu\u02D0]"},{word:"food",transcription:"[fu\u02D0d]"},{word:"group",transcription:"[\u0261\u0279u\u02D0p\u031A]\xA0"}]},{symbol:"e",examples:[{word:"gate",transcription:"[\u0261e\u026At\u031A]"},{word:"day",transcription:"[de\u026A]"},{word:"paid",transcription:"[p\u02B0e\u026Ad]"},{word:"take",transcription:"[t\u02B0e\u026Ak\u031A]"},{word:"face",transcription:"[fe\u026As]"}]},{symbol:"\u0259",examples:[{word:"about",transcription:"[\u0259\u02C8ba\u028At\u031A]"},{word:"sofa",transcription:"[\u02C8so\u028Af\u0259]"},{word:"pencil",transcription:"[\u02C8p\u02B0\u025Bns\u0259\u026B]"},{word:"supply",transcription:"[s\u0259\u02C8p\u02B0\u026Ba\u026A]"},{word:"taken",transcription:"[\u02C8t\u02B0e\u026Ak\u0259n]"}]},{symbol:"o",examples:[{word:"go",transcription:"[\u0261o\u028A]"},{word:"boat",transcription:"[bo\u028At\u031A]"},{word:"show",transcription:"[\u0283o\u028A]"},{word:"cold",transcription:"[k\u02B0o\u028A\u026Bd]"},{word:"home",transcription:"[ho\u028Am]"}]},{symbol:"\u025B",examples:[{word:"bed",transcription:"[b\u025Bd]"},{word:"set",transcription:"[s\u025Bt\u031A]"},{word:"men",transcription:"[m\u025Bn]"},{word:"head",transcription:"[h\u025Bd]"},{word:"next",transcription:"[n\u025Bkst\u031A]"}]},{symbol:"\u025C",examples:[{word:"bird",transcription:"[b\u025Dd]"},{word:"learn",transcription:"[\u026B\u025Dn]"},{word:"work",transcription:"[w\u025Dk\u031A]"},{word:"turn",transcription:"[t\u02B0\u025Dn]"},{word:"her",transcription:"[h\u025D]"}]},{symbol:"\u028C",examples:[{word:"cut",transcription:"[k\u02B0\u028Ct\u031A]"},{word:"mud",transcription:"[m\u028Cd]"},{word:"love",transcription:"[\u026B\u028Cv]"},{word:"up",transcription:"[\u028Cp\u031A]"},{word:"sun",transcription:"[s\u028Cn]"}]},{symbol:"\u0254",examples:[{word:"thought",transcription:"[\u03B8\u0254\u02D0t\u031A]"},{word:"law",transcription:"[\u026B\u0254\u02D0]"},{word:"dog",transcription:"[d\u0254\u02D0\u0261]"},{word:"caught",transcription:"[k\u02B0\u0254\u02D0t\u031A]"},{word:"wall",transcription:"[w\u0254\u02D0\u026B]\xA0"}]},{symbol:"\xE6",examples:[{word:"cat",transcription:"[k\u02B0\xE6t\u031A]"},{word:"bad",transcription:"[b\xE6\u02D0d]"},{word:"laugh",transcription:"[\u026B\xE6f]"},{word:"apple",transcription:"[\u02C8\xE6p\u0259\u026B]"},{word:"map",transcription:"[m\xE6p\u031A]"}]},{symbol:"a",examples:[{word:"sky",transcription:"[ska\u026A]"},{word:"now",transcription:"[na\u028A]"},{word:"time",transcription:"[t\u02B0a\u026Am]"},{word:"out",transcription:"[a\u028At\u031A]"},{word:"ride",transcription:"[\u0279a\u026Ad]"}]},{symbol:"\u0251",examples:[{word:"father",transcription:"[\u02C8f\u0251\xF0\u025A]"},{word:"palm",transcription:"[p\u02B0\u0251m]"},{word:"lot",transcription:"[\u026B\u0251t\u031A]"},{word:"hot",transcription:"[h\u0251t\u031A]"},{word:"stop",transcription:"[st\u0251p\u031A]\xA0"}]}];var bI=[{symbol:"i",examples:[{word:"venerd\xEC",transcription:"[vener\u02C8di]"},{word:"amici",transcription:"[a\u02C8mit\u0283i]"},{word:"figlio",transcription:"[\u02C8fi\u028E\u02D0o]"},{word:"isola",transcription:"[\u02C8izola]"},{word:"s\xEC",transcription:"[\u02C8si]"}]},{symbol:"e",examples:[{word:"perch\xE9",transcription:"[per\u02C8ke]"},{word:"sera",transcription:"[\u02C8se\u02D0ra]"},{word:"menta",transcription:"[\u02C8menta]"},{word:"rete",transcription:"[\u02C8re\u02D0te]"},{word:"vela",transcription:"[\u02C8ve\u02D0la]"}]},{symbol:"\u025B",examples:[{word:"bene",transcription:"[\u02C8b\u025B\u02D0ne]"},{word:"letto",transcription:"[\u02C8l\u025Bt\u02D0o]"},{word:"testa",transcription:"[\u02C8t\u025Bsta]"},{word:"cielo",transcription:"[\u02C8t\u0283\u025B\u02D0lo]"},{word:"cio\xE8",transcription:"[t\u0283o\u02C8\u025B]"}]},{symbol:"a",examples:[{word:"amare",transcription:"[a\u02C8ma\u02D0re]"},{word:"casa",transcription:"[\u02C8ka\u02D0za]"},{word:"palla",transcription:"[\u02C8pal\u02D0a]"},{word:"sar\xE0",transcription:"[sa\u02C8ra]"},{word:"ascoltare",transcription:"[askol\u02C8ta\u02D0re]"}]},{symbol:"\u0254",examples:[{word:"cosa",transcription:"[\u02C8k\u0254\u02D0za]"},{word:"storia",transcription:"[\u02C8st\u0254\u02D0rja]"},{word:"otto",transcription:"[\u02C8\u0254t\u02D0o]"},{word:"per\xF2",transcription:"[pe\u02C8r\u0254]"},{word:"notte",transcription:"[\u02C8n\u0254t\u02D0e]"}]},{symbol:"o",examples:[{word:"ombra",transcription:"[\u02C8ombra]"},{word:"sono",transcription:"[\u02C8so\u02D0no]"},{word:"sopra",transcription:"[\u02C8so\u02D0pra]"},{word:"forno",transcription:"[\u02C8forno]"},{word:"sconto",transcription:"[\u02C8skonto]"}]},{symbol:"u",examples:[{word:"muro",transcription:"[\u02C8mu\u02D0ro]"},{word:"rag\xF9",transcription:"[ra\u02C8\u0261u]"},{word:"punto",transcription:"[\u02C8punto]"},{word:"unico",transcription:"[\u02C8u\u02D0niko]"},{word:"scusa",transcription:"[\u02C8sku\u02D0za]"}]}];var xI=[{symbol:"i",examples:[{word:"bife",transcription:"[\u02C8bifi]"},{word:"cidade",transcription:"[si\u02C8dad\u0292i]"},{word:"filho",transcription:"[\u02C8fi\u028Eu]"},{word:"ali",transcription:"[a\u02C8li]"},{word:"rir",transcription:"[\u02C8xi\u03C7]"}]},{symbol:"u",examples:[{word:"suco",transcription:"[\u02C8suku]"},{word:"tudo",transcription:"[\u02C8tudu]"},{word:"caju",transcription:"[ka\u02C8\u0292u]"},{word:"uva",transcription:"[\u02C8uv\u0250]"},{word:"rua",transcription:"[\u02C8xu\u0250]"}]},{symbol:"\u026A",examples:[{word:"que",transcription:"[k\u026A]"},{word:"de",transcription:"[d\u0292\u026A]"},{word:"se",transcription:"[s\u026A]"},{word:"peixe",transcription:"[\u02C8pej\u0283\u026A]"},{word:"leite",transcription:"[\u02C8lejt\u0283\u026A]"}]},{symbol:"\u028A",examples:[{word:"do",transcription:"[d\u028A]"},{word:"no",transcription:"[n\u028A]"},{word:"menino",transcription:"[me\u02C8nin\u028A]"},{word:"mato",transcription:"[\u02C8mat\u028A]"},{word:"livro",transcription:"[\u02C8liv\u027E\u028A]"}]},{symbol:"e",examples:[{word:"dedo",transcription:"[\u02C8dedu]"},{word:"gelo",transcription:"[\u02C8\u0292elu]"},{word:"mesa",transcription:"[\u02C8mez\u0250]"},{word:"escreve",transcription:"[es\u02C8k\u027Eevi]"},{word:"voc\xEA",transcription:"[vo\u02C8se]"}]},{symbol:"o",examples:[{word:"ovo",transcription:"[\u02C8ovu]"},{word:"fogo",transcription:"[\u02C8fogu]"},{word:"av\xF4",transcription:"[a\u02C8vo]"},{word:"soco",transcription:"[\u02C8soku]"},{word:"lobo",transcription:"[\u02C8lobu]"}]},{symbol:"\u025B",examples:[{word:"caf\xE9",transcription:"[ka\u02C8f\u025B]"},{word:"pela",transcription:"[\u02C8p\u025Bl\u0250]"},{word:"terra",transcription:"[\u02C8t\u025B\u03C7\u0250]"},{word:"janela",transcription:"[\u0292a\u02C8n\u025Bl\u0250]"},{word:"mela",transcription:"[\u02C8m\u025Bl\u0250]"}]},{symbol:"\u0254",examples:[{word:"vov\xF3",transcription:"[vo\u02C8v\u0254]"},{word:"p\xF3",transcription:"[\u02C8p\u0254]"},{word:"bola",transcription:"[\u02C8b\u0254l\u0250]"},{word:"copa",transcription:"[\u02C8k\u0254p\u0250]"},{word:"soco (verb)",transcription:"[\u02C8s\u0254ku]"}]},{symbol:"\u0250",examples:[{word:"casa",transcription:"[\u02C8kaz\u0250]"},{word:"mala",transcription:"[\u02C8mal\u0250]"},{word:"cama",transcription:"[\u02C8k\u0250\u0303m\u0250]"},{word:"banana",transcription:"[ba\u02C8n\u0250\u0303n\u0250]"},{word:"fala",transcription:"[\u02C8fal\u0250]"}]},{symbol:"a",examples:[{word:"mar",transcription:"[\u02C8ma\u03C7]"},{word:"saco",transcription:"[\u02C8saku]"},{word:"sof\xE1",transcription:"[so\u02C8fa]"},{word:"pato",transcription:"[\u02C8patu]"},{word:"l\xE1",transcription:"[\u02C8la]"}]}];var MI={"pt-br":xI,"de-de":yI,"en-us":kI,"it-it":bI};function jL(n,e){if(n&1){let t=Yt();V(0,"button",4),ut("click",function(){pt(t);let i=K();return gt(i.onNewSession())}),Z(1," New Session "),j()}}function zL(n,e){if(n&1){let t=Yt();V(0,"button",2),ut("click",function(){pt(t);let i=K(2);return gt(i.onNext())}),Z(1," Next "),j()}if(n&2){let t=K(2);dt("disabled",t.isNextDisabled$())}}function HL(n,e){if(n&1){let t=Yt();V(0,"button",7),ut("click",function(){pt(t);let i=K(2);return gt(i.onVerify())}),Z(1," Verify "),j()}if(n&2){let t=K(2);dt("disabled",t.isVerifyDisabled$())}}function UL(n,e){if(n&1&&Et(0,zL,2,1,"button",5)(1,HL,2,1,"button",6),n&2){let t=K();It(t.isAnswered$()?0:1)}}var qr=class{index$=zt.required({alias:"index"});selectedAnswer$=zt.required({alias:"selectedAnswer"});answered$=zt.required({alias:"answered"});finished$=zt.required({alias:"finished"});questionsLength$=zt.required({alias:"questionsLength"});previous$=hr({alias:"previous"});verify$=hr({alias:"verify"});next$=hr({alias:"next"});newSession$=hr({alias:"newSession"});isFirstQuestion$=Lt(()=>this.index$()===0);isFinished$=Lt(()=>this.finished$());isAnswered$=Lt(()=>this.answered$());hasSelectedAnswer$=Lt(()=>this.selectedAnswer$()!==void 0);isLastQuestion$=Lt(()=>this.index$()===this.questionsLength$()-1);isVerifyDisabled$=Lt(()=>!this.hasSelectedAnswer$()||this.isAnswered$());isNextDisabled$=Lt(()=>!this.isAnswered$()||this.isLastQuestion$());onPrevious(){this.previous$.emit()}onVerify(){this.verify$.emit()}onNext(){this.next$.emit()}onNewSession(){this.newSession$.emit()}};ee(qr,"\u0275fac",function(t){return new(t||qr)}),ee(qr,"\u0275cmp",rt({type:qr,selectors:[["app-quiz-controls"]],inputs:{index$:[1,"index","index$"],selectedAnswer$:[1,"selectedAnswer","selectedAnswer$"],answered$:[1,"answered","answered$"],finished$:[1,"finished","finished$"],questionsLength$:[1,"questionsLength","questionsLength$"]},outputs:{previous$:"previous",verify$:"verify",next$:"next",newSession$:"newSession"},decls:7,vars:2,consts:[[1,"d-flex","gap-4","py-3"],[1,"flex-1"],["color","primary","mat-raised-button","",1,"w-100",3,"click","disabled"],["color","warn","mat-raised-button","",1,"w-100"],["color","warn","mat-raised-button","",1,"w-100",3,"click"],["color","primary","mat-raised-button","",1,"w-100",3,"disabled"],["color","warn","mat-raised-button","",1,"w-100",3,"disabled"],["color","warn","mat-raised-button","",1,"w-100",3,"click","disabled"]],template:function(t,r){t&1&&(V(0,"div",0)(1,"div",1)(2,"button",2),ut("click",function(){return r.onPrevious()}),Z(3," Previous "),j()(),V(4,"div",1),Et(5,jL,2,0,"button",3)(6,UL,2,1),j()()),t&2&&(F(2),dt("disabled",r.isFirstQuestion$()),F(3),It(r.isFinished$()&&r.isLastQuestion$()?5:6))},dependencies:[fr,Do],encapsulation:2})),qr=Re([Le()],qr);function $L(n,e){if(n&1&&Mt(0,"img",6),n&2){let t=K();dt("alt",t.sound().sourceId)("src",t.sound().logoUrl,Uu)("title",t.sound().sourceTitle)}}var rr=class{sound=zt.required();abbreviateAuthor=zt(!1);next=hr();authorName=Lt(()=>{let e=this.sound();return e.author?this.abbreviateAuthor()?e.author.split(" ").map(t=>t[0]??"").join(""):e.author:""});onNext(e){e.preventDefault(),e.stopPropagation(),this.next.emit()}};ee(rr,"\u0275fac",function(t){return new(t||rr)}),ee(rr,"\u0275cmp",rt({type:rr,selectors:[["app-sound-player"]],inputs:{sound:[1,"sound"],abbreviateAuthor:[1,"abbreviateAuthor"]},outputs:{next:"next"},decls:10,vars:3,consts:[["audio",""],["mat-icon-button","","matRipple","",3,"click"],["name","lucideCirclePlay"],["mat-icon-button","","matRipple","",1,"ms-1",3,"click"],["name","lucideSkipForward"],[1,"ms-2","d-inline-flex","align-items-center","gap-2"],["height","18",3,"alt","src","title"],["preload","auto",3,"src"]],template:function(t,r){if(t&1){let i=Yt();V(0,"button",1),ut("click",function(s){pt(i);let a=xo(9);return s.preventDefault(),s.stopPropagation(),gt(a.play())}),Mt(1,"ng-icon",2),j(),V(2,"button",3),ut("click",function(s){return pt(i),gt(r.onNext(s))}),Mt(3,"ng-icon",4),j(),V(4,"span",5),Et(5,$L,1,3,"img",6),V(6,"small"),Z(7),j()(),Mt(8,"audio",7,0)}t&2&&(F(5),It(r.sound().logoUrl?5:-1),F(2),Ie(r.authorName()),F(),dt("src",r.sound().url))},dependencies:[Sd,To,Sl],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center}"]})),rr=Re([Le()],rr);var qL=(n,e)=>({"border-danger":n,"border-success":e}),GL=(n,e)=>e.key;function WL(n,e){if(n&1){let t=Yt();V(0,"div",5)(1,"app-sound-player",7),ut("next",function(){pt(t),K(3);let i=Ft(0),o=K();return gt(o.onNextSound(i))}),j()()}if(n&2){K(3);let t=Ft(0);F(),dt("abbreviateAuthor",!0)("sound",t.sounds[t.soundIndex])}}function QL(n,e){n&1&&(V(0,"span",6),Mt(1,"ng-icon",8),j())}function KL(n,e){if(n&1&&Et(0,WL,2,2,"div",5)(1,QL,2,0,"span",6),n&2){K(2);let t=Ft(0);It(t.sounds!==void 0&&t.soundIndex!==void 0?0:1)}}function YL(n,e){if(n&1&&(V(0,"div",2)(1,"div"),Z(2),j(),Et(3,KL,2,1),j()),n&2){K();let t=Ft(0),r=Ft(1),i=Ft(2),o=K(),s=Ft(2);F(2),xn(" ",t.type===o.questionElement.Letter?t.letter:t.name," "),F(),It(s&&r&&!i?3:-1)}}function ZL(n,e){if(n&1){let t=Yt();V(0,"app-sound-player",9),ut("next",function(){pt(t),K();let i=Ft(0),o=K();return gt(o.onNextSound(i))}),j()}if(n&2){K();let t=Ft(0);dt("sound",t.sounds[t.soundIndex])}}function XL(n,e){n&1&&(V(0,"p",4),Z(1," ERROR: Ops! Something went wrong. "),j())}function JL(n,e){if(n&1&&(dr(0)(1)(2),V(3,"mat-radio-button",1),Et(4,YL,4,2,"div",2)(5,ZL,1,1,"app-sound-player",3)(6,XL,2,0,"p",4),j()),n&2){let t=e.$implicit,r=K(),i=Ft(0),o=Ft(2),s=Ft(3),a=ce(t.value);F();let c=ce(i===a.id);F();let d=ce(o&&a.id===s);F(),dt("disabled",o)("disabledInteractive",!0)("ngClass",ck(8,qL,o&&c&&!d,o&&d))("value",a.id),F(),It(a.type===r.questionElement.Letter||a.type===r.questionElement.Name?4:a.type===r.questionElement.Sound&&a.sounds!==void 0&&a.soundIndex!==void 0?5:6)}}var Gr=class{options$=zt.required({alias:"options"});correctOptionId$=zt.required({alias:"correctOptionId"});questionElement=Ql;selectedAnswer$=zt.required({alias:"selectedAnswer"});answered$=zt.required({alias:"answered"});selectAnswer$=hr({alias:"selectAnswer"});nextSound$=hr({alias:"nextSound"});onSelectAnswer(e){this.selectAnswer$.emit(e)}onNextSound(e){this.nextSound$.emit({vowel:e})}};ee(Gr,"\u0275fac",function(t){return new(t||Gr)}),ee(Gr,"\u0275cmp",rt({type:Gr,selectors:[["app-quiz-options"]],inputs:{options$:[1,"options","options$"],correctOptionId$:[1,"correctOptionId","correctOptionId$"],selectedAnswer$:[1,"selectedAnswer","selectedAnswer$"],answered$:[1,"answered","answered$"]},outputs:{selectAnswer$:"selectAnswer",nextSound$:"nextSound"},decls:7,vars:6,consts:[[1,"d-flex","flex-column",3,"change","value"],["color","primary",1,"bg-light","rounded-5","my-1","border",3,"disabled","disabledInteractive","ngClass","value"],[1,"align-items-center","d-flex","justify-content-between"],[3,"sound"],["role","alert",1,"alert","alert-danger"],[1,"d-flex","me-4"],["role","alert",1,"alert","alert-danger","small"],[3,"next","abbreviateAuthor","sound"],["name","lucideAlertTriangle"],[3,"next","sound"]],template:function(t,r){if(t&1){let i=Yt();dr(0),V(1,"mat-radio-group",0),ut("change",function(s){return pt(i),gt(r.onSelectAnswer(s))}),dr(2)(3),dn(4,JL,7,11,"mat-radio-button",1,GL),Mo(6,"keyvalue"),j()}if(t&2){let i=ce(r.selectedAnswer$());F(),dt("value",i),F(),ce(r.answered$());let o=r.options$();F(),ce(r.correctOptionId$()),F(),hn(il(6,4,o))}},dependencies:[z1,qy,j1,Bs,Sl,rr,Hg],styles:["[_nghost-%COMP%]     .mat-internal-form-field{width:100%}[_nghost-%COMP%]     .mat-internal-form-field label{width:100%}"]})),Gr=Re([Le()],Gr);function tj(n,e){if(n&1&&(V(0,"div")(1,"span"),Z(2),j(),Z(3," - "),V(4,"span",3),Z(5),Mo(6,"lowercase"),j()()),n&2){K();let t=Ft(0);F(2),Ie(t.letter),F(3),Ie(il(6,2,t.symbol.names.join(", ")))}}function ej(n,e){if(n&1&&(V(0,"div"),Z(1),j()),n&2){K();let t=Ft(0);F(),Ie(t.name)}}function nj(n,e){if(n&1){let t=Yt();V(0,"app-sound-player",4),ut("next",function(){pt(t);let i=K(),o=Ft(0);return gt(i.onNextSound(o))}),j()}if(n&2){K();let t=Ft(0);dt("sound",t.sounds[t.soundIndex])}}function rj(n,e){n&1&&(V(0,"p",2),Z(1," ERROR: Ops! Something went wrong. "),j())}var Wr=class{question$=zt.required({alias:"question"});index$=zt.required({alias:"index"});nextSound$=hr({alias:"nextSound"});isLetterQuestion$=Lt(()=>this.question$().type==="letter");isNameQuestion$=Lt(()=>this.question$().type==="name");isSoundQuestion$=Lt(()=>this.question$().type==="sound");onNextSound(e){this.nextSound$.emit(e)}};ee(Wr,"\u0275fac",function(t){return new(t||Wr)}),ee(Wr,"\u0275cmp",rt({type:Wr,selectors:[["app-quiz-prompt"]],inputs:{question$:[1,"question","question$"],index$:[1,"index","index$"]},outputs:{nextSound$:"nextSound"},decls:8,vars:3,consts:[[1,"d-flex","align-items-center","gap-1"],[3,"sound"],["role","alert",1,"alert","alert-danger"],[1,"symbol-name"],[3,"next","sound"]],template:function(t,r){if(t&1&&(dr(0),V(1,"div",0)(2,"div"),Z(3),j(),Et(4,tj,7,4,"div")(5,ej,2,1,"div")(6,nj,1,1,"app-sound-player",1)(7,rj,2,0,"p",2),j()),t&2){let i=ce(r.question$().vowel);F(3),xn("",r.index$()+1,")"),F(),It(r.isLetterQuestion$()?4:r.isNameQuestion$()?5:r.isSoundQuestion$()&&i.sounds!==void 0&&i.soundIndex!==void 0?6:7)}},dependencies:[rr,zg],encapsulation:2})),Wr=Re([Le()],Wr);function ij(n,e){n&1&&(V(0,"span",11),Z(1,"\u2022"),j())}function oj(n,e){if(n&1&&(V(0,"span"),Et(1,ij,2,0,"span",11),Mt(2,"span",12)(3,"em",13),j()),n&2){let t=e.$implicit,r=e.$index;F(),It(r!==0?1:-1),F(),dt("textContent",t.word),F(),dt("textContent",t.transcription)}}function sj(n,e){n&1&&Mt(0,"mat-divider")}function aj(n,e){if(n&1&&(V(0,"div",9),Mt(1,"img",10),dn(2,oj,4,3,"span",null,Ir),j(),Et(4,sj,1,0,"mat-divider")),n&2){let t=K(),r=t.$implicit,i=t.$index,o=t.$count;dt("matTooltip",r.title)("matTooltipHideDelay",5e3)("title",r.title),F(),dt("alt",sk(r.code))("src",ak("flags/",r.cc,".svg"),Uu),F(),hn(r.examples),F(2),It(i!==o-1?4:-1)}}function lj(n,e){if(n&1&&Et(0,aj,5,8),n&2){let t=e.$implicit;It(((t.examples==null?null:t.examples.length)??0)>0?0:-1)}}function cj(n,e){if(n&1&&(V(0,"div",7),dn(1,lj,1,1,null,null,Ir),j(),Mt(3,"mat-divider",8)),n&2){K(2);let t=Ft(3);F(),hn(t)}}function dj(n,e){if(n&1){let t=Yt();V(0,"div")(1,"h1"),Z(2),j(),V(3,"app-quiz-prompt",2),ut("nextSound",function(i){pt(t);let o=K();return gt(o.nextQuestionSound(i))}),j(),V(4,"app-quiz-options",3),ut("nextSound",function(i){pt(t);let o=K();return gt(o.nextOptionSound(i.vowel))})("selectAnswer",function(i){pt(t);let o=K();return gt(o.selectAnswer(i.value))}),j(),V(5,"app-quiz-controls",4),ut("newSession",function(){pt(t);let i=K();return gt(i.onNewSession())})("next",function(){pt(t);let i=K();return gt(i.onNext())})("previous",function(){pt(t);let i=K();return gt(i.onPrevious())})("verify",function(){pt(t);let i=K();return gt(i.onVerify())}),j()(),V(6,"div",5),Et(7,cj,4,0),Mt(8,"app-chart",6),j()}if(n&2){K();let t=Ft(0),r=Ft(1),i=Ft(2),o=Ft(3),s=Ft(4),a=Ft(5),c=Ft(6),d=Ft(7);F(2),Ie(t.name),F(),dt("index",r)("question",i),F(),dt("answered",a)("correctOptionId",i.vowel.id)("options",i.options)("selectedAnswer",s),F(),dt("answered",a)("finished",c)("index",r)("questionsLength",d)("selectedAnswer",s),F(2),It(a&&o.length>0?7:-1),F(),dt("answered",a)("question",i)("selectedAnswer",s)}}function hj(n,e){n&1&&(V(0,"p",1),Z(1," ERROR: Ops! Something went wrong. "),j())}var Qr=class{selectedAnswer$=tn(f(je).selectedAnswer$);finished$=((e=tn(f(je).finished$))=>Lt(()=>e()??!1))();openedQuiz$=tn(f(je).openedQuiz$);index$=tn(f(je).currentQuestionIndex$);question$=tn(f(je).question$);examplesByLangs$=((e=tn(f(je).question$.pipe(lt(t=>t?.vowel?.letter))))=>Lt(()=>{let t=e();return Object.entries(MI).map(([r,i])=>{let s=i.find(c=>c.symbol===t)?.examples?.slice().sort(()=>Math.random()-.5),a=r.split("-").pop()||r;return{code:r,cc:a.toLowerCase(),examples:s,title:s?.map(({word:c,transcription:d})=>`${c} ${d}`).join(`
`)}}).filter(({examples:r})=>(r?.length??0)>0)}))();answered$=((e=tn(f(je).answered$))=>Lt(()=>e()??!1))();questionsLength$=tn(f(je).questionsLength$);quizService=f(je);onNext(){this.quizService.next()}onVerify(){this.quizService.answerCurrent()}onNewSession(){this.quizService.goToNewSession()}selectAnswer(e){this.quizService.selectAnswer(e)}onPrevious(){this.quizService.previousQuestion()}nextOptionSound(e){this.quizService.nextOptionSound(e)}nextQuestionSound(e){this.quizService.nextQuestionSound(e)}};ee(Qr,"\u0275fac",function(t){return new(t||Qr)}),ee(Qr,"\u0275cmp",rt({type:Qr,selectors:[["app-quiz"]],features:[he([],[Il({lucideCirclePlay:Lx,lucideAlertTriangle:Nx,lucideSkipForward:jx})])],decls:11,vars:9,consts:[[1,"d-flex","flex-column","justify-content-between","h-100"],["role","alert",1,"alert","alert-danger"],[3,"nextSound","index","question"],[1,"d-block","mt-1","ms-1",3,"nextSound","selectAnswer","answered","correctOptionId","options","selectedAnswer"],[3,"newSession","next","previous","verify","answered","finished","index","questionsLength","selectedAnswer"],[1,"d-flex","flex-column"],[3,"answered","question","selectedAnswer"],[1,"d-flex","flex-column","gap-2","small"],[1,"my-3"],[1,"text-muted","d-flex","flex-wrap","row-gap-1","lh-1","overflow-hidden","lang-examples",3,"matTooltip","matTooltipHideDelay","title"],[2,"height","1em","vertical-align","middle","margin-right","0.5rem",3,"alt","src"],[1,"mx-2","text-dark"],[3,"textContent"],[1,"ms-1",3,"textContent"]],template:function(t,r){if(t&1&&(dr(0)(1)(2)(3)(4)(5)(6)(7),V(8,"div",0),Et(9,dj,9,16)(10,hj,2,0,"p",1),j()),t&2){let i=ce(r.openedQuiz$());F();let o=ce(r.index$());F();let s=ce(r.question$());F(),ce(r.examplesByLangs$()),F(),ce(r.selectedAnswer$()),F(),ce(r.answered$()),F(),ce(r.finished$()),F();let a=ce(r.questionsLength$());F(2),It(i!==void 0&&o!==void 0&&s!==void 0&&a!==void 0?9:10)}},dependencies:[Wr,Gr,qr,tr,ms,Ca,F1,V1],styles:[".lang-examples[_ngcontent-%COMP%]{height:1lh}"]})),Qr=Re([Le()],Qr);function uj(n,e){if(n&1){let t=Yt();Un(0,"li",2),nk("click",function(){let i=pt(t).$implicit,o=K();return gt(o.selectQuiz(i))}),Un(1,"h2"),Z(2),cr(),Un(3,"p"),Z(4),cr()()}if(n&2){let t=e.$implicit;F(2),Ie(t.name),F(2),Ie(t.description)}}var Kr=class{_quizzes$=tn(f(je).quizzes$);get quizzes$(){return this._quizzes$}quizService=f(je);selectQuiz(e){this.quizService.openQuiz(e.id)}};ee(Kr,"\u0275fac",function(t){return new(t||Kr)}),ee(Kr,"\u0275cmp",rt({type:Kr,selectors:[["app-quizzes-home"]],decls:8,vars:0,consts:[[1,"quizzes-home-container"],[1,"quizzes-list"],[3,"click"]],template:function(t,r){t&1&&(Un(0,"div",0)(1,"header")(2,"h1"),Z(3,"Available Quizzes"),cr()(),Un(4,"section",1)(5,"ul"),dn(6,uj,5,2,"li",null,Ir),cr()()()),t&2&&(F(6),hn(r.quizzes$()))},styles:[".quizzes-home-container[_ngcontent-%COMP%]{margin:0 auto;max-width:800px;padding:20px;text-align:center}header[_ngcontent-%COMP%]{margin-bottom:20px}.quizzes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.quizzes-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;cursor:pointer;margin-bottom:20px;padding:10px}.quizzes-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.user-statistics[_ngcontent-%COMP%]{margin-top:20px}.user-statistics[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}"]})),Kr=Re([Le()],Kr);var CI=[{pathMatch:"full",path:"",component:Kr},{path:"login",component:zr},{path:"quiz/:id",component:Qr},{path:"quiz-home/:id",component:$r}];var Z1=class extends bl{shouldReuseRoute(){return!1}};function EI(){}function II(){let n=f(om),e=f(Zd);if(!n.isEnabled){console.warn("Service worker is not enabled.");return}n.versionUpdates.subscribe({next:t=>{t.type==="VERSION_READY"&&(console.info("Service worker fetched a new version, activating."),n.activateUpdate().then(()=>{e.open("New version available","Reload").onAction().subscribe(()=>{typeof window<"u"&&window.location.reload()})},r=>console.error("Failed to activate service worker update",r)))},error:t=>console.error("Service worker version stream failed",t)})}function SI(){return lt(e=>e.payload.routerState.path)}var X1=class n{actions$=f(Y3);router=f(Wn);quizService=f(je);phonemeSoundsService=f(fs);cloudSyncService=f(Nc);firebaseAuth=f(Vc);loadState$=Fo(()=>this.actions$.pipe(Li(g0),be(()=>{try{this.firebaseAuth.init()}catch{}})),{dispatch:!1});createQuizSession$=Fo(()=>this.actions$.pipe(Li(Ut.createQuizSession),ln(({quiz:e})=>iw(this.phonemeSoundsService).then(t=>({questions:t,quizId:e.id}))),ln(({questions:e,quizId:t})=>{let r=new Date;return[Ut.addSession({session:{creationDate:r.toISOString(),currentQuestionIndex:0,id:`session-${r.getTime()}`,questions:Object.fromEntries(e.map(i=>[i.index,i])),quizId:t}}),Ut.openSession({quizId:t,sessionId:"session-"+r.getTime()})]})));goToNewSession$=Fo(()=>this.actions$.pipe(Li(Ut.goToNewSession),Ii(this.quizService.openedQuiz$.pipe($t(e=>e!==void 0))),ln(([,e])=>iw(this.phonemeSoundsService).then(t=>({questions:t,quizId:e.id}))),ln(({questions:e,quizId:t})=>{let r=new Date;return[Ut.addSession({session:{creationDate:r.toISOString(),currentQuestionIndex:0,id:`session-${r.getTime()}`,questions:Object.fromEntries(e.map(i=>[i.index,i])),quizId:t}}),Ut.openSession({quizId:t,sessionId:"session-"+r.getTime()})]})));cloudSync$=Fo(()=>this.actions$.pipe(Li(g0),zu(()=>this.quizService.state$.pipe($t(e=>e!==void 0),ni(3e3),ln(e=>this.cloudSyncService.sync(e))))),{dispatch:!1});openQuiz$=Fo(()=>this.actions$.pipe(Li(Ut.openQuiz),wo(({quizId:e})=>this.router.navigate(["/quiz-home/"+e]))),{dispatch:!1});practiceOpened$=Fo(()=>this.actions$.pipe(Li(Ut.practiceOpened),Ii(Is({currentSession:this.quizService.currentSession$,notFinished:this.quizService.openedQuiz$.pipe($t(e=>e!==void 0),lt(e=>Object.values(e.sessions).find(t=>Object.values(t.questions).some(r=>!r.answered))))})),$t(([,{currentSession:e,notFinished:t}])=>e===void 0||t!==void 0),lt(([,{notFinished:e}])=>e===void 0?Ut.goToNewSession():Ut.openSession({quizId:e.quizId,sessionId:e.id}))));goBack$=Fo(()=>this.actions$.pipe(Li(Ut.goBack),Ii(this.actions$.pipe(Li(mI),SI())),wo(()=>this.router.navigate([""]))),{dispatch:!1});static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var pj="\u27F3",gj="\u{1F5CE}",fj=(n,e,t)=>i=>[`%c${pj} %c${n} %c${i} ${new Date().toISOString()}`,"color: #A829C3; font-weight: bold",`color: ${e}; font-weight: bold`,`color: ${t}; font-weight: bold`],mj=(n,e,t)=>r=>(i,o)=>{let s=e(r,i,o);return n.groupCollapsed(...t(o.type)),n.log("%c prev state","color: #9E9E9E; font-weight: bold",i),n.log("%c action","color: #03A9F4; font-weight: bold",o),n.log("%c next state","color: #4CAF50; font-weight: bold",s),n.groupEnd(),s},vj=n=>{let e=mj(n,(t,r,i)=>t(r,i),fj(gj,"#808080","#A829C3"));return t=>(r,i)=>e(t)(r,i)},AI=()=>({multi:!0,provide:Bl,useFactory:()=>vj(console)});var J1=class extends Vl{serialize(e){let t=super.serialize(e),r=t.root.firstChild?.routeConfig?.path;return it(I({},t),{path:r})}};var TI={providers:[gk(),l3(),O4(l0),V4(),qf(CI,Gf()),ri(EI),ri(II),h3("ngsw-worker.js",{enabled:!Sr(),registrationStrategy:"registerWhenStable:30000"}),{provide:Wp,useClass:Z1},q3({[Cm]:r5},{runtimeChecks:{strictActionSerializability:!1,strictActionTypeUniqueness:!0,strictActionWithinNgZone:!1,strictStateSerializability:!1}}),$3(nn),AI(),X3(X1),o5({serializer:J1,stateKey:"router2",routerState:rh.Full})]};Sr()&&(window.__ANGULAR_DEBUG__=!0);Zg(Kp,TI).catch(n=>console.error(n));
