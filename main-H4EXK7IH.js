import{$ as ke,$a as Ln,$b as X4,A as C4,Aa as ve,Ab as Ya,Ac as sk,B as Mi,Ba as B4,Bb as K4,Bc as ak,C as fo,Ca as wg,Cb as Cg,Cc as ni,D as Ut,Da as Tn,Db as Y4,Dc as ko,E as ug,Ea as ue,Eb as ar,Ec as lk,F as Ms,Fa as _g,Fb as Z4,Fc as $u,G as mo,Ga as hn,Gb as Jt,Gc as ck,H as Jr,Ha as un,Hb as Ot,Hc as dk,I as Ke,Ia as yg,Ib as Bt,Ic as hk,J as E4,Ja as vt,Jb as Er,Jc as Yt,K as I4,Ka as nd,Kb as Eg,Kc as Ai,L as ed,La as N4,Lb as gn,Lc as dr,M as Lu,Ma as Es,Mb as fn,Mc as Zt,N as Ua,Na as V4,Nb as it,Nc as ad,O as vo,Oa as yo,Ob as B,Oc as uk,P as pg,Pa as Ga,Pb as V,Pc as Ir,Q as gg,Qa as rd,Qb as bt,Qc as Re,R as S4,Ra as ju,Rb as jn,Rc as pk,S as fg,Sa as Wa,Sb as lr,Sc as gk,T as A4,Ta as Qa,Tb as ti,Tc as It,U as mg,Ua as F4,Ub as Za,Uc as ri,V as T4,Va as L4,Vb as Xa,Vc as fk,W as vg,Wa as j4,Wb as Wt,Wc as qu,X as $a,Xa as z4,Xb as Ja,Xc as mk,Y as Mr,Ya as H4,Yb as Ig,Z as De,Za as U4,Zb as od,_ as re,_a as $4,_b as ut,a as I,aa as Ci,ab as zu,ac as Z,b as ot,ba as pt,bb as q4,bc as be,c as Jc,ca as Cs,cb as j,cc as Qt,d as VI,da as wo,db as Ka,dc as Ii,e as FI,ea as z,eb as G4,ec as kn,f as ir,fa as mt,fb as Hu,fc as Rt,g as Qe,ga as D4,gb as kg,gc as Pt,h as Le,ha as L,hb as je,hc as J4,i as k4,ia as Y,ib as sr,ic as tk,j as he,ja as f,jb as on,jc as Sg,k as nt,ka as dn,kb as ae,kc as ei,l as Ce,la as Ei,lb as Gt,lc as sd,m as b4,ma as R4,mb as bg,mc as Et,n as Fn,na as _n,nb as Dn,nc as Si,o as x4,oa as yn,ob as Uu,oc as Q,p as or,pa as gt,pb as W4,pc as Ee,q as _t,qa as ft,qb as xg,qc as zn,r as Bu,ra as Tt,rb as rt,rc as ek,s as Ha,sa as yt,sb as wt,sc as cr,t as M4,ta as _o,tb as st,tc as we,u as lt,ua as P4,ub as id,uc as Kt,v as td,va as jt,vb as pe,vc as nk,w as rn,wa as ct,wb as pn,wc as rk,x as Nu,xa as Cr,xb as Q4,xc as ce,y as Vu,ya as qa,yb as Mg,yc as ik,z as Fu,za as O4,zb as Is,zc as ok}from"./chunk-CMOYG7A5.js";var Nx=VI((BQ,o0)=>{"use strict";(function(n,e,t,r){"use strict";var i=["","webkit","Moz","MS","ms","o"],o=e.createElement("div"),s="function",a=Math.round,c=Math.abs,d=Date.now;function u(m,_,b){return setTimeout(q(m,b),_)}function g(m,_,b){return Array.isArray(m)?(w(m,b[_],b),!0):!1}function w(m,_,b){var P;if(m)if(m.forEach)m.forEach(_,b);else if(m.length!==r)for(P=0;P<m.length;)_.call(b,m[P],P,m),P++;else for(P in m)m.hasOwnProperty(P)&&_.call(b,m[P],P,m)}function k(m,_,b){var P="DEPRECATED METHOD: "+_+`
`+b+` AT 
`;return function(){var $=new Error("get-stack-trace"),X=$&&$.stack?$.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Nt=n.console&&(n.console.warn||n.console.log);return Nt&&Nt.call(n.console,P,X),m.apply(this,arguments)}}var D;typeof Object.assign!="function"?D=function(_){if(_===r||_===null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(_),P=1;P<arguments.length;P++){var $=arguments[P];if($!==r&&$!==null)for(var X in $)$.hasOwnProperty(X)&&(b[X]=$[X])}return b}:D=Object.assign;var F=k(function(_,b,P){for(var $=Object.keys(b),X=0;X<$.length;)(!P||P&&_[$[X]]===r)&&(_[$[X]]=b[$[X]]),X++;return _},"extend","Use `assign`."),T=k(function(_,b){return F(_,b,!0)},"merge","Use `assign`.");function U(m,_,b){var P=_.prototype,$;$=m.prototype=Object.create(P),$.constructor=m,$._super=P,b&&D($,b)}function q(m,_){return function(){return m.apply(_,arguments)}}function W(m,_){return typeof m==s?m.apply(_&&_[0]||r,_):m}function dt(m,_){return m===r?_:m}function Ct(m,_,b){w(M(_),function(P){m.addEventListener(P,b,!1)})}function Mt(m,_,b){w(M(_),function(P){m.removeEventListener(P,b,!1)})}function C(m,_){for(;m;){if(m==_)return!0;m=m.parentNode}return!1}function y(m,_){return m.indexOf(_)>-1}function M(m){return m.trim().split(/\s+/g)}function S(m,_,b){if(m.indexOf&&!b)return m.indexOf(_);for(var P=0;P<m.length;){if(b&&m[P][b]==_||!b&&m[P]===_)return P;P++}return-1}function E(m){return Array.prototype.slice.call(m,0)}function R(m,_,b){for(var P=[],$=[],X=0;X<m.length;){var Nt=_?m[X][_]:m[X];S($,Nt)<0&&P.push(m[X]),$[X]=Nt,X++}return b&&(_?P=P.sort(function(Te,Ge){return Te[_]>Ge[_]}):P=P.sort()),P}function x(m,_){for(var b,P,$=_[0].toUpperCase()+_.slice(1),X=0;X<i.length;){if(b=i[X],P=b?b+$:_,P in m)return P;X++}return r}var cn=1;function Wr(){return cn++}function vu(m){var _=m.ownerDocument||m;return _.defaultView||_.parentWindow||n}var X1=/mobile|tablet|ip(ad|hone|od)|android/i,gs="ontouchstart"in n,xa=x(n,"PointerEvent")!==r,J1=gs&&X1.test(navigator.userAgent),Yi="touch",wu="pen",Ma="mouse",Ca="kinect",Nc=25,Ve=1,br=2,de=4,Je=8,fs=1,ms=2,Zi=4,Xi=8,_i=16,On=ms|Zi,yi=Xi|_i,Ea=On|yi,Ia=["x","y"],Ji=["clientX","clientY"];function ee(m,_){var b=this;this.manager=m,this.callback=_,this.element=m.element,this.target=m.options.inputTarget,this.domHandler=function(P){W(m.options.enable,[m])&&b.handler(P)},this.init()}ee.prototype={handler:function(){},init:function(){this.evEl&&Ct(this.element,this.evEl,this.domHandler),this.evTarget&&Ct(this.target,this.evTarget,this.domHandler),this.evWin&&Ct(vu(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Mt(this.element,this.evEl,this.domHandler),this.evTarget&&Mt(this.target,this.evTarget,this.domHandler),this.evWin&&Mt(vu(this.element),this.evWin,this.domHandler)}};function tn(m){var _,b=m.options.inputClass;return b?_=b:xa?_=Ra:J1?_=Pa:gs?_=Ba:_=er,new _(m,Sa)}function Sa(m,_,b){var P=b.pointers.length,$=b.changedPointers.length,X=_&Ve&&P-$===0,Nt=_&(de|Je)&&P-$===0;b.isFirst=!!X,b.isFinal=!!Nt,X&&(m.session={}),b.eventType=_,tg(m,b),m.emit("hammer.input",b),m.recognize(b),m.session.prevInput=b}function tg(m,_){var b=m.session,P=_.pointers,$=P.length;b.firstInput||(b.firstInput=to(_)),$>1&&!b.firstMultiple?b.firstMultiple=to(_):$===1&&(b.firstMultiple=!1);var X=b.firstInput,Nt=b.firstMultiple,Me=Nt?Nt.center:X.center,Te=_.center=Vc(P);_.timeStamp=d(),_.deltaTime=_.timeStamp-X.timeStamp,_.angle=Lc(Me,Te),_.distance=Ta(Me,Te),_u(b,_),_.offsetDirection=Aa(_.deltaX,_.deltaY);var Ge=Fc(_.deltaTime,_.deltaX,_.deltaY);_.overallVelocityX=Ge.x,_.overallVelocityY=Ge.y,_.overallVelocity=c(Ge.x)>c(Ge.y)?Ge.x:Ge.y,_.scale=Nt?ku(Nt.pointers,P):1,_.rotation=Nt?yu(Nt.pointers,P):0,_.maxPointers=b.prevInput?_.pointers.length>b.prevInput.maxPointers?_.pointers.length:b.prevInput.maxPointers:_.pointers.length,eg(b,_);var nn=m.element;C(_.srcEvent.target,nn)&&(nn=_.srcEvent.target),_.target=nn}function _u(m,_){var b=_.center,P=m.offsetDelta||{},$=m.prevDelta||{},X=m.prevInput||{};(_.eventType===Ve||X.eventType===de)&&($=m.prevDelta={x:X.deltaX||0,y:X.deltaY||0},P=m.offsetDelta={x:b.x,y:b.y}),_.deltaX=$.x+(b.x-P.x),_.deltaY=$.y+(b.y-P.y)}function eg(m,_){var b=m.lastInterval||_,P=_.timeStamp-b.timeStamp,$,X,Nt,Me;if(_.eventType!=Je&&(P>Nc||b.velocity===r)){var Te=_.deltaX-b.deltaX,Ge=_.deltaY-b.deltaY,nn=Fc(P,Te,Ge);X=nn.x,Nt=nn.y,$=c(nn.x)>c(nn.y)?nn.x:nn.y,Me=Aa(Te,Ge),m.lastInterval=_}else $=b.velocity,X=b.velocityX,Nt=b.velocityY,Me=b.direction;_.velocity=$,_.velocityX=X,_.velocityY=Nt,_.direction=Me}function to(m){for(var _=[],b=0;b<m.pointers.length;)_[b]={clientX:a(m.pointers[b].clientX),clientY:a(m.pointers[b].clientY)},b++;return{timeStamp:d(),pointers:_,center:Vc(_),deltaX:m.deltaX,deltaY:m.deltaY}}function Vc(m){var _=m.length;if(_===1)return{x:a(m[0].clientX),y:a(m[0].clientY)};for(var b=0,P=0,$=0;$<_;)b+=m[$].clientX,P+=m[$].clientY,$++;return{x:a(b/_),y:a(P/_)}}function Fc(m,_,b){return{x:_/m||0,y:b/m||0}}function Aa(m,_){return m===_?fs:c(m)>=c(_)?m<0?ms:Zi:_<0?Xi:_i}function Ta(m,_,b){b||(b=Ia);var P=_[b[0]]-m[b[0]],$=_[b[1]]-m[b[1]];return Math.sqrt(P*P+$*$)}function Lc(m,_,b){b||(b=Ia);var P=_[b[0]]-m[b[0]],$=_[b[1]]-m[b[1]];return Math.atan2($,P)*180/Math.PI}function yu(m,_){return Lc(_[1],_[0],Ji)+Lc(m[1],m[0],Ji)}function ku(m,_){return Ta(_[0],_[1],Ji)/Ta(m[0],m[1],Ji)}var vs={mousedown:Ve,mousemove:br,mouseup:de},jc="mousedown",zc="mousemove mouseup";function er(){this.evEl=jc,this.evWin=zc,this.pressed=!1,ee.apply(this,arguments)}U(er,ee,{handler:function(_){var b=vs[_.type];b&Ve&&_.button===0&&(this.pressed=!0),b&br&&_.which!==1&&(b=de),this.pressed&&(b&de&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[_],changedPointers:[_],pointerType:Ma,srcEvent:_}))}});var bu={pointerdown:Ve,pointermove:br,pointerup:de,pointercancel:Je,pointerout:Je},Da={2:Yi,3:wu,4:Ma,5:Ca},Hc="pointerdown",eo="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(Hc="MSPointerDown",eo="MSPointerMove MSPointerUp MSPointerCancel");function Ra(){this.evEl=Hc,this.evWin=eo,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}U(Ra,ee,{handler:function(_){var b=this.store,P=!1,$=_.type.toLowerCase().replace("ms",""),X=bu[$],Nt=Da[_.pointerType]||_.pointerType,Me=Nt==Yi,Te=S(b,_.pointerId,"pointerId");X&Ve&&(_.button===0||Me)?Te<0&&(b.push(_),Te=b.length-1):X&(de|Je)&&(P=!0),!(Te<0)&&(b[Te]=_,this.callback(this.manager,X,{pointers:b,changedPointers:[_],pointerType:Nt,srcEvent:_}),P&&b.splice(Te,1))}});var en={touchstart:Ve,touchmove:br,touchend:de,touchcancel:Je},xu="touchstart",ws="touchstart touchmove touchend touchcancel";function no(){this.evTarget=xu,this.evWin=ws,this.started=!1,ee.apply(this,arguments)}U(no,ee,{handler:function(_){var b=en[_.type];if(b===Ve&&(this.started=!0),!!this.started){var P=ng.call(this,_,b);b&(de|Je)&&P[0].length-P[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:P[0],changedPointers:P[1],pointerType:Yi,srcEvent:_})}}});function ng(m,_){var b=E(m.touches),P=E(m.changedTouches);return _&(de|Je)&&(b=R(b.concat(P),"identifier",!0)),[b,P]}var rg={touchstart:Ve,touchmove:br,touchend:de,touchcancel:Je},ro="touchstart touchmove touchend touchcancel";function Pa(){this.evTarget=ro,this.targetIds={},ee.apply(this,arguments)}U(Pa,ee,{handler:function(_){var b=rg[_.type],P=ig.call(this,_,b);P&&this.callback(this.manager,b,{pointers:P[0],changedPointers:P[1],pointerType:Yi,srcEvent:_})}});function ig(m,_){var b=E(m.touches),P=this.targetIds;if(_&(Ve|br)&&b.length===1)return P[b[0].identifier]=!0,[b,b];var $,X,Nt=E(m.changedTouches),Me=[],Te=this.target;if(X=b.filter(function(Ge){return C(Ge.target,Te)}),_===Ve)for($=0;$<X.length;)P[X[$].identifier]=!0,$++;for($=0;$<Nt.length;)P[Nt[$].identifier]&&Me.push(Nt[$]),_&(de|Je)&&delete P[Nt[$].identifier],$++;if(Me.length)return[R(X.concat(Me),"identifier",!0),Me]}var Oa=2500,Uc=25;function Ba(){ee.apply(this,arguments);var m=q(this.handler,this);this.touch=new Pa(this.manager,m),this.mouse=new er(this.manager,m),this.primaryTouch=null,this.lastTouches=[]}U(Ba,ee,{handler:function(_,b,P){var $=P.pointerType==Yi,X=P.pointerType==Ma;if(!(X&&P.sourceCapabilities&&P.sourceCapabilities.firesTouchEvents)){if($)$c.call(this,b,P);else if(X&&og.call(this,P))return;this.callback(_,b,P)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function $c(m,_){m&Ve?(this.primaryTouch=_.changedPointers[0].identifier,io.call(this,_)):m&(de|Je)&&io.call(this,_)}function io(m){var _=m.changedPointers[0];if(_.identifier===this.primaryTouch){var b={x:_.clientX,y:_.clientY};this.lastTouches.push(b);var P=this.lastTouches,$=function(){var X=P.indexOf(b);X>-1&&P.splice(X,1)};setTimeout($,Oa)}}function og(m){for(var _=m.srcEvent.clientX,b=m.srcEvent.clientY,P=0;P<this.lastTouches.length;P++){var $=this.lastTouches[P],X=Math.abs(_-$.x),Nt=Math.abs(b-$.y);if(X<=Uc&&Nt<=Uc)return!0}return!1}var xr=x(o.style,"touchAction"),qc=xr!==r,Gc="compute",Na="auto",_s="manipulation",Qr="none",ys="pan-x",oo="pan-y",Va=Wc();function so(m,_){this.manager=m,this.set(_)}so.prototype={set:function(m){m==Gc&&(m=this.compute()),qc&&this.manager.element.style&&Va[m]&&(this.manager.element.style[xr]=m),this.actions=m.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var m=[];return w(this.manager.recognizers,function(_){W(_.options.enable,[_])&&(m=m.concat(_.getTouchAction()))}),Mu(m.join(" "))},preventDefaults:function(m){var _=m.srcEvent,b=m.offsetDirection;if(this.manager.session.prevented){_.preventDefault();return}var P=this.actions,$=y(P,Qr)&&!Va[Qr],X=y(P,oo)&&!Va[oo],Nt=y(P,ys)&&!Va[ys];if($){var Me=m.pointers.length===1,Te=m.distance<2,Ge=m.deltaTime<250;if(Me&&Te&&Ge)return}if(!(Nt&&X)&&($||X&&b&On||Nt&&b&yi))return this.preventSrc(_)},preventSrc:function(m){this.manager.session.prevented=!0,m.preventDefault()}};function Mu(m){if(y(m,Qr))return Qr;var _=y(m,ys),b=y(m,oo);return _&&b?Qr:_||b?_?ys:oo:y(m,_s)?_s:Na}function Wc(){if(!qc)return!1;var m={},_=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(b){m[b]=_?n.CSS.supports("touch-action",b):!0}),m}var Kr=1,Ae=2,Yr=4,Zr=8,nr=Zr,ao=16,Bn=32;function Nn(m){this.options=D({},this.defaults,m||{}),this.id=Wr(),this.manager=null,this.options.enable=dt(this.options.enable,!0),this.state=Kr,this.simultaneous={},this.requireFail=[]}Nn.prototype={defaults:{},set:function(m){return D(this.options,m),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(m){if(g(m,"recognizeWith",this))return this;var _=this.simultaneous;return m=ks(m,this),_[m.id]||(_[m.id]=m,m.recognizeWith(this)),this},dropRecognizeWith:function(m){return g(m,"dropRecognizeWith",this)?this:(m=ks(m,this),delete this.simultaneous[m.id],this)},requireFailure:function(m){if(g(m,"requireFailure",this))return this;var _=this.requireFail;return m=ks(m,this),S(_,m)===-1&&(_.push(m),m.requireFailure(this)),this},dropRequireFailure:function(m){if(g(m,"dropRequireFailure",this))return this;m=ks(m,this);var _=S(this.requireFail,m);return _>-1&&this.requireFail.splice(_,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(m){return!!this.simultaneous[m.id]},emit:function(m){var _=this,b=this.state;function P($){_.manager.emit($,m)}b<Zr&&P(_.options.event+Fa(b)),P(_.options.event),m.additionalEvent&&P(m.additionalEvent),b>=Zr&&P(_.options.event+Fa(b))},tryEmit:function(m){if(this.canEmit())return this.emit(m);this.state=Bn},canEmit:function(){for(var m=0;m<this.requireFail.length;){if(!(this.requireFail[m].state&(Bn|Kr)))return!1;m++}return!0},recognize:function(m){var _=D({},m);if(!W(this.options.enable,[this,_])){this.reset(),this.state=Bn;return}this.state&(nr|ao|Bn)&&(this.state=Kr),this.state=this.process(_),this.state&(Ae|Yr|Zr|ao)&&this.tryEmit(_)},process:function(m){},getTouchAction:function(){},reset:function(){}};function Fa(m){return m&ao?"cancel":m&Zr?"end":m&Yr?"move":m&Ae?"start":""}function Qc(m){return m==_i?"down":m==Xi?"up":m==ms?"left":m==Zi?"right":""}function ks(m,_){var b=_.manager;return b?b.get(m):m}function Sn(){Nn.apply(this,arguments)}U(Sn,Nn,{defaults:{pointers:1},attrTest:function(m){var _=this.options.pointers;return _===0||m.pointers.length===_},process:function(m){var _=this.state,b=m.eventType,P=_&(Ae|Yr),$=this.attrTest(m);return P&&(b&Je||!$)?_|ao:P||$?b&de?_|Zr:_&Ae?_|Yr:Ae:Bn}});function La(){Sn.apply(this,arguments),this.pX=null,this.pY=null}U(La,Sn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ea},getTouchAction:function(){var m=this.options.direction,_=[];return m&On&&_.push(oo),m&yi&&_.push(ys),_},directionTest:function(m){var _=this.options,b=!0,P=m.distance,$=m.direction,X=m.deltaX,Nt=m.deltaY;return $&_.direction||(_.direction&On?($=X===0?fs:X<0?ms:Zi,b=X!=this.pX,P=Math.abs(m.deltaX)):($=Nt===0?fs:Nt<0?Xi:_i,b=Nt!=this.pY,P=Math.abs(m.deltaY))),m.direction=$,b&&P>_.threshold&&$&_.direction},attrTest:function(m){return Sn.prototype.attrTest.call(this,m)&&(this.state&Ae||!(this.state&Ae)&&this.directionTest(m))},emit:function(m){this.pX=m.deltaX,this.pY=m.deltaY;var _=Qc(m.direction);_&&(m.additionalEvent=this.options.event+_),this._super.emit.call(this,m)}});function rr(){Sn.apply(this,arguments)}U(rr,Sn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Qr]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.scale-1)>this.options.threshold||this.state&Ae)},emit:function(m){if(m.scale!==1){var _=m.scale<1?"in":"out";m.additionalEvent=this.options.event+_}this._super.emit.call(this,m)}});function An(){Nn.apply(this,arguments),this._timer=null,this._input=null}U(An,Nn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Na]},process:function(m){var _=this.options,b=m.pointers.length===_.pointers,P=m.distance<_.threshold,$=m.deltaTime>_.time;if(this._input=m,!P||!b||m.eventType&(de|Je)&&!$)this.reset();else if(m.eventType&Ve)this.reset(),this._timer=u(function(){this.state=nr,this.tryEmit()},_.time,this);else if(m.eventType&de)return nr;return Bn},reset:function(){clearTimeout(this._timer)},emit:function(m){this.state===nr&&(m&&m.eventType&de?this.manager.emit(this.options.event+"up",m):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}});function ki(){Sn.apply(this,arguments)}U(ki,Sn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Qr]},attrTest:function(m){return this._super.attrTest.call(this,m)&&(Math.abs(m.rotation)>this.options.threshold||this.state&Ae)}});function bi(){Sn.apply(this,arguments)}U(bi,Sn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:On|yi,pointers:1},getTouchAction:function(){return La.prototype.getTouchAction.call(this)},attrTest:function(m){var _=this.options.direction,b;return _&(On|yi)?b=m.overallVelocity:_&On?b=m.overallVelocityX:_&yi&&(b=m.overallVelocityY),this._super.attrTest.call(this,m)&&_&m.offsetDirection&&m.distance>this.options.threshold&&m.maxPointers==this.options.pointers&&c(b)>this.options.velocity&&m.eventType&de},emit:function(m){var _=Qc(m.offsetDirection);_&&this.manager.emit(this.options.event+_,m),this.manager.emit(this.options.event,m)}});function lo(){Nn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}U(lo,Nn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_s]},process:function(m){var _=this.options,b=m.pointers.length===_.pointers,P=m.distance<_.threshold,$=m.deltaTime<_.time;if(this.reset(),m.eventType&Ve&&this.count===0)return this.failTimeout();if(P&&$&&b){if(m.eventType!=de)return this.failTimeout();var X=this.pTime?m.timeStamp-this.pTime<_.interval:!0,Nt=!this.pCenter||Ta(this.pCenter,m.center)<_.posThreshold;this.pTime=m.timeStamp,this.pCenter=m.center,!Nt||!X?this.count=1:this.count+=1,this._input=m;var Me=this.count%_.taps;if(Me===0)return this.hasRequireFailures()?(this._timer=u(function(){this.state=nr,this.tryEmit()},_.interval,this),Ae):nr}return Bn},failTimeout:function(){return this._timer=u(function(){this.state=Bn},this.options.interval,this),Bn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==nr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Ht(m,_){return _=_||{},_.recognizers=dt(_.recognizers,Ht.defaults.preset),new xi(m,_)}Ht.VERSION="2.0.7",Ht.defaults={domEvents:!1,touchAction:Gc,enable:!0,inputTarget:null,inputClass:null,preset:[[ki,{enable:!1}],[rr,{enable:!1},["rotate"]],[bi,{direction:On}],[La,{direction:On},["swipe"]],[lo],[lo,{event:"doubletap",taps:2},["tap"]],[An]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ja=1,co=2;function xi(m,_){this.options=D({},Ht.defaults,_||{}),this.options.inputTarget=this.options.inputTarget||m,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=m,this.input=tn(this),this.touchAction=new so(this,this.options.touchAction),Cu(this,!0),w(this.options.recognizers,function(b){var P=this.add(new b[0](b[1]));b[2]&&P.recognizeWith(b[2]),b[3]&&P.requireFailure(b[3])},this)}xi.prototype={set:function(m){return D(this.options,m),m.touchAction&&this.touchAction.update(),m.inputTarget&&(this.input.destroy(),this.input.target=m.inputTarget,this.input.init()),this},stop:function(m){this.session.stopped=m?co:ja},recognize:function(m){var _=this.session;if(!_.stopped){this.touchAction.preventDefaults(m);var b,P=this.recognizers,$=_.curRecognizer;(!$||$&&$.state&nr)&&($=_.curRecognizer=null);for(var X=0;X<P.length;)b=P[X],_.stopped!==co&&(!$||b==$||b.canRecognizeWith($))?b.recognize(m):b.reset(),!$&&b.state&(Ae|Yr|Zr)&&($=_.curRecognizer=b),X++}},get:function(m){if(m instanceof Nn)return m;for(var _=this.recognizers,b=0;b<_.length;b++)if(_[b].options.event==m)return _[b];return null},add:function(m){if(g(m,"add",this))return this;var _=this.get(m.options.event);return _&&this.remove(_),this.recognizers.push(m),m.manager=this,this.touchAction.update(),m},remove:function(m){if(g(m,"remove",this))return this;if(m=this.get(m),m){var _=this.recognizers,b=S(_,m);b!==-1&&(_.splice(b,1),this.touchAction.update())}return this},on:function(m,_){if(m!==r&&_!==r){var b=this.handlers;return w(M(m),function(P){b[P]=b[P]||[],b[P].push(_)}),this}},off:function(m,_){if(m!==r){var b=this.handlers;return w(M(m),function(P){_?b[P]&&b[P].splice(S(b[P],_),1):delete b[P]}),this}},emit:function(m,_){this.options.domEvents&&Eu(m,_);var b=this.handlers[m]&&this.handlers[m].slice();if(!(!b||!b.length)){_.type=m,_.preventDefault=function(){_.srcEvent.preventDefault()};for(var P=0;P<b.length;)b[P](_),P++}},destroy:function(){this.element&&Cu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Cu(m,_){var b=m.element;if(b.style){var P;w(m.options.cssProps,function($,X){P=x(b.style,X),_?(m.oldCssProps[P]=b.style[P],b.style[P]=$):b.style[P]=m.oldCssProps[P]||""}),_||(m.oldCssProps={})}}function Eu(m,_){var b=e.createEvent("Event");b.initEvent(m,!0,!0),b.gesture=_,_.target.dispatchEvent(b)}D(Ht,{INPUT_START:Ve,INPUT_MOVE:br,INPUT_END:de,INPUT_CANCEL:Je,STATE_POSSIBLE:Kr,STATE_BEGAN:Ae,STATE_CHANGED:Yr,STATE_ENDED:Zr,STATE_RECOGNIZED:nr,STATE_CANCELLED:ao,STATE_FAILED:Bn,DIRECTION_NONE:fs,DIRECTION_LEFT:ms,DIRECTION_RIGHT:Zi,DIRECTION_UP:Xi,DIRECTION_DOWN:_i,DIRECTION_HORIZONTAL:On,DIRECTION_VERTICAL:yi,DIRECTION_ALL:Ea,Manager:xi,Input:ee,TouchAction:so,TouchInput:Pa,MouseInput:er,PointerEventInput:Ra,TouchMouseInput:Ba,SingleTouchInput:no,Recognizer:Nn,AttrRecognizer:Sn,Tap:lo,Pan:La,Swipe:bi,Pinch:rr,Rotate:ki,Press:An,on:Ct,off:Mt,each:w,merge:T,extend:F,assign:D,inherit:U,bindFn:q,prefixed:x});var sg=typeof n<"u"?n:typeof self<"u"?self:{};sg.Hammer=Ht,typeof define=="function"&&define.amd?define(function(){return Ht}):typeof o0<"u"&&o0.exports?o0.exports=Ht:n[t]=Ht})(window,document,"Hammer")});var vk=null;function hr(){return vk}function Ag(n){vk??=n}var ld=class{},Gu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(wk),providedIn:"platform"})}return n})();var wk=(()=>{class n extends Gu{_location;_history;_doc=f(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function kk(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function _k(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function bo(n){return n&&n[0]!=="?"?`?${n}`:n}var tl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(jI),providedIn:"root"})}return n})(),LI=new L(""),jI=(()=>{class n extends tl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??f(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kk(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+bo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+bo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+bo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(Gu),Y(LI,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ii=(()=>{class n{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=UI(_k(yk(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+bo(r))}normalize(t){return n.stripTrailingSlash(HI(this._basePath,yk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=bo;static joinWithSlash=kk;static stripTrailingSlash=_k;static \u0275fac=function(r){return new(r||n)(Y(tl))};static \u0275prov=z({token:n,factory:()=>zI(),providedIn:"root"})}return n})();function zI(){return new ii(Y(tl))}function HI(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function yk(n){return n.replace(/\/index.html$/,"")}function UI(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Bg=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Bg||{});var Sr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ss(n,e){let t=Ig(n),r=t[od.NumberSymbols][e];if(typeof r>"u"){if(e===Sr.CurrencyDecimal)return t[od.NumberSymbols][Sr.Decimal];if(e===Sr.CurrencyGroup)return t[od.NumberSymbols][Sr.Group]}return r}function Ek(n,e){return Ig(n)[od.NumberFormats][e]}var qI=/^(\d+)?\.((\d+)(-(\d+))?)?$/,bk=22,Wu=".",cd="0",GI=";",WI=",",Tg="#";var QI="%";function KI(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Ss(t,Sr.Infinity);else{let d=XI(n);s&&(d=ZI(d));let u=e.minInt,g=e.minFrac,w=e.maxFrac;if(o){let q=o.match(qI);if(q===null)throw new pt(2306,!1);let W=q[1],dt=q[3],Ct=q[5];W!=null&&(u=Dg(W)),dt!=null&&(g=Dg(dt)),Ct!=null?w=Dg(Ct):dt!=null&&g>w&&(w=g)}JI(d,g,w);let k=d.digits,D=d.integerLen,F=d.exponent,T=[];for(c=k.every(q=>!q);D<u;D++)k.unshift(0);for(;D<0;D++)k.unshift(0);D>0?T=k.splice(D,k.length):(T=k,k=[0]);let U=[];for(k.length>=e.lgSize&&U.unshift(k.splice(-e.lgSize,k.length).join(""));k.length>e.gSize;)U.unshift(k.splice(-e.gSize,k.length).join(""));k.length&&U.unshift(k.join("")),a=U.join(Ss(t,r)),T.length&&(a+=Ss(t,i)+T.join("")),F&&(a+=Ss(t,Sr.Exponential)+"+"+F)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Ik(n,e,t){let r=Ek(e,Bg.Percent),i=YI(r,Ss(e,Sr.MinusSign));return KI(n,i,e,Sr.Group,Sr.Decimal,t,!0).replace(new RegExp(QI,"g"),Ss(e,Sr.PercentSign))}function YI(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(GI),i=r[0],o=r[1],s=i.indexOf(Wu)!==-1?i.split(Wu):[i.substring(0,i.lastIndexOf(cd)+1),i.substring(i.lastIndexOf(cd)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Tg));for(let u=0;u<c.length;u++){let g=c.charAt(u);g===cd?t.minFrac=t.maxFrac=u+1:g===Tg?t.maxFrac=u+1:t.posSuf+=g}let d=a.split(WI);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,g=o.indexOf(Tg);t.negPre=o.substring(0,g).replace(/'/g,""),t.negSuf=o.slice(g+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function ZI(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function XI(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Wu))>-1&&(e=e.replace(Wu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===cd;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===cd;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>bk&&(r=r.splice(0,bk-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function JI(n,e,t){if(e>t)throw new pt(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let g=s;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let g=1;g<s;g++)r[g]=0}if(a>=5)if(s-1<0){for(let g=0;g>s;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,d=e+n.integerLen,u=r.reduceRight(function(g,w,k,D){return w=w+g,D[k]=w<10?w:w-10,c&&(D[k]===0&&k>=d?D.pop():c=!1),w>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function Dg(n){let e=parseInt(n);if(isNaN(e))throw new pt(2305,!1);return e}var Rg=/\s+/,xk=[],As=(()=>{class n{_ngEl;_renderer;initialClasses=xk;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Rg):xk}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Rg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Rg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Gt(vt),Gt(ae))};static \u0275dir=st({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ng=(()=>{class n{_viewContainer;_context=new Qu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Mk(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Mk(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Gt(Dn),Gt(sr))};static \u0275dir=st({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Qu=class{$implicit=null;ngIf=null};function Mk(n,e){if(n&&!n.createEmbeddedView)throw new pt(2020,!1)}var Vg=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Gt(Dn))};static \u0275dir=st({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[hn]})}return n})();function Fg(n,e){return new pt(2100,!1)}var Pg=class{createSubscription(e,t,r){return ue(()=>e.subscribe({next:t,error:r}))}dispose(e){ue(()=>e.unsubscribe())}},Og=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},tS=new Og,eS=new Pg,Lg=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=f(qa);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Ya(t))return tS;if(K4(t))return eS;throw Fg(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Gt(Re,16))};static \u0275pipe=id({name:"async",type:n,pure:!1})}return n})(),jg=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw Fg(n,t);return t.toLowerCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=id({name:"lowercase",type:n,pure:!0})}return n})();function nS(n,e){return{key:n,value:e}}var dd=(()=>{class n{differs;constructor(t){this.differs=t}differ;keyValues=[];compareFn=Ck;transform(t,r=Ck){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(nS(s.key,s.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||n)(Gt(pk,16))};static \u0275pipe=id({name:"keyvalue",type:n,pure:!1})}return n})();function Ck(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t==null)return 1;if(r==null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),o=String(r);return i==o?0:i<o?-1:1}var zg=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!rS(t))return null;i||=this._locale;try{let o=iS(t);return Ik(o,i,r)}catch(o){throw Fg(n,o.message)}}static \u0275fac=function(r){return new(r||n)(Gt(hk,16))};static \u0275pipe=id({name:"percent",type:n,pure:!0})}return n})();function rS(n){return!(n==null||n===""||n!==n)}function iS(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new pt(2309,!1);return n}var Ku=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({})}return n})();function Yu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ts=class{};var Hg="browser",sS="server";function Sk(n){return n===Hg}function Ak(n){return n===sS}var hd=class{_doc;constructor(e){this._doc=e}manager},Zu=(()=>{class n extends hd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(yt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),tp=new L(""),Gg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Zu));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Zu);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new pt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(tp),Y(ct))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Ug="ng-app-id";function Dk(n){for(let e of n)e.remove()}function Rk(n,e){let t=e.createElement("style");return t.textContent=n,t}function aS(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Ug}="${e}"],link[${Ug}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ug),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function qg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Wg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,aS(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Rk);r?.forEach(i=>this.addUsage(i,this.external,qg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Dk(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Dk(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Rk(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,qg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(yt),Y(Es),Y(rd,8),Y(yo))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),$g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qg=/%COMP%/g;var Ok="%COMP%",lS=`_nghost-${Ok}`,cS=`_ngcontent-${Ok}`,dS=!0,hS=new L("",{factory:()=>dS});function uS(n){return cS.replace(Qg,n)}function pS(n){return lS.replace(Qg,n)}function Bk(n,e){return e.map(t=>t.replace(Qg,n))}var gd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=d,this.defaultRenderer=new ud(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ju?i.applyToHost(t):i instanceof pd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,g=this.tracingService;switch(r.encapsulation){case ju.Emulated:o=new Ju(c,d,r,this.appId,u,s,a,g);break;case ju.ShadowDom:return new Xu(c,t,r,s,a,this.nonce,g,d);case ju.ExperimentalIsolatedShadowDom:return new Xu(c,t,r,s,a,this.nonce,g);default:o=new pd(c,d,r,u,s,a,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(Gg),Y(Wg),Y(Es),Y(hS),Y(yt),Y(ct),Y(rd),Y(Hu,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),ud=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS($g[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Pk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Pk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new pt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=$g[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=$g[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ka.DashCase|Ka.Important)?e.style.setProperty(t,r,i&Ka.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ka.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new pt(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Pk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Xu=class extends ud{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,c){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Bk(r.id,d);for(let g of d){let w=document.createElement("style");s&&w.setAttribute("nonce",s),w.textContent=g,this.shadowRoot.appendChild(w)}let u=r.getExternalStyles?.();if(u)for(let g of u){let w=qg(g,i);s&&w.setAttribute("nonce",s),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},pd=class extends ud{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?Bk(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&G4.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ju=class extends pd{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,d),this.contentAttr=uS(d),this.hostAttr=pS(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ep=class n extends ld{supportsDOMEvents=!0;static makeCurrent(){Ag(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=fS();return t==null?null:mS(t)}resetBaseElement(){fd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yu(document.cookie,e)}},fd=null;function fS(){return fd=fd||document.head.querySelector("base"),fd?fd.getAttribute("href"):null}function mS(n){return new URL(n,document.baseURI).pathname}var vS=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Nk=["alt","control","meta","shift"],wS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_S={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Vk=(()=>{class n extends hd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Nk.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=wS[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Nk.forEach(s=>{if(s!==i){let a=_S[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(yt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Kg(n,e,t){let r=I({rootComponent:n,platformRef:t?.platformRef},yS(e));return gk(r)}function yS(n){return{appProviders:[...CS,...n?.providers??[]],platformProviders:MS}}function kS(){ep.makeCurrent()}function bS(){return new Cr}function xS(){return N4(document),document}var MS=[{provide:yo,useValue:Hg},{provide:V4,useValue:kS,multi:!0},{provide:yt,useFactory:xS}];var CS=[{provide:R4,useValue:"root"},{provide:Cr,useFactory:bS},{provide:tp,useClass:Zu,multi:!0},{provide:tp,useClass:Vk,multi:!0},gd,Wg,Gg,{provide:on,useExisting:gd},{provide:Ts,useClass:vS},[]];var xo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zg=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},Xg=class{encodeKey(e){return Fk(e)}encodeValue(e){return Fk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function ES(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var IS=/%(\d[a-f0-9])/gi,SS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Fk(n){return encodeURIComponent(n).replace(IS,(e,t)=>SS[t]??e)}function np(n){return`${n}`}var Ti=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Xg,e.fromString){if(e.fromObject)throw new pt(2805,!1);this.map=ES(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(np):[np(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(np(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(np(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function AS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Lk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jk(n){return typeof Blob<"u"&&n instanceof Blob}function zk(n){return typeof FormData<"u"&&n instanceof FormData}function TS(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Hk="Content-Type",Uk="Accept",$k="text/plain",qk="application/json",DS=`${qk}, ${$k}, */*`,el=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(AS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new pt(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new xo,this.context??=new Zg,!this.params)this.params=new Ti,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Lk(this.body)||jk(this.body)||zk(this.body)||TS(this.body)?this.body:this.body instanceof Ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zk(this.body)?null:jk(this.body)?this.body.type||null:Lk(this.body)?null:typeof this.body=="string"?$k:this.body instanceof Ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?qk:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,u=e.credentials||this.credentials,g=e.referrer||this.referrer,w=e.integrity||this.integrity,k=e.referrerPolicy||this.referrerPolicy,D=e.transferCache??this.transferCache,F=e.timeout??this.timeout,T=e.body!==void 0?e.body:this.body,U=e.withCredentials??this.withCredentials,q=e.reportProgress??this.reportProgress,W=e.headers||this.headers,dt=e.params||this.params,Ct=e.context??this.context;return e.setHeaders!==void 0&&(W=Object.keys(e.setHeaders).reduce((Mt,C)=>Mt.set(C,e.setHeaders[C]),W)),e.setParams&&(dt=Object.keys(e.setParams).reduce((Mt,C)=>Mt.set(C,e.setParams[C]),dt)),new n(t,r,T,{params:dt,headers:W,context:Ct,reportProgress:q,responseType:i,withCredentials:U,transferCache:D,keepalive:o,cache:a,priority:s,timeout:F,mode:c,redirect:d,credentials:u,referrer:g,integrity:w,referrerPolicy:k})}},Ds=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ds||{}),md=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,r="OK"){this.headers=e.headers||new xo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},Jg=class n extends md{constructor(e={}){super(e)}type=Ds.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vd=class n extends md{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ds.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},nl=class extends md{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},RS=200,PS=204;var OS=/^\)\]\}',?\n/;var BS=(()=>{class n{xhrFactory;tracingService=f(Hu,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new pt(-2800,!1);let r=this.xhrFactory;return _t(null).pipe(De(()=>new he(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,U)=>s.setRequestHeader(T,U.join(","))),t.headers.has(Uk)||s.setRequestHeader(Uk,DS),!t.headers.has(Hk)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(Hk,T)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),c=null,d=()=>{if(c!==null)return c;let T=s.statusText||"OK",U=new xo(s.getAllResponseHeaders()),q=s.responseURL||t.url;return c=new Jg({headers:U,status:s.status,statusText:T,url:q}),c},u=this.maybePropagateTrace(()=>{let{headers:T,status:U,statusText:q,url:W}=d(),dt=null;U!==PS&&(dt=typeof s.response>"u"?s.responseText:s.response),U===0&&(U=dt?RS:0);let Ct=U>=200&&U<300;if(t.responseType==="json"&&typeof dt=="string"){let Mt=dt;dt=dt.replace(OS,"");try{dt=dt!==""?JSON.parse(dt):null}catch(C){dt=Mt,Ct&&(Ct=!1,dt={error:C,text:dt})}}Ct?(o.next(new vd({body:dt,headers:T,status:U,statusText:q,url:W||void 0})),o.complete()):o.error(new nl({error:dt,headers:T,status:U,statusText:q,url:W||void 0}))}),g=this.maybePropagateTrace(T=>{let{url:U}=d(),q=new nl({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:U||void 0});o.error(q)}),w=g;t.timeout&&(w=this.maybePropagateTrace(T=>{let{url:U}=d(),q=new nl({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:U||void 0});o.error(q)}));let k=!1,D=this.maybePropagateTrace(T=>{k||(o.next(d()),k=!0);let U={type:Ds.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(U.total=T.total),t.responseType==="text"&&s.responseText&&(U.partialText=s.responseText),o.next(U)}),F=this.maybePropagateTrace(T=>{let U={type:Ds.UploadProgress,loaded:T.loaded};T.lengthComputable&&(U.total=T.total),o.next(U)});return s.addEventListener("load",u),s.addEventListener("error",g),s.addEventListener("timeout",w),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",D),a!==null&&s.upload&&s.upload.addEventListener("progress",F)),s.send(a),o.next({type:Ds.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",u),s.removeEventListener("timeout",w),t.reportProgress&&(s.removeEventListener("progress",D),a!==null&&s.upload&&s.upload.removeEventListener("progress",F)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(Ts))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NS(n,e){return e(n)}function VS(n,e,t){return(r,i)=>yn(t,()=>e(r,o=>n(o,i)))}var FS=new L("",{factory:()=>[]}),Gk=new L(""),LS=new L("",{factory:()=>!0});var jS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(BS),i},providedIn:"root"})}return n})();var zS=(()=>{class n{backend;injector;chain=null;pendingTasks=f(wg);contributeToStability=f(LS);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(FS),...this.injector.get(Gk,[])]));this.chain=r.reduceRight((i,o)=>VS(i,o,this.injector),NS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ua(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(jS),Y(_n))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(zS),i},providedIn:"root"})}return n})();function Yg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var tf=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof el)o=t;else{let c;i.headers instanceof xo?c=i.headers:c=new xo(i.headers);let d;i.params&&(i.params instanceof Ti?d=i.params:d=new Ti({fromObject:i.params})),o=new el(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=_t(o).pipe(mo(c=>this.handler.handle(c)));if(t instanceof el||i.observe==="events")return s;let a=s.pipe(Ut(c=>c instanceof vd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(lt(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new pt(2806,!1);return c.body}));case"blob":return a.pipe(lt(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new pt(2807,!1);return c.body}));case"text":return a.pipe(lt(c=>{if(c.body!==null&&typeof c.body!="string")throw new pt(2808,!1);return c.body}));case"json":default:return a.pipe(lt(c=>c.body))}case"response":return a;default:throw new pt(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ti().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Yg(i,r))}post(t,r,i={}){return this.request("POST",t,Yg(i,r))}put(t,r,i={}){return this.request("PUT",t,Yg(i,r))}static \u0275fac=function(r){return new(r||n)(Y(HS))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wk=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(yt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ef=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Y(WS),i},providedIn:"root"})}return n})(),WS=(()=>{class n extends ef{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Ln.NONE:return r;case Ln.HTML:return Qa(r,"HTML")?Wa(r):$4(this._doc,String(r)).toString();case Ln.STYLE:return Qa(r,"Style")?Wa(r):r;case Ln.SCRIPT:if(Qa(r,"Script"))return Wa(r);throw new pt(5200,!1);case Ln.URL:return Qa(r,"URL")?Wa(r):U4(String(r));case Ln.RESOURCE_URL:if(Qa(r,"ResourceURL"))return Wa(r);throw new pt(5201,!1);default:throw new pt(5202,!1)}}bypassSecurityTrustHtml(t){return F4(t)}bypassSecurityTrustStyle(t){return L4(t)}bypassSecurityTrustScript(t){return j4(t)}bypassSecurityTrustUrl(t){return z4(t)}bypassSecurityTrustResourceUrl(t){return H4(t)}static \u0275fac=function(r){return new(r||n)(Y(yt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wd(n){return n.buttons===0||n.detail===0}function _d(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var nf;function Kk(){if(nf==null){let n=typeof document<"u"?document.head:null;nf=!!(n&&(n.createShadowRoot||n.attachShadow))}return nf}function rf(n){if(Kk()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Rn(n){return n.composedPath?n.composedPath()[0]:n.target}var of;try{of=typeof Intl<"u"&&Intl.v8BreakIterator}catch{of=!1}var $t=(()=>{class n{_platformId=f(yo);isBrowser=this._platformId?Sk(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||of)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yd;function Yk(){if(yd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yd=!0}))}finally{yd=yd||!1}return yd}function Mo(n){return Yk()?n:!!n.capture}function Co(n,e=0){return Zk(n)?Number(n):arguments.length===2?e:0}function Zk(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function bn(n){return n instanceof vt?n.nativeElement:n}var Xk=new L("cdk-input-modality-detector-options"),Jk={ignoreKeys:[18,17,224,91,16]},tb=650,sf={passive:!0,capture:!0},eb=(()=>{class n{_platform=f($t);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ce(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<tb||(this._modality.next(wd(t)?"keyboard":"mouse"),this._mostRecentTarget=Rn(t))};_onTouchstart=t=>{if(_d(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rn(t)};constructor(){let t=f(ct),r=f(yt),i=f(Xk,{optional:!0});if(this._options=I(I({},Jk),i),this.modalityDetected=this._modality.pipe($a(1)),this.modalityChanged=this.modalityDetected.pipe(ed()),this._platform.isBrowser){let o=f(on).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,sf),o.listen(r,"mousedown",this._onMousedown,sf),o.listen(r,"touchstart",this._onTouchstart,sf)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kd=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(kd||{}),nb=new L("cdk-focus-monitor-default-options"),rp=Mo({passive:!0,capture:!0}),Di=(()=>{class n{_ngZone=f(ct);_platform=f($t);_inputModalityDetector=f(eb);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(yt);_stopInputModalityDetector=new nt;constructor(){let t=f(nb,{optional:!0});this._detectionMode=t?.detectionMode||kd.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Rn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=bn(t);if(!this._platform.isBrowser||i.nodeType!==1)return _t();let o=rf(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new nt,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=bn(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=bn(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===kd.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===kd.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?tb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Rn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,rp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,rp)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(re(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),af=(()=>{class n{_elementRef=f(vt);_focusMonitor=f(Di);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new jt;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,t.nodeType===1&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var ip=new WeakMap,Ye=(()=>{class n{_appRef;_injector=f(Tt);_environmentInjector=f(_n);load(t){let r=this._appRef=this._appRef||this._injector.get(ar),i=ip.get(r);i||(i={loaders:new Set,refs:[]},ip.set(r,i),r.onDestroy(()=>{ip.get(r)?.refs.forEach(o=>o.destroy()),ip.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(qu(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function rl(n){return Array.isArray(n)?n:[n]}var rb=new Set,Rs,op=(()=>{class n{_platform=f($t);_nonce=f(rd,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):KS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&QS(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QS(n,e){if(!rb.has(n))try{Rs||(Rs=document.createElement("style"),e&&Rs.setAttribute("nonce",e),Rs.setAttribute("type","text/css"),document.head.appendChild(Rs)),Rs.sheet&&(Rs.sheet.insertRule(`@media ${n} {body{ }}`,0),rb.add(n))}catch(t){console.error(t)}}function KS(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var xd=(()=>{class n{_mediaMatcher=f(op);_zone=f(ct);_queries=new Map;_destroySubject=new nt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ib(rl(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=ib(rl(t)).map(s=>this._registerQuery(s).observable),o=td(i);return o=Nu(o.pipe(Ke(1)),o.pipe($a(1),Jr(0))),o.pipe(lt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{a.matches=a.matches||c,a.breakpoints[d]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new he(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Mr(r),lt(({matches:s})=>({query:t,matches:s})),re(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ib(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function YS(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let e=0;e<n.addedNodes.length;e++)if(!(n.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<n.removedNodes.length;e++)if(!(n.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var ob=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sb=(()=>{class n{_mutationObserverFactory=f(ob);_observedElements=new Map;_ngZone=f(ct);constructor(){}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){let r=bn(t);return new he(i=>{let s=this._observeElement(r).pipe(lt(a=>a.filter(c=>!YS(c))),Ut(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{i.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{let r=new nt,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){let{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ab=(()=>{class n{_contentObserver=f(sb);_elementRef=f(vt);event=new jt;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(t){this._debounce=Co(t),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(Jr(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",It],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),sp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({providers:[ob]})}return n})();var cf=(()=>{class n{_platform=f($t);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return XS(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=ZS(sA(t));if(r&&(lb(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=lb(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!iA(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return oA(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZS(n){try{return n.frameElement}catch{return null}}function XS(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function JS(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function tA(n){return nA(n)&&n.type=="hidden"}function eA(n){return rA(n)&&n.hasAttribute("href")}function nA(n){return n.nodeName.toLowerCase()=="input"}function rA(n){return n.nodeName.toLowerCase()=="a"}function hb(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function lb(n){if(!hb(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function iA(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function oA(n){return tA(n)?!1:JS(n)||eA(n)||n.hasAttribute("contenteditable")||hb(n)}function sA(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var ub=new L("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),pb=new L("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),aA=0,df=(()=>{class n{_ngZone=f(ct);_defaultOptions=f(pb,{optional:!0});_liveElement;_document=f(yt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=f(ub,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${aA++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Eo=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Eo||{}),cb="cdk-high-contrast-black-on-white",db="cdk-high-contrast-white-on-black",lf="cdk-high-contrast-active",gb=(()=>{class n{_platform=f($t);_hasCheckedHighContrastMode;_document=f(yt);_breakpointSubscription;constructor(){this._breakpointSubscription=f(xd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Eo.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Eo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Eo.BLACK_ON_WHITE}return Eo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(lf,cb,db),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Eo.BLACK_ON_WHITE?t.add(lf,cb):r===Eo.WHITE_ON_BLACK&&t.add(lf,db)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Md=(()=>{class n{constructor(){f(gb)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[sp]})}return n})();var hf={},Pe=class n{_appId=f(Es);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),hf.hasOwnProperty(e)||(hf[e]=0),`${e}${t?n._infix+"-":""}${hf[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var lA=200,ap=class{_letterKeyStream=new nt;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new nt;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:lA;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(ke(t=>this._pressedLetters.push(t)),Jr(e),Ut(()=>this._pressedLetters.length>0),lt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function il(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var lp=class{_items;_activeItemIndex=ve(-1);_activeItem=ve(null);_wrap=!1;_typeaheadSubscription=Le.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof nd?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):Is(e)&&(this._effectRef=Tn(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new nt;change=new nt;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new ap(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||il(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return Is(this._items)?this._items():this._items instanceof nd?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var Cd=class extends lp{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var mb=" ";function cA(n,e,t){let r=dp(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(mb)))}function dA(n,e,t){let r=dp(n,e);t=t.trim();let i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(mb)):n.removeAttribute(e)}function dp(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var vb="cdk-describedby-message",cp="cdk-describedby-host",pf=0,hp=(()=>{class n{_platform=f($t);_document=f(yt);_messageRegistry=new Map;_messagesContainer=null;_id=`${pf++}`;constructor(){f(Ye).load(bd),this._id=f(Es)+"-"+pf++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let o=uf(r,i);typeof r!="string"?(fb(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let o=uf(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof r=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${cp}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(cp);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");fb(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(uf(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=dp(t,"aria-describedby").filter(i=>i.indexOf(vb)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);cA(t,"aria-describedby",i.messageElement.id),t.setAttribute(cp,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,dA(t,"aria-describedby",i.messageElement.id),t.removeAttribute(cp)}_isElementDescribedByMessage(t,r){let i=dp(t,"aria-describedby"),o=this._messageRegistry.get(r),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),o=t.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uf(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function fb(n,e){n.id||(n.id=`${vb}-${e}-${pf++}`)}var up;function hA(){if(up===void 0&&(up=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(up=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return up}function ol(n){return hA()?.createHTML(n)||n}var Ar=(function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n})(Ar||{}),pp,Ps;function gp(){if(Ps==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ps=!1,Ps;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Ps=!0;else{let n=Element.prototype.scrollTo;n?Ps=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Ps=!1}}return Ps}function sl(){if(typeof document!="object"||!document)return Ar.NORMAL;if(pp==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),pp=Ar.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,pp=n.scrollLeft===0?Ar.NEGATED:Ar.INVERTED),n.remove()}return pp}function gf(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var al,wb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ff(){if(al)return al;if(typeof document!="object"||!document)return al=new Set(wb),al;let n=document.createElement("input");return al=new Set(wb.filter(e=>(n.setAttribute("type",e),n.type===e))),al}var _b={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var uA=new L("MATERIAL_ANIMATIONS"),yb=null;function pA(){return f(uA,{optional:!0})?.animationsDisabled||f(Ga,{optional:!0})==="NoopAnimations"?"di-disabled":(yb??=f(op).matchMedia("(prefers-reduced-motion)").matches,yb?"reduced-motion":"enabled")}function xe(){return pA()!=="enabled"}function Ie(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ur(n){return n!=null&&`${n}`!="false"}var Hn=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(Hn||{}),fp=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Hn.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},kb=Mo({passive:!0,capture:!0}),mf=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,kb)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,kb)))}_delegateEventHandler=e=>{let t=Rn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},ll={enterDuration:225,exitDuration:150},gA=800,bb=Mo({passive:!0,capture:!0}),xb=["mousedown","touchstart"],Mb=["mouseup","mouseleave","touchend","touchcancel"],fA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),cl=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new mf;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=bn(r)),o&&o.get(Ye).load(fA)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=I(I({},ll),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||mA(e,t,i),a=e-i.left,c=t-i.top,d=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(u);let g=window.getComputedStyle(u),w=g.transitionProperty,k=g.transitionDuration,D=w==="none"||k==="0s"||k==="0s, 0s"||i.width===0&&i.height===0,F=new fp(this,u,r,D);u.style.transform="scale3d(1, 1, 1)",F.state=Hn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=F);let T=null;return!D&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let U=()=>{T&&(T.fallbackTimer=null),clearTimeout(W),this._finishRippleTransition(F)},q=()=>this._destroyRipple(F),W=setTimeout(q,d+100);u.addEventListener("transitionend",U),u.addEventListener("transitioncancel",q),T={onTransitionEnd:U,onTransitionCancel:q,fallbackTimer:W}}),this._activeRipples.set(F,T),(D||!d)&&this._finishRippleTransition(F),F}fadeOutRipple(e){if(e.state===Hn.FADING_OUT||e.state===Hn.HIDDEN)return;let t=e.element,r=I(I({},ll),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Hn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=bn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,xb.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Mb.forEach(t=>{this._triggerElement.addEventListener(t,this,bb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Hn.FADING_IN?this._startFadeOutTransition(e):e.state===Hn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Hn.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Hn.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=wd(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+gA;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!_d(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Hn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Hn.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(xb.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Mb.forEach(t=>e.removeEventListener(t,this,bb)),this._pointerUpEventsRegistered=!1))}};function mA(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var Ed=new L("mat-ripple-global-options"),Io=(()=>{class n{_elementRef=f(vt);_animationsDisabled=xe();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=f(ct),r=f($t),i=f(Ed,{optional:!0}),o=f(Tt);this._globalOptions=i||{},this._rippleRenderer=new cl(this,t,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:I(I(I({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,I(I({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,I(I({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Et("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var vA={capture:!0},wA=["focus","mousedown","mouseenter","touchstart"],vf="mat-ripple-loader-uninitialized",wf="mat-ripple-loader-class-name",Cb="mat-ripple-loader-centered",mp="mat-ripple-loader-disabled",Eb=(()=>{class n{_document=f(yt);_animationsDisabled=xe();_globalRippleOptions=f(Ed,{optional:!0});_platform=f($t);_ngZone=f(ct);_injector=f(Tt);_eventCleanups;_hosts=new Map;constructor(){let t=f(on).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>wA.map(r=>t.listen(this._document,r,this._onInteraction,vA)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(vf,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(wf))&&t.setAttribute(wf,r.className||""),r.centered&&t.setAttribute(Cb,""),r.disabled&&t.setAttribute(mp,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(mp,""):t.removeAttribute(mp)}_onInteraction=t=>{let r=Rn(t);if(r instanceof HTMLElement){let i=r.closest(`[${vf}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(wf)),t.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??ll.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??ll.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(mp),rippleConfig:{centered:t.hasAttribute(Cb),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new cl(a,this._ngZone,r,this._platform,this._injector),d=!a.rippleDisabled;d&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:d}),t.removeAttribute(vf)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var _A=["mat-icon-button",""],yA=["*"],kA=new L("MAT_BUTTON_CONFIG");function Ib(n){return n==null?void 0:ri(n)}var _f=(()=>{class n{_elementRef=f(vt);_ngZone=f(ct);_animationsDisabled=xe();_config=f(kA,{optional:!0});_focusMonitor=f(Di);_cleanupClick;_renderer=f(ae);_rippleLoader=f(Eb);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){f(Ye).load(dl);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(Jt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Si(i.color?"mat-"+i.color:""),Et("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",It],disabled:[2,"disabled","disabled",It],ariaDisabled:[2,"aria-disabled","ariaDisabled",It],disabledInteractive:[2,"disabledInteractive","disabledInteractive",It],tabIndex:[2,"tabIndex","tabIndex",Ib],_tabindex:[2,"tabindex","_tabindex",Ib]}})}return n})(),Id=(()=>{class n extends _f{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[pe],attrs:_A,ngContentSelectors:yA,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(be(),ti(0,"span",0),Qt(1),ti(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var bA=new L("cdk-dir-doc",{providedIn:"root",factory:()=>f(yt)}),xA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Sb(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?xA.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var pr=(()=>{class n{get value(){return this.valueSignal()}valueSignal=ve("ltr");change=new jt;constructor(){let t=f(bA,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(Sb(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({})}return n})();var vp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[ne]})}return n})();var MA=["matButton",""],CA=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],EA=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ab=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),So=(()=>{class n extends _f{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=IA(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?Ab.get(this._appearance):null,o=Ab.get(t);i&&r.remove(...i),r.add(...o),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[pe],attrs:MA,ngContentSelectors:EA,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(be(CA),ti(0,"span",0),Qt(1),jn(2,"span",1),Qt(3,1),lr(),Qt(4,2),ti(5,"span",2)(6,"span",3)),r&2&&Et("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function IA(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var gr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[vp,ne]})}return n})();function Tb(n){return Error(`Unable to find icon with the name "${n}"`)}function SA(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Db(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Rb(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Ri=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},Ob=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Ri(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(Ln.HTML,i);if(!s)throw Rb(i);let a=ol(s);return this._addSvgIconConfig(t,r,new Ri("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ri(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(Ln.HTML,r);if(!o)throw Rb(r);let s=ol(o);return this._addSvgIconSetConfig(t,new Ri("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(Ln.RESOURCE_URL,t);if(!r)throw Db(t);let i=this._cachedIconsByUrl.get(r);return i?_t(_p(i)):this._loadSvgIconFromConfig(new Ri(t,null)).pipe(ke(o=>this._cachedIconsByUrl.set(r,o)),lt(o=>_p(o)))}getNamedSvgIcon(t,r=""){let i=Pb(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):Bu(Tb(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?_t(_p(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(lt(r=>_p(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return _t(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ms(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Ln.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),_t(null)})));return Fu(o).pipe(lt(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw Tb(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ke(r=>t.svgText=r),lt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?_t(null):this._fetchIcon(t).pipe(ke(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(ol("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(ol("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw SA();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(Ln.RESOURCE_URL,r);if(!s)throw Db(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(lt(d=>ol(d)),Ua(()=>this._inProgressUrlFetches.delete(s)),T4());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(Pb(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return AA(o)?new Ri(o.url,null,o.options):new Ri(o,null)}}static \u0275fac=function(r){return new(r||n)(Y(tf,8),Y(ef),Y(yt,8),Y(Cr))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _p(n){return n.cloneNode(!0)}function Pb(n,e){return n+":"+e}function AA(n){return!!(n.url&&n.options)}var TA=["*"],DA=new L("MAT_ICON_DEFAULT_OPTIONS"),RA=new L("mat-icon-location",{providedIn:"root",factory:()=>{let n=f(yt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Bb=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],PA=Bb.map(n=>`[${n}]`).join(", "),OA=/^url\(['"]?#(.*?)['"]?\)$/,yp=(()=>{class n{_elementRef=f(vt);_iconRegistry=f(Ob);_location=f(RA);_errorHandler=f(Cr);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Le.EMPTY;constructor(){let t=f(new Ai("aria-hidden"),{optional:!0}),r=f(DA,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(PA),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)Bb.forEach(s=>{let a=r[o],c=a.getAttribute(s),d=c?c.match(OA):null;if(d){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ke(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Jt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Si(i.color?"mat-"+i.color:""),Et("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",It],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:TA,decls:1,vars:0,template:function(r,i){r&1&&(be(),Qt(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),kp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[ne]})}return n})();var Dt="primary",Ld=Symbol("RouteTitle"),Mf=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Vs(n){return new Mf(n)}function qb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ip(n){return new Promise((e,t)=>{n.pipe(vo()).subscribe({next:r=>e(r),error:r=>t(r)})})}function BA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!oi(n[t],e[t]))return!1;return!0}function oi(n,e){let t=n?Cf(n):void 0,r=e?Cf(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Gb(n[i],e[i]))return!1;return!0}function Cf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Wb(n){return n.length>0?n[n.length-1]:null}function Fs(n){return Ha(n)?n:Ya(n)?or(Promise.resolve(n)):_t(n)}function Qb(n){return Ha(n)?Ip(n):Promise.resolve(n)}var NA={exact:Yb,subset:Zb},Kb={exact:VA,subset:FA,ignored:()=>!0};function Vb(n,e,t){return NA[t.paths](n.root,e.root,t.matrixParams)&&Kb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function VA(n,e){return oi(n,e)}function Yb(n,e,t){if(!Bs(n.segments,e.segments)||!Mp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Yb(n.children[r],e.children[r],t))return!1;return!0}function FA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gb(n[t],e[t]))}function Zb(n,e,t){return Xb(n,e,e.segments,t)}function Xb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Bs(i,t)||e.hasChildren()||!Mp(i,t,r))}else if(n.segments.length===t.length){if(!Bs(n.segments,t)||!Mp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Zb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Bs(n.segments,i)||!Mp(n.segments,i,r)||!n.children[Dt]?!1:Xb(n.children[Dt],e,o,r)}}function Mp(n,e,t){return e.every((r,i)=>Kb[t](n[i].parameters,r.parameters))}var Dr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){return zA.serialize(this)}},te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cp(this)}},Ao=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Vs(this.parameters),this._parameterMap}toString(){return t3(this)}};function LA(n,e){return Bs(n,e)&&n.every((t,r)=>oi(t.parameters,e[r].parameters))}function Bs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function jA(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Dt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Dt&&(t=t.concat(e(i,r)))}),t}var jd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new To,providedIn:"root"})}return n})(),To=class{parse(e){let t=new If(e);return new Dr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sd(e.root,!0)}`,r=$A(e.queryParams),i=typeof e.fragment=="string"?`#${HA(e.fragment)}`:"";return`${t}${r}${i}`}},zA=new To;function Cp(n){return n.segments.map(e=>t3(e)).join("/")}function Sd(n,e){if(!n.hasChildren())return Cp(n);if(e){let t=n.children[Dt]?Sd(n.children[Dt],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Dt&&r.push(`${i}:${Sd(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=jA(n,(r,i)=>i===Dt?[Sd(n.children[Dt],!1)]:[`${i}:${Sd(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Dt]!=null?`${Cp(n)}/${t[0]}`:`${Cp(n)}/(${t.join("//")})`}}function Jb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bp(n){return Jb(n).replace(/%3B/gi,";")}function HA(n){return encodeURI(n)}function Ef(n){return Jb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ep(n){return decodeURIComponent(n)}function Fb(n){return Ep(n.replace(/\+/g,"%20"))}function t3(n){return`${Ef(n.path)}${UA(n.parameters)}`}function UA(n){return Object.entries(n).map(([e,t])=>`;${Ef(e)}=${Ef(t)}`).join("")}function $A(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${bp(t)}=${bp(i)}`).join("&"):`${bp(t)}=${bp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var qA=/^[^\/()?;#]+/;function yf(n){let e=n.match(qA);return e?e[0]:""}var GA=/^[^\/()?;=#]+/;function WA(n){let e=n.match(GA);return e?e[0]:""}var QA=/^[^=?&#]+/;function KA(n){let e=n.match(QA);return e?e[0]:""}var YA=/^[^&#]+/;function ZA(n){let e=n.match(YA);return e?e[0]:""}var If=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new te(e,t)),r}parseSegment(){let e=yf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new pt(4009,!1);return this.capture(e),new Ao(Ep(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=WA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=yf(this.remaining);i&&(r=i,this.capture(r))}e[Ep(t)]=Ep(r)}parseQueryParam(e){let t=KA(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=ZA(this.remaining);s&&(r=s,this.capture(r))}let i=Fb(t),o=Fb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new pt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Dt);let s=this.parseChildren();t[o??Dt]=Object.keys(s).length===1&&s[Dt]?s[Dt]:new te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new pt(4011,!1)}};function e3(n){return n.segments.length>0?new te([],{[Dt]:n}):n}function n3(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=n3(i);if(r===Dt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new te(n.segments,e);return XA(t)}function XA(n){if(n.numberOfChildren===1&&n.children[Dt]){let e=n.children[Dt];return new te(n.segments.concat(e.segments),e.children)}return n}function Do(n){return n instanceof Dr}function r3(n,e,t=null,r=null,i=new To){let o=i3(n);return o3(o,e,t,r,i)}function i3(n){let e;function t(o){let s={};for(let c of o.children){let d=t(c);s[c.outlet]=d}let a=new te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=e3(r);return e??i}function o3(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return kf(o,o,o,t,r,i);let s=JA(e);if(s.toRoot())return kf(o,o,new te([],{}),t,r,i);let a=t7(s,o,n),c=a.processChildren?Td(a.segmentGroup,a.index,s.commands):a3(a.segmentGroup,a.index,s.commands);return kf(o,a.segmentGroup,c,t,r,i)}function Sp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Pd(n){return typeof n=="object"&&n!=null&&n.outlets}function Lb(n,e,t){n||="\u0275";let r=new Dr;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function kf(n,e,t,r,i,o){let s={};for(let[d,u]of Object.entries(r??{}))s[d]=Array.isArray(u)?u.map(g=>Lb(d,g,o)):Lb(d,u,o);let a;n===e?a=t:a=s3(n,e,t);let c=e3(n3(a));return new Dr(c,s,i)}function s3(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=s3(o,e,t)}),new te(n.segments,r)}var Ap=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Sp(r[0]))throw new pt(4003,!1);let i=r.find(Pd);if(i&&i!==Wb(r))throw new pt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JA(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ap(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ap(t,e,r)}var ul=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function t7(n,e,t){if(n.isAbsolute)return new ul(e,!0,0);if(!t)return new ul(e,!1,NaN);if(t.parent===null)return new ul(t,!0,0);let r=Sp(n.commands[0])?0:1,i=t.segments.length-1+r;return e7(t,i,n.numberOfDoubleDots)}function e7(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new pt(4005,!1);i=r.segments.length}return new ul(r,!1,i-o)}function n7(n){return Pd(n[0])?n[0].outlets:{[Dt]:n}}function a3(n,e,t){if(n??=new te([],{}),n.segments.length===0&&n.hasChildren())return Td(n,e,t);let r=r7(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new te(n.segments.slice(0,r.pathIndex),{});return o.children[Dt]=new te(n.segments.slice(r.pathIndex),n.children),Td(o,0,i)}else return r.match&&i.length===0?new te(n.segments,{}):r.match&&!n.hasChildren()?Sf(n,e,t):r.match?Td(n,0,i):Sf(n,e,t)}function Td(n,e,t){if(t.length===0)return new te(n.segments,{});{let r=n7(t),i={};if(Object.keys(r).some(o=>o!==Dt)&&n.children[Dt]&&n.numberOfChildren===1&&n.children[Dt].segments.length===0){let o=Td(n.children[Dt],e,t);return new te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=a3(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new te(n.segments,i)}}function r7(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Pd(a))break;let c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!zb(c,d,s))return o;r+=2}else{if(!zb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sf(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Pd(o)){let c=i7(o.outlets);return new te(r,c)}if(i===0&&Sp(t[0])){let c=n.segments[e];r.push(new Ao(c.path,jb(t[0]))),i++;continue}let s=Pd(o)?o.outlets[Dt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Sp(a)?(r.push(new Ao(s,jb(a))),i+=2):(r.push(new Ao(s,{})),i++)}return new te(r,{})}function i7(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Sf(new te([],{}),0,r))}),e}function jb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function zb(n,e,t){return n==t.path&&oi(e,t.parameters)}var Dd="imperative",Ze=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ze||{}),$n=class{id;url;constructor(e,t){this.id=e,this.url=t}},si=class extends $n{type=Ze.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mr=class extends $n{urlAfterRedirects;type=Ze.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(xn||{}),Od=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Od||{}),fr=class extends $n{reason;code;type=Ze.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends $n{reason;code;type=Ze.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Oi=class extends $n{error;target;type=Ze.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ro=class extends $n{urlAfterRedirects;state;type=Ze.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends $n{urlAfterRedirects;state;type=Ze.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dp=class extends $n{urlAfterRedirects;state;shouldActivate;type=Ze.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rp=class extends $n{urlAfterRedirects;state;type=Ze.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pp=class extends $n{urlAfterRedirects;state;type=Ze.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class{route;type=Ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bp=class{route;type=Ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Np=class{snapshot;type=Ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vp=class{snapshot;type=Ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fp=class{snapshot;type=Ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lp=class{snapshot;type=Ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Bd=class{},gl=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function o7(n){return!(n instanceof Bd)&&!(n instanceof gl)}function s7(n,e){return n.providers&&!n._injector&&(n._injector=xg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tr(n){return n.outlet||Dt}function a7(n,e){let t=n.filter(r=>Tr(r)===e);return t.push(...n.filter(r=>Tr(r)!==e)),t}function wl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var jp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return wl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new _l(this.rootInjector)}},_l=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(_n))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Af(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Af(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Tf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tf(e,this._root).map(t=>t.value)}};function Af(n,e){if(n===e.value)return e;for(let t of e.children){let r=Af(n,t);if(r)return r}return null}function Tf(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Tf(n,t);if(r.length)return r.unshift(e),r}return[]}var Un=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function hl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Nd=class extends zp{snapshot;constructor(e,t){super(e),this.snapshot=t,Nf(this,e)}toString(){return this.snapshot.toString()}};function l3(n){let e=l7(n),t=new Ce([new Ao("",{})]),r=new Ce({}),i=new Ce({}),o=new Ce({}),s=new Ce(""),a=new Bi(t,r,o,s,i,Dt,n,e.root);return a.snapshot=e.root,new Nd(new Un(a,[]),e)}function l7(n){let e={},t={},r={},o=new Ns([],e,r,"",t,Dt,n,null,{});return new Vd("",new Un(o,[]))}var Bi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(lt(d=>d[Ld]))??_t(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(lt(e=>Vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(lt(e=>Vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),n.params),data:I(I({},e.data),n.data),resolve:I(I(I(I({},n.data),e.data),i?.data),n._resolvedData)}:r={params:I({},n.params),data:I({},n.data),resolve:I(I({},n.data),n._resolvedData??{})},i&&d3(i)&&(r.resolve[Ld]=i.title),r}var Ns=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ld]}constructor(e,t,r,i,o,s,a,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Vd=class extends zp{url;constructor(e,t){super(t),this.url=e,Nf(this,t)}toString(){return c3(this._root)}};function Nf(n,e){e.value._routerState=n,e.children.forEach(t=>Nf(n,t))}function c3(n){let e=n.children.length>0?` { ${n.children.map(c3).join(", ")} } `:"";return`${n.value}${e}`}function bf(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,oi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),oi(e.params,t.params)||n.paramsSubject.next(t.params),BA(e.url,t.url)||n.urlSubject.next(t.url),oi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Df(n,e){let t=oi(n.params,e.params)&&LA(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Df(n.parent,e.parent))}function d3(n){return typeof n.title=="string"||n.title===null}var h3=new L(""),zd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Dt;activateEvents=new jt;deactivateEvents=new jt;attachEvents=new jt;detachEvents=new jt;routerOutletData=Zt();parentContexts=f(_l);location=f(Dn);changeDetector=f(Re);inputBinder=f(Hd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pt(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new pt(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Rf(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[hn]})}return n})(),Rf=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Bi?this.route:e===_l?this.childContexts:e===h3?this.outletData:this.parent.get(e,t)}},Hd=new L(""),Vf=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=td([r.queryParams,r.params,r.data]).pipe(De(([o,s,a],c)=>(a=I(I(I({},o),s),a),c===0?_t(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=mk(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Ff=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&bt(0,"router-outlet")},dependencies:[zd],encapsulation:2})}return n})();function Lf(n){let e=n.children&&n.children.map(Lf),t=e?ot(I({},n),{children:e}):I({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=Ff),t}function c7(n,e,t){let r=Fd(n,e._root,t?t._root:void 0);return new Nd(r,e)}function Fd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=d7(n,e,t);return new Un(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fd(n,a)),s}}let r=h7(e.value),i=e.children.map(o=>Fd(n,o));return new Un(r,i)}}function d7(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fd(n,r,i);return Fd(n,r)})}function h7(n){return new Bi(new Ce(n.url),new Ce(n.params),new Ce(n.queryParams),new Ce(n.fragment),new Ce(n.data),n.outlet,n.component,n)}var fl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},u3="ngNavigationCancelingError";function Up(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Do(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=p3(!1,xn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function p3(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[u3]=!0,t.cancellationCode=e,t}function u7(n){return g3(n)&&Do(n.url)}function g3(n){return!!n&&n[u3]}var p7=(n,e,t,r)=>lt(i=>(new Pf(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),bf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=hl(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=hl(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(bf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$p=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},pl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function g7(n,e,t){let r=n._root,i=e?e._root:null;return Ad(r,i,t,[r.value])}function f7(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function yl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!D4(n)?n:e.get(n):r}function Ad(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=hl(e);return n.children.forEach(s=>{m7(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rd(a,t.getContext(s),i)),i}function m7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=v7(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new $p(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ad(n,e,a?a.children:null,r,i):Ad(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pl(a.outlet.component,s))}else s&&Rd(e,a,i),i.canActivateChecks.push(new $p(r)),o.component?Ad(n,null,a?a.children:null,r,i):Ad(n,null,t,r,i);return i}function v7(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Bs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Bs(n.url,e.url)||!oi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Df(n,e)||!oi(n.queryParams,e.queryParams);case"paramsChange":default:return!Df(n,e)}}function Rd(n,e,t){let r=hl(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Rd(s,e.children.getContext(o),t):Rd(s,null,t):Rd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new pl(e.outlet.component,i)):t.canDeactivateChecks.push(new pl(null,i)):t.canDeactivateChecks.push(new pl(null,i))}function Ud(n){return typeof n=="function"}function w7(n){return typeof n=="boolean"}function _7(n){return n&&Ud(n.canLoad)}function y7(n){return n&&Ud(n.canActivate)}function k7(n){return n&&Ud(n.canActivateChild)}function b7(n){return n&&Ud(n.canDeactivate)}function x7(n){return n&&Ud(n.canMatch)}function f3(n){return n instanceof M4||n?.name==="EmptyError"}var xp=Symbol("INITIAL_VALUE");function ml(){return De(n=>td(n.map(e=>e.pipe(Ke(1),Mr(xp)))).pipe(lt(e=>{for(let t of e)if(t!==!0){if(t===xp)return xp;if(t===!1||M7(t))return t}return!0}),Ut(e=>e!==xp),Ke(1)))}function M7(n){return Do(n)||n instanceof fl}function m3(n){return n.aborted?_t(void 0).pipe(Ke(1)):new he(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function v3(n){return re(m3(n))}function C7(n,e){return rn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?_t(ot(I({},t),{guardsResult:!0})):E7(s,r,i,n).pipe(rn(a=>a&&w7(a)?I7(r,o,n,e):_t(a)),lt(a=>ot(I({},t),{guardsResult:a})))})}function E7(n,e,t,r){return or(n).pipe(rn(i=>R7(i.component,i.route,t,e,r)),vo(i=>i!==!0,!0))}function I7(n,e,t,r){return or(e).pipe(mo(i=>Nu(A7(i.route.parent,r),S7(i.route,r),D7(n,i.path,t),T7(n,i.route,t))),vo(i=>i!==!0,!0))}function S7(n,e){return n!==null&&e&&e(new Fp(n)),_t(!0)}function A7(n,e){return n!==null&&e&&e(new Np(n)),_t(!0)}function T7(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return _t(!0);let i=r.map(o=>Vu(()=>{let s=wl(e)??t,a=yl(o,s),c=y7(a)?a.canActivate(e,n):yn(s,()=>a(e,n));return Fs(c).pipe(vo())}));return _t(i).pipe(ml())}function D7(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>f7(s)).filter(s=>s!==null).map(s=>Vu(()=>{let a=s.guards.map(c=>{let d=wl(s.node)??t,u=yl(c,d),g=k7(u)?u.canActivateChild(r,n):yn(d,()=>u(r,n));return Fs(g).pipe(vo())});return _t(a).pipe(ml())}));return _t(o).pipe(ml())}function R7(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return _t(!0);let s=o.map(a=>{let c=wl(e)??i,d=yl(a,c),u=b7(d)?d.canDeactivate(n,e,t,r):yn(c,()=>d(n,e,t,r));return Fs(u).pipe(vo())});return _t(s).pipe(ml())}function P7(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return _t(!0);let s=o.map(a=>{let c=yl(a,n),d=_7(c)?c.canLoad(e,t):yn(n,()=>c(e,t)),u=Fs(d);return i?u.pipe(v3(i)):u});return _t(s).pipe(ml(),w3(r))}function w3(n){return k4(ke(e=>{if(typeof e!="boolean")throw Up(n,e)}),lt(e=>e===!0))}function O7(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return _t(!0);let s=o.map(a=>{let c=yl(a,n),d=x7(c)?c.canMatch(e,t):yn(n,()=>c(e,t)),u=Fs(d);return i?u.pipe(v3(i)):u});return _t(s).pipe(ml(),w3(r))}var Os=class _3 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,_3.prototype)}},Of=class y3 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,y3.prototype)}};function B7(n){throw new pt(4e3,!1)}function N7(n){throw p3(!1,xn.GuardRejected)}var V7=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Dt])throw B7(`${e.redirectTo}`);i=i.children[Dt]}}async applyRedirectCommands(e,t,r,i,o){let s=await F7(t,i,o);if(s instanceof Dr)throw new Of(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Of(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Dr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new pt(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function F7(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:d,data:u,title:g}=e;return Ip(Fs(yn(t,()=>r({params:d,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:g}))))}var Bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L7(n,e,t,r,i,o){let s=k3(n,e,t);return s.matched?(r=s7(e,r),O7(r,e,t,i,o).pipe(lt(a=>a===!0?s:I({},Bf)))):_t(s)}function k3(n,e,t){if(e.path==="**")return j7(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?I({},Bf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qb)(t,n,e);if(!i)return I({},Bf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function j7(n){return{matched:!0,parameters:n.length>0?Wb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Hb(n,e,t,r){return t.length>0&&U7(n,t,r)?{segmentGroup:new te(e,H7(r,new te(t,n.children))),slicedSegments:[]}:t.length===0&&$7(n,t,r)?{segmentGroup:new te(n.segments,z7(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new te(n.segments,n.children),slicedSegments:t}}function z7(n,e,t,r){let i={};for(let o of t)if(qp(n,e,o)&&!r[Tr(o)]){let s=new te([],{});i[Tr(o)]=s}return I(I({},r),i)}function H7(n,e){let t={};t[Dt]=e;for(let r of n)if(r.path===""&&Tr(r)!==Dt){let i=new te([],{});t[Tr(r)]=i}return t}function U7(n,e,t){return t.some(r=>qp(n,e,r)&&Tr(r)!==Dt)}function $7(n,e,t){return t.some(r=>qp(n,e,r))}function qp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function q7(n,e,t){return e.length===0&&!n.children[t]}var G7=class{};async function W7(n,e,t,r,i,o,s="emptyOnly",a){return new K7(n,e,t,r,i,s,o,a).recognize()}var Q7=31,K7=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new V7(this.urlSerializer,this.urlTree)}noMatchError(e){return new pt(4002,`'${e.segmentGroup}'`)}async recognize(){let e=Hb(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Un(r,t),o=new Vd("",i),s=r3(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new Ns([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Dt,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Dt,t),rootSnapshot:t}}catch(r){if(r instanceof Of)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Os?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof Un?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let d=r.children[c],u=a7(t,c),g=await this.processSegmentGroup(e,u,d,c,i);s.push(...g)}let a=b3(s);return Y7(a),a}async processSegment(e,t,r,i,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a)}catch(d){if(d instanceof Os||f3(d))continue;throw d}if(q7(r,i,o))return new G7;throw new Os(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,c){if(Tr(r)!==s&&(s===Dt||!qp(i,o,r)))throw new Os(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c);throw new Os(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:d,consumedSegments:u,positionalParamSegments:g,remainingSegments:w}=k3(t,i,o);if(!c)throw new Os(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Q7&&(this.allowRedirects=!1));let k=new Ns(o,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Ub(i),Tr(i),i.component??i._loadedComponent??null,i,$b(i)),D=Hp(k,a,this.paramsInheritanceStrategy);if(k.params=Object.freeze(D.params),k.data=Object.freeze(D.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let F=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,g,k,e),T=await this.applyRedirects.lineralizeSegments(i,F);return this.processSegment(e,r,t,T.concat(w),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Ip(L7(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Os(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:u,consumedSegments:g,remainingSegments:w}=a,k=new Ns(g,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Ub(r),Tr(r),r.component??r._loadedComponent??null,r,$b(r)),D=Hp(k,s,this.paramsInheritanceStrategy);k.params=Object.freeze(D.params),k.data=Object.freeze(D.data);let{segmentGroup:F,slicedSegments:T}=Hb(t,g,w,c);if(T.length===0&&F.hasChildren()){let W=await this.processChildren(d,c,F,k);return new Un(k,W)}if(c.length===0&&T.length===0)return new Un(k,[]);let U=Tr(r)===o,q=await this.processSegment(d,c,F,T,U?Dt:o,!0,k);return new Un(k,q instanceof Un?[q]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Ip(P7(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw N7(t)}return{routes:[],injector:e}}};function Y7(n){n.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet))}function Z7(n){let e=n.value.routeConfig;return e&&e.path===""}function b3(n){let e=[],t=new Set;for(let r of n){if(!Z7(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=b3(r.children);e.push(new Un(r.value,i))}return e.filter(r=>!t.has(r))}function Ub(n){return n.data||{}}function $b(n){return n.resolve||{}}var X7=new L("",{factory:()=>W7});function J7(n,e,t,r,i,o,s){let a=n.get(X7);return rn(c=>_t(c).pipe(De(d=>a(n,e,t,r,d.extractedUrl,i,o,s)),lt(({state:d,tree:u})=>ot(I({},c),{targetSnapshot:d,urlAfterRedirects:u}))))}function tT(n,e){return rn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of x3(c))s.add(d);let a=0;return or(s).pipe(mo(c=>o.has(c)?eT(c,r,n,e):(c.data=Hp(c,c.parent,n).resolve,_t(void 0))),ke(()=>a++),gg(1),rn(c=>a===s.size?_t(t):Fn))})}function x3(n){let e=n.children.map(t=>x3(t)).flat();return[n,...e]}function eT(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!d3(i)&&(o[Ld]=i.title),Vu(()=>(n.data=Hp(n,n.parent,t).resolve,nT(o,n,e,r).pipe(lt(s=>(n._resolvedData=s,n.data=I(I({},n.data),s),null)))))}function nT(n,e,t,r){let i=Cf(n);if(i.length===0)return _t({});let o={};return or(i).pipe(rn(s=>rT(n[s],e,t,r).pipe(vo(),ke(a=>{if(a instanceof fl)throw Up(new To,a);o[s]=a}))),gg(1),lt(()=>o),Ms(s=>f3(s)?Fn:Bu(s)))}function rT(n,e,t,r){let i=wl(e)??r,o=yl(n,i),s=o.resolve?o.resolve(e,t):yn(i,()=>o(e,t));return Fs(s)}function xf(n){return De(e=>{let t=n(e);return t?or(t).pipe(lt(()=>e)):_t(e)})}var jf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Dt);return r}getResolvedTitleForRoute(t){return t.data[Ld]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(M3),providedIn:"root"})}return n})(),M3=(()=>{class n extends jf{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(Wk))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kl=new L("",{factory:()=>({})}),$d=new L(""),C3=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(ck);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Qb(yn(t,()=>r.loadComponent())),s=await S3(I3(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await E3(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function E3(n,e,t,r){let i=await Qb(yn(t,()=>n.loadChildren())),o=await S3(I3(i)),s;o instanceof W4||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,c,d=!1;return Array.isArray(s)?(c=s,d=!0):(a=s.create(t).injector,c=a.get($d,[],{optional:!0,self:!0}).flat()),{routes:c.map(Lf),injector:a}}function iT(n){return n&&typeof n=="object"&&"default"in n}function I3(n){return iT(n)?n.default:n}async function S3(n){return n}var Gp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(oT),providedIn:"root"})}return n})(),oT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A3=new L("");var sT=()=>{},T3=new L(""),D3=(()=>{class n{currentNavigation=ve(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ve(null);events=new nt;transitionAbortWithErrorSubject=new nt;configLoader=f(C3);environmentInjector=f(_n);destroyRef=f(_o);urlSerializer=f(jd);rootContexts=f(_l);location=f(ii);inputBindingEnabled=f(Hd,{optional:!0})!==null;titleStrategy=f(jf);options=f(kl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(Gp);createViewTransition=f(A3,{optional:!0});navigationErrorHandler=f(T3,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>_t(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Op(i)),r=i=>this.events.next(new Bp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ue(()=>{this.transitions?.next(ot(I({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Ce(null),this.transitions.pipe(Ut(r=>r!==null),De(r=>{let i=!1,o=new AbortController;return _t(r).pipe(De(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xn.SupersededByNewNavigation),Fn;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?ot(I({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Pi(s.id,this.urlSerializer.serialize(s.rawUrl),"",Od.IgnoredSameUrlNavigation)),s.resolve(!1),Fn;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return _t(s).pipe(De(u=>(this.events.next(new si(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Fn:Promise.resolve(u))),J7(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ke(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(w=>(w.finalUrl=u.urlAfterRedirects,w));let g=new Ro(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:g,source:w,restoredState:k,extras:D}=s,F=new si(u,this.urlSerializer.serialize(g),w,k);this.events.next(F);let T=l3(this.rootComponentType).snapshot;return this.currentTransition=r=ot(I({},s),{targetSnapshot:T,urlAfterRedirects:g,extras:ot(I({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(U=>(U.finalUrl=g,U)),_t(r)}else return this.events.next(new Pi(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Od.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Fn}),ke(s=>{let a=new Tp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),lt(s=>(this.currentTransition=r=ot(I({},s),{guards:g7(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),C7(this.environmentInjector,s=>this.events.next(s)),ke(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Up(this.urlSerializer,s.guardsResult);let a=new Dp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ut(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",xn.GuardRejected),!1)),xf(s=>{if(s.guards.canActivateChecks.length!==0)return _t(s).pipe(ke(a=>{let c=new Rp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),De(a=>{let c=!1;return _t(a).pipe(tT(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",xn.NoDataFromResolver)}}))}),ke(a=>{let c=new Pp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),xf(s=>{let a=d=>{let u=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let g=wl(d)??this.environmentInjector;u.push(this.configLoader.loadComponent(g,d.routeConfig).then(w=>{d.component=w}))}for(let g of d.children)u.push(...a(g));return u},c=a(s.targetSnapshot.root);return c.length===0?_t(s):or(Promise.all(c).then(()=>s))}),xf(()=>this.afterPreactivation()),De(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?or(c).pipe(lt(()=>r)):_t(r)}),lt(s=>{let a=c7(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ot(I({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),ke(()=>{this.events.next(new Bd)}),p7(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ke(1),re(m3(o.signal).pipe(Ut(()=>!i&&!r.targetRouterState),ke(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",xn.Aborted)}))),ke({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=sT,a)),this.lastSuccessfulNavigation.set(ue(this.currentNavigation)),this.events.next(new mr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),re(this.transitionAbortWithErrorSubject.pipe(ke(s=>{throw s}))),Ua(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",xn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ms(s=>{if(this.destroyed)return r.resolve(!1),Fn;if(i=!0,g3(s))this.events.next(new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),u7(s)?this.events.next(new gl(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Oi(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=yn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof fl){let{message:d,cancellationCode:u}=Up(this.urlSerializer,c);this.events.next(new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),d,u)),this.events.next(new gl(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Fn}))}))}cancelNavigationTransition(t,r,i){let o=new fr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ue(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aT(n){return n!==Dd}var Wp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(lT),providedIn:"root"})}return n})(),vl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},lT=(()=>{class n extends vl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zf=(()=>{class n{urlSerializer=f(jd);options=f(kl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(ii);urlHandlingStrategy=f(Gp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Dr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=l3(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>f(R3),providedIn:"root"})}return n})(),R3=(()=>{class n extends zf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof si?this.updateStateMemento():t instanceof Pi?this.commitTransition(r):t instanceof Ro?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Bd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof fr&&t.code!==xn.SupersededByNewNavigation&&t.code!==xn.Redirect?this.restoreHistory(r):t instanceof Oi?this.restoreHistory(r,!0):t instanceof mr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hf(n,e){n.events.pipe(Ut(t=>t instanceof mr||t instanceof fr||t instanceof Oi||t instanceof Pi),lt(t=>t instanceof mr||t instanceof Pi?0:(t instanceof fr?t.code===xn.Redirect||t.code===xn.SupersededByNewNavigation:!1)?2:1),Ut(t=>t!==2),Ke(1)).subscribe(()=>{e()})}var cT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(Mg);stateManager=f(zf);options=f(kl,{optional:!0})||{};pendingTasks=f(P4);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(D3);urlSerializer=f(jd);location=f(ii);urlHandlingStrategy=f(Gp);injector=f(_n);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(Wp);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f($d,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Hd,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ue(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof fr&&r.code!==xn.Redirect&&r.code!==xn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof mr)this.navigated=!0;else if(r instanceof gl){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||aT(i.source)},s);this.scheduleNavigation(a,Dd,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}o7(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(qa)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ue(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let g;try{let w=i?i.snapshot:this.routerState.snapshot.root;g=i3(w)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return o3(g,t,u,d??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Do(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Dd,null,r)}navigate(t,r={skipLocationChange:!1}){return hT(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Cs(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=I({},cT):r===!1?i=I({},dT):i=r,Do(t))return Vb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Vb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((g,w)=>{a=g,c=w});let u=this.pendingTasks.add();return Hf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hT(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new pt(4008,!1)}var Qp=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ve(null);get href(){return ue(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new nt;applicationErrorHandler=f(qa);options=f(kl,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(f(new Ai("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof mr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Do(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Do(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Gt(qn),Gt(Bi),yg("tabindex"),Gt(ae),Gt(vt),Gt(tl))};static \u0275dir=st({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ut("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Jt("href",i.reactiveHref(),q4)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",It],skipLocationChange:[2,"skipLocationChange","skipLocationChange",It],replaceUrl:[2,"replaceUrl","replaceUrl",It],routerLink:"routerLink"},features:[hn]})}return n})();var pT=new L("");function Uf(n,...e){return dn([{provide:$d,multi:!0,useValue:n},[],{provide:Bi,useFactory:gT},{provide:Y4,multi:!0,useFactory:mT},e.map(t=>t.\u0275providers)])}function gT(){return f(qn).routerState.root}function fT(n,e){return{\u0275kind:n,\u0275providers:e}}function mT(){let n=f(Tt);return e=>{let t=n.get(ar);if(e!==t.components[0])return;let r=n.get(qn),i=n.get(vT);n.get(wT)===1&&r.initialNavigation(),n.get(_T,null,{optional:!0})?.setUpPreloading(),n.get(pT,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vT=new L("",{factory:()=>new nt}),wT=new L("",{factory:()=>1});var _T=new L("");function $f(){return fT(8,[Vf,{provide:Hd,useExisting:Vf}])}function kT(n){return n==null?"":/^\d+$/.test(n)?`${n}px`:n}var bT=new L("Ng Icon Pre Processor"),xT=new L("Ng Icon Post Processor");function MT(){return f(bT,{optional:!0})??(n=>n)}function CT(){return f(xT,{optional:!0})??(()=>{})}var ET=new L("Ng Icon Logger"),qf=class{log(e){console.log(e)}warn(e){console.warn(e)}error(e){console.error(e)}};function IT(){return f(ET,{optional:!0})??new qf}var ST=new L("Ng Icon Config");function AT(){return f(ST,{optional:!0})??{}}var TT=new L("Ng Icon Loader Token");var DT=new L("Ng Icon Cache Token");function RT(){return f(TT,{optional:!0})}function PT(){return f(DT,{optional:!0})}function bl(n){return[{provide:Gf,useFactory:(e=f(Gf,{optional:!0,skipSelf:!0}))=>I(I({},e?.reduce((t,r)=>I(I({},t),r),{})),n),multi:!0}]}var Gf=new L("Icons Token");function OT(){return f(Gf,{optional:!0})??[]}function BT(n){return typeof n=="string"?Promise.resolve(n):Ha(n)?n.toPromise():n}function NT(n){return n.replace(/([^a-zA-Z0-9])+(.)?/g,(e,t,r)=>r?r.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,e=>e.toLowerCase())}var VT=0,xl=(()=>{class n{constructor(){this.config=AT(),this.icons=OT(),this.loader=RT(),this.cache=PT(),this.preProcessor=MT(),this.postProcessor=CT(),this.injector=f(Tt),this.renderer=f(ae),this.platform=f(yo),this.elementRef=f(vt),this.uniqueId=VT++,this.logger=IT(),this.name=Zt(),this.svg=Zt(),this.size=Zt(this.config.size,{transform:kT}),this.strokeWidth=Zt(this.config.strokeWidth),this.color=Zt(this.config.color),Tn(()=>this.updateIcon()),f(new Ai("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}async updateIcon(){let t=this.name(),r=this.svg();if(r!==void 0){this.setSvg(r);return}if(t===void 0)return;let i=NT(t);for(let o of[...this.icons].reverse())if(o[i]){this.setSvg(o[i]);return}if(this.loader){let o=await this.requestIconFromLoader(t);if(o!==null){this.setSvg(o);return}}this.logger.warn(`No icon named ${t} was found. You may need to import it using the withIcons function.`)}setSvg(t){if(Ak(this.platform)){this.elementRef.nativeElement.innerHTML=t,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===t)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),t===""))return;let r=this.renderer.createElement("template");t=this.replaceIds(t),this.renderer.setProperty(r,"innerHTML",this.preProcessor(t)),this.svgElement=r.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(t){if(!t.includes("ID_PLACEHOLDER_"))return t;let r=/ID_PLACEHOLDER_(\d+)/g,i=new Map,o=new Set(t.match(r));if(o===null)return t;for(let s of o){let a=s.replace("ID_PLACEHOLDER_",""),c=`ng-icon-${this.uniqueId}-${i.size}`;i.set(a,c),t=t.replace(new RegExp(s,"g"),c)}return t}requestIconFromLoader(t){return new Promise(r=>{yn(this.injector,async()=>{if(this.cache){let s=this.cache.get(t);if(typeof s=="string"){r(s);return}if(s instanceof Promise){let a=await s;r(a);return}}let i=BT(this.loader(t));this.cache?.set(t,i);let o=await i;this.cache?.set(t,o),r(o)})})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=rt({type:n,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(r,i){r&2&&sd("--ng-icon__stroke-width",i.strokeWidth())("--ng-icon__size",i.size())("--ng-icon__color",i.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(r,i){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return n})();var P3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>';var O3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M3 3v16a2 2 0 0 0 2 2h16"></path><path d="M7 16c.5-2 1.5-7 4-7 2 0 2 3 4 3 2.5 0 4.5-5 5-7"></path></svg>';var B3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="m15 18-6-6 6-6"></path></svg>';var N3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z"></path><circle cx="12" cy="12" r="10"></circle></svg>';var V3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="stroke-width:var(--ng-icon__stroke-width, 2)"><path d="M21 4v16"></path><path d="M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z"></path></svg>';var Kp=class n{location=f(ii);goBack(){this.location.back()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-root"]],features:[ce([],[bl({lucideChevronLeft:B3})])],decls:10,vars:0,consts:[[1,"d-flex","flex-column","vh-100","p-2"],[1,"d-flex","justify-content-between","align-items-center"],["mat-icon-button","",3,"click"],["mat-icon-button","","routerLink","/login"],[1,"flex-grow-1","overflow-hidden","p-3"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"div",1)(2,"button",2),ut("click",function(){return r.goBack()}),B(3,"mat-icon"),Q(4,"chevron_left"),V()(),B(5,"button",3)(6,"mat-icon"),Q(7,"account_circle"),V()()(),B(8,"div",4),bt(9,"router-outlet"),V()())},dependencies:[zd,gr,Id,kp,yp,Qp],encapsulation:2})};var FT="@",LT=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=f(Tt);loadingSchedulerFn=f(jT,{optional:!0});_engine;constructor(t,r,i,o,s){this.doc=t,this.delegate=r,this.zone=i,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-LKEXLRFF.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new pt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new Wf(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(t,r);o.use(a),this.scheduler??=this.injector.get(B4,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(r){bg()};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Wf=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r,i){this.delegate.removeChild(e,t,r,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,r,i)),this.delegate.listen(e,t,r,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(FT)}},jT=new L("");function F3(n="animations"){return kg("NgAsyncAnimations"),dn([{provide:on,useFactory:()=>new LT(f(yt),f(gd),f(ct),n)},{provide:Ga,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Qf="Service workers are disabled or not supported by this browser",Ml=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new he(r=>r.error(new pt(5601,!1)));else{let r=null,i=new nt;this.worker=new he(d=>(r!==null&&d.next(r),i.subscribe(u=>d.next(u))));let o=()=>{let{controller:d}=e;d!==null&&(r=d,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(De(()=>e.getRegistration().then(d=>{if(!d)throw new pt(5601,!1);return d})));let s=new nt;this.events=s.asObservable();let a=d=>{let{data:u}=d;u?.type&&s.next(u)};e.addEventListener("message",a),t?.get(ar,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Ke(1)).subscribe(i=>{i.postMessage(I({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ut(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ke(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Ut(i=>i.nonce===e),Ke(1),lt(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},zT=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new nt;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=fo,this.notificationClicks=fo,this.notificationCloses=fo,this.pushSubscriptionChanges=fo,this.subscription=fo;return}this.messages=this.sw.eventsOfType("PUSH").pipe(lt(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(lt(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(lt(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(lt(i=>i.data)),this.pushManager=this.sw.registration.pipe(lt(i=>i.pushManager));let r=this.pushManager.pipe(De(i=>i.getSubscription()));this.subscription=new he(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Qf));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(De(c=>c.subscribe(r)),Ke(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qf));let t=r=>{if(r===null)throw new pt(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new pt(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Ke(1),De(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(Y(Ml))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),HT=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=fo,this.unrecoverable=fo;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qf));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new pt(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(Y(Ml))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),j3=new L("");function UT(){let n=f(qd);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=f(j3),t=f(ct),r=f(ar);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=L3(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),L3(+a[0])]);break;default:throw new pt(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(s=>console.error(Cs(5604,!1)))})})}function L3(n){return new Promise(e=>setTimeout(e,n))}function $T(){let n=f(qd),e=f(Tt),t=!0;return new Ml(t&&n.enabled!==!1?navigator.serviceWorker:void 0,e)}var qd=class{enabled;updateViaCache;type;scope;registrationStrategy};function z3(n,e={}){return dn([zT,HT,{provide:j3,useValue:n},{provide:qd,useValue:e},{provide:Ml,useFactory:$T},Cg(UT)])}function sn(n,e){let r=!e?.manualCleanup?e?.injector?.get(_o)??f(_o):null,i=qT(e?.equal),o;e?.requireSync?o=ve({kind:0},{equal:i}):o=ve({kind:1,value:e?.initialValue},{equal:i});let s,a=n.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new pt(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Yt(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new pt(601,!1)}},{equal:e?.equal})}function qT(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var Xf={};function ge(n,e){if(Xf[n]=(Xf[n]||0)+1,typeof e=="function")return Kf(n,(...r)=>ot(I({},e(...r)),{type:n}));switch(e?e._as:"empty"){case"empty":return Kf(n,()=>({type:n}));case"props":return Kf(n,r=>ot(I({},r),{type:n}));default:throw new Error("Unexpected config.")}}function Xe(){return{_as:"props",_p:void 0}}function Kf(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}function rx(n){return n.charAt(0).toUpperCase()+n.substring(1)}function GT(n,e){if(n==null)throw new Error(`${e} must be defined.`)}var ix="@ngrx/store/init",El=(()=>{class n extends Ce{constructor(){super({type:ix})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),WT=[El],ox=new L("@ngrx/store Internal Root Guard"),H3=new L("@ngrx/store Internal Initial State"),nm=new L("@ngrx/store Initial State"),sx=new L("@ngrx/store Reducer Factory"),U3=new L("@ngrx/store Internal Reducer Factory Provider"),ax=new L("@ngrx/store Initial Reducers"),Yf=new L("@ngrx/store Internal Initial Reducers"),$3=new L("@ngrx/store Store Features"),q3=new L("@ngrx/store Internal Store Reducers"),Zf=new L("@ngrx/store Internal Feature Reducers"),G3=new L("@ngrx/store Internal Feature Configs"),lx=new L("@ngrx/store Internal Store Features"),W3=new L("@ngrx/store Internal Feature Reducers Token"),cx=new L("@ngrx/store Feature Reducers"),Q3=new L("@ngrx/store User Provided Meta Reducers"),Cl=new L("@ngrx/store Meta Reducers"),K3=new L("@ngrx/store Internal Resolved Meta Reducers"),Y3=new L("@ngrx/store User Runtime Checks Config"),Z3=new L("@ngrx/store Internal User Runtime Checks Config"),Ls=new L("@ngrx/store Internal Runtime Checks"),rm=new L("@ngrx/store Check if Action types are unique"),Gd=new L("@ngrx/store Root Store Provider"),Yp=new L("@ngrx/store Feature State Provider");function im(n,e={}){let t=Object.keys(n),r={};for(let o=0;o<t.length;o++){let s=t[o];typeof n[s]=="function"&&(r[s]=n[s])}let i=Object.keys(r);return function(s,a){s=s===void 0?e:s;let c=!1,d={};for(let u=0;u<i.length;u++){let g=i[u],w=r[g],k=s[g],D=w(k,a);d[g]=D,c=c||D!==k}return c?d:s}}function QT(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,r)=>Object.assign(t,{[r]:n[r]}),{})}function dx(...n){return function(e){if(n.length===0)return e;let t=n[n.length-1];return n.slice(0,-1).reduceRight((i,o)=>o(i),t(e))}}function hx(n,e){return Array.isArray(e)&&e.length>0&&(n=dx.apply(null,[...e,n])),(t,r)=>{let i=n(t);return(o,s)=>(o=o===void 0?r:o,i(o,s))}}function KT(n){let e=Array.isArray(n)&&n.length>0?dx(...n):t=>t;return(t,r)=>(t=e(t),(i,o)=>(i=i===void 0?r:i,t(i,o)))}var Wd=class extends he{},Zp=class extends El{},YT="@ngrx/store/update-reducers",Xp=(()=>{class n extends Ce{get currentReducers(){return this.reducers}constructor(t,r,i,o){super(o(i,r)),this.dispatcher=t,this.initialState=r,this.reducers=i,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let r=t.reduce((i,{reducers:o,reducerFactory:s,metaReducers:a,initialState:c,key:d})=>{let u=typeof o=="function"?KT(a)(o,c):hx(s,a)(o,c);return i[d]=u,i},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers=I(I({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=QT(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:YT,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||n)(Y(Zp),Y(nm),Y(ax),Y(sx))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),ZT=[Xp,{provide:Wd,useExisting:Xp},{provide:Zp,useExisting:El}],Qd=(()=>{class n extends nt{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),XT=[Qd],Jp=class extends he{},X3=(()=>{class n extends Ce{static{this.INIT=ix}constructor(t,r,i,o){super(o);let a=t.pipe(x4(b4)).pipe(Ci(r)),c={state:o},d=a.pipe(mg(JT,c));this.stateSubscription=d.subscribe(({state:u,action:g})=>{this.next(u),i.next(g)}),this.state=sn(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(r){return new(r||n)(Y(El),Y(Wd),Y(Qd),Y(nm))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function JT(n={state:void 0},[e,t]){let{state:r}=n;return{state:t(r,e),action:e}}var t9=[X3,{provide:Jp,useExisting:X3}],Gn=(()=>{class n extends he{constructor(t,r,i,o){super(),this.actionsObserver=r,this.reducerManager=i,this.injector=o,this.source=t,this.state=t.state}select(t,...r){return om.call(null,t,...r)(this)}selectSignal(t,r){return Yt(()=>t(this.state()),r)}lift(t){let r=new n(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t,r){if(typeof t=="function")return this.processDispatchFn(t,r);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,r){GT(this.injector,"Store Injector");let i=r?.injector??n9()??this.injector;return Tn(()=>{let o=t();ue(()=>this.dispatch(o))},{injector:i})}static{this.\u0275fac=function(r){return new(r||n)(Y(Jp),Y(El),Y(Xp),Y(Tt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),e9=[Gn];function om(n,e,...t){return function(i){let o;if(typeof n=="string"){let s=[e,...t].filter(Boolean);o=i.pipe(A4(n,...s))}else if(typeof n=="function")o=i.pipe(lt(s=>n(s,e)));else throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);return o.pipe(ed())}}function n9(){try{return f(Tt)}catch{return}}var sm="https://ngrx.io/guide/store/configuration/runtime-checks";function J3(n){return n===void 0}function tx(n){return n===null}function ux(n){return Array.isArray(n)}function r9(n){return typeof n=="string"}function i9(n){return typeof n=="boolean"}function o9(n){return typeof n=="number"}function px(n){return typeof n=="object"&&n!==null}function s9(n){return px(n)&&!ux(n)}function gx(n){if(!s9(n))return!1;let e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}function Jf(n){return typeof n=="function"}function a9(n){return Jf(n)&&n.hasOwnProperty("\u0275cmp")}function l9(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var c9=!1;function am(){return c9}function ex(n,e){return n===e}function d9(n,e,t){for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!0;return!1}function fx(n,e=ex,t=ex){let r=null,i=null,o;function s(){r=null,i=null}function a(u=void 0){o={result:u}}function c(){o=void 0}function d(){if(o!==void 0)return o.result;if(!r)return i=n.apply(null,arguments),r=arguments,i;if(!d9(arguments,r,e))return i;let u=n.apply(null,arguments);return r=arguments,t(i,u)?i:(i=u,u)}return{memoized:d,reset:s,setResult:a,clearResult:c}}function Wn(...n){return u9(fx)(...n)}function h9(n,e,t,r){if(t===void 0){let o=e.map(s=>s(n));return r.memoized.apply(null,o)}let i=e.map(o=>o(n,t));return r.memoized.apply(null,[...i,t])}function u9(n,e={stateFn:h9}){return function(...t){let r=t;if(Array.isArray(r[0])){let[u,...g]=r;r=[...u,...g]}else r.length===1&&p9(r[0])&&(r=g9(r[0]));let i=r.slice(0,r.length-1),o=r[r.length-1],s=i.filter(u=>u.release&&typeof u.release=="function"),a=n(function(...u){return o.apply(null,u)}),c=fx(function(u,g){return e.stateFn.apply(null,[u,i,g,a])});function d(){c.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(c.memoized,{release:d,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function mx(n){return Wn(e=>{let t=e[n];return!am()&&Ir()&&!(n in e)&&console.warn(`@ngrx/store: The feature name "${n}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${n}', ...) or StoreModule.forFeature('${n}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},e=>e)}function p9(n){return!!n&&typeof n=="object"&&Object.values(n).every(e=>typeof e=="function")}function g9(n){let e=Object.values(n),t=Object.keys(n),r=(...i)=>t.reduce((o,s,a)=>ot(I({},o),{[s]:i[a]}),{});return[...e,r]}function vx(n){let{name:e,reducer:t,extraSelectors:r}=n,i=mx(e),o=f9(i,t),s=I({[`select${rx(e)}State`]:i},o),a=r?r(s):{};return I(I({name:e,reducer:t},s),a)}function f9(n,e){let t=m9(e);return(gx(t)?Object.keys(t):[]).reduce((i,o)=>ot(I({},i),{[`select${rx(o)}`]:Wn(n,s=>s?.[o])}),{})}function m9(n){return n(void 0,{type:"@ngrx/feature/init"})}function v9(n){return n instanceof L?f(n):n}function w9(n,e){return e.map((t,r)=>{if(n[r]instanceof L){let i=f(n[r]);return{key:t.key,reducerFactory:i.reducerFactory?i.reducerFactory:im,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return t})}function _9(n){return n.map(e=>e instanceof L?f(e):e)}function wx(n){return typeof n=="function"?n():n}function y9(n,e){return n.concat(e)}function k9(){if(f(Gn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function b9(n,e){return function(t,r){let i=e.action(r)?tm(r):r,o=n(t,i);return e.state()?tm(o):o}}function tm(n){Object.freeze(n);let e=Jf(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&l9(n,t)&&(!e||t!=="caller"&&t!=="callee"&&t!=="arguments")){let r=n[t];(px(r)||Jf(r))&&!Object.isFrozen(r)&&tm(r)}}),n}function x9(n,e){return function(t,r){if(e.action(r)){let o=em(r);nx(o,"action")}let i=n(t,r);if(e.state()){let o=em(i);nx(o,"state")}return i}}function em(n,e=[]){return(J3(n)||tx(n))&&e.length===0?{path:["root"],value:n}:Object.keys(n).reduce((r,i)=>{if(r)return r;let o=n[i];return a9(o)?r:J3(o)||tx(o)||o9(o)||i9(o)||r9(o)||ux(o)?!1:gx(o)?em(o,[...e,i]):{path:[...e,i],value:o}},!1)}function nx(n,e){if(n===!1)return;let t=n.path.join("."),r=new Error(`Detected unserializable ${e} at "${t}". ${sm}#strict${e}serializability`);throw r.value=n.value,r.unserializablePath=t,r}function M9(n,e){return function(t,r){if(e.action(r)&&!ct.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${sm}#strictactionwithinngzone`);return n(t,r)}}function C9(n){return Ir()?I({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function E9({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?x9(t,{action:r=>n&&!lm(r),state:()=>e}):t}function I9({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?b9(t,{action:r=>n&&!lm(r),state:()=>e}):t}function lm(n){return n.type.startsWith("@ngrx")}function S9({strictActionWithinNgZone:n}){return e=>n?M9(e,{action:t=>n&&!lm(t)}):e}function A9(n){return[{provide:Z3,useValue:n},{provide:Y3,useFactory:T9,deps:[Z3]},{provide:Ls,deps:[Y3],useFactory:C9},{provide:Cl,multi:!0,deps:[Ls],useFactory:I9},{provide:Cl,multi:!0,deps:[Ls],useFactory:E9},{provide:Cl,multi:!0,deps:[Ls],useFactory:S9}]}function _x(){return[{provide:rm,multi:!0,deps:[Ls],useFactory:D9}]}function T9(n){return n}function D9(n){if(!n.strictActionTypeUniqueness)return;let e=Object.entries(Xf).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${sm}#strictactiontypeuniqueness`)}function yx(n,e,t={}){return dn([...V9(n,e,t),N9])}function R9(n={},e={}){return[{provide:ox,useFactory:k9},{provide:H3,useValue:e.initialState},{provide:nm,useFactory:wx,deps:[H3]},{provide:Yf,useValue:n},{provide:q3,useExisting:n instanceof L?n:Yf},{provide:ax,deps:[Yf,[new _g(q3)]],useFactory:v9},{provide:Q3,useValue:e.metaReducers?e.metaReducers:[]},{provide:K3,deps:[Cl,Q3],useFactory:y9},{provide:U3,useValue:e.reducerFactory?e.reducerFactory:im},{provide:sx,deps:[U3,K3],useFactory:hx},WT,ZT,XT,t9,e9,A9(e.runtimeChecks),_x()]}function P9(){f(El),f(Wd),f(Qd),f(Gn),f(ox,{optional:!0}),f(rm,{optional:!0})}var O9=[{provide:Gd,useFactory:P9},Ei(()=>f(Gd))];function kx(n,e){return dn([...R9(n,e),O9])}function B9(){f(Gd);let n=f(lx),e=f(cx),t=f(Xp);f(rm,{optional:!0});let r=n.map((i,o)=>{let a=e.shift()[o];return ot(I({},i),{reducers:a,initialState:wx(i.initialState)})});t.addFeatures(r)}var N9=[{provide:Yp,useFactory:B9},Ei(()=>f(Yp))];function V9(n,e,t={}){return[{provide:G3,multi:!0,useValue:n instanceof Object?{}:t},{provide:$3,multi:!0,useValue:{key:n instanceof Object?n.name:n,reducerFactory:!(t instanceof L)&&t.reducerFactory?t.reducerFactory:im,metaReducers:!(t instanceof L)&&t.metaReducers?t.metaReducers:[],initialState:!(t instanceof L)&&t.initialState?t.initialState:void 0}},{provide:lx,deps:[G3,$3],useFactory:w9},{provide:Zf,multi:!0,useValue:n instanceof Object?n.reducer:e},{provide:W3,multi:!0,useExisting:e instanceof L?e:Zf},{provide:cx,multi:!0,deps:[Zf,[new _g(W3)]],useFactory:_9},_x()]}function js(...n){let e=n.pop(),t=n.map(r=>r.type);return{reducer:e,types:t}}function cm(n,...e){let t=new Map;for(let r of e)for(let i of r.types){let o=t.get(i);if(o){let s=(a,c)=>r.reducer(o(a,c),c);t.set(i,s)}else t.set(i,r.reducer)}return function(r=n,i){let o=t.get(i.type);return o?o(r,i):r}}var F9={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},t0="__@ngrx/effects_create__";function Po(n,e={}){let t=e.functional?n:n(),r=I(I({},F9),e);return Object.defineProperty(t,t0,{value:r}),t}function L9(n){return Object.getOwnPropertyNames(n).filter(r=>n[r]&&n[r].hasOwnProperty(t0)?n[r][t0].hasOwnProperty("dispatch"):!1).map(r=>{let i=n[r][t0];return I({propertyName:r},i)})}function j9(n){return L9(n)}function xx(n){return Object.getPrototypeOf(n)}function z9(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function Mx(n){return typeof n=="function"}function H9(n){return n.filter(Mx)}function U9(n,e,t){let r=xx(n),o=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=j9(n).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:d})=>{let u=typeof n[a]=="function"?n[a]():n[a],g=d?t(u,e):u;return c===!1?g.pipe(E4()):g.pipe(S4()).pipe(lt(k=>({effect:n[a],notification:k,propertyName:a,sourceName:o,sourceInstance:n})))});return Mi(...s)}var $9=10;function Cx(n,e,t=$9){return n.pipe(Ms(r=>(e&&e.handleError(r),t<=1?n:Cx(n,e,t-1))))}var Ex=(()=>{class n extends he{constructor(t){super(),t&&(this.source=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}static{this.\u0275fac=function(r){return new(r||n)(Y(Qd))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ni(...n){return Ut(e=>n.some(t=>typeof t=="string"?t===e.type:t.type===e.type))}var q9=new L("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Cx}),e0="@ngrx/effects/init",G9=ge(e0);function W9(n,e){if(n.notification.kind==="N"){let t=n.notification.value;!Q9(t)&&e.handleError(new Error(`Effect ${K9(n)} dispatched an invalid action: ${Y9(t)}`))}}function Q9(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function K9({propertyName:n,sourceInstance:e,sourceName:t}){let r=typeof e[n]=="function";return!!t?`"${t}.${String(n)}${r?"()":""}"`:`"${String(n)}()"`}function Y9(n){try{return JSON.stringify(n)}catch{return n}}var Z9="ngrxOnIdentifyEffects";function X9(n){return dm(n,Z9)}var J9="ngrxOnRunEffects";function tD(n){return dm(n,J9)}var eD="ngrxOnInitEffects";function nD(n){return dm(n,eD)}function dm(n,e){return n&&e in n&&typeof n[e]=="function"}var Ix=(()=>{class n extends nt{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(pg(t=>z9(t)?xx(t):t),rn(t=>t.pipe(pg(rD))),rn(t=>{let r=t.pipe(Lu(o=>iD(this.errorHandler,this.effectsErrorHandler)(o)),lt(o=>(W9(o,this.errorHandler),o.notification)),Ut(o=>o.kind==="N"&&o.value!=null),I4()),i=t.pipe(Ke(1),Ut(nD),lt(o=>o.ngrxOnInitEffects()));return Mi(r,i)}))}static{this.\u0275fac=function(r){return new(r||n)(Y(Cr),Y(q9))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rD(n){return X9(n)?n.ngrxOnIdentifyEffects():""}function iD(n,e){return t=>{let r=U9(t,n,e);return tD(t)?t.ngrxOnRunEffects(r):r}}var oD=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Y(Ix),Y(Gn))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sx(...n){let e=n.flat(),t=H9(e);return dn([t,Ei(()=>{f(Gd),f(Yp,{optional:!0});let r=f(oD),i=f(Ix),o=!r.isStarted;o&&r.start();for(let s of e){let a=Mx(s)?f(s):s;i.addEffects(a)}o&&f(Gn).dispatch(G9())})])}var Rx="@ngrx/router-store/request",SQ=ge(Rx,Xe()),Kd="@ngrx/router-store/navigation",AQ=ge(Kd,Xe()),hm="@ngrx/router-store/cancel",TQ=ge(hm,Xe()),um="@ngrx/router-store/error",DQ=ge(um,Xe()),i0="@ngrx/router-store/navigated",RQ=ge(i0,Xe());function Px(n,e){let t=e;switch(t.type){case Kd:case um:case hm:return{state:t.payload.routerState,navigationId:t.payload.event.id};default:return n}}var Il=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let t=e.children.map(r=>this.serializeRoute(r));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:t[0],children:t}}},pm=(function(n){return n[n.PreActivation=1]="PreActivation",n[n.PostActivation=2]="PostActivation",n})(pm||{}),gm="router",Ax=new L("@ngrx/router-store Internal Configuration"),Ox=new L("@ngrx/router-store Configuration"),Yd=(function(n){return n[n.Full=0]="Full",n[n.Minimal=1]="Minimal",n})(Yd||{});function sD(n){return I({stateKey:gm,serializer:Il,navigationActionTiming:pm.PreActivation},n)}var n0=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let t=e.children.map(r=>this.serializeRoute(r));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}},r0=class{},li=(function(n){return n[n.NONE=1]="NONE",n[n.ROUTER=2]="ROUTER",n[n.STORE=3]="STORE",n})(li||{}),Tx=(()=>{class n{constructor(t,r,i,o,s,a){this.store=t,this.router=r,this.serializer=i,this.errorHandler=o,this.config=s,this.activeRuntimeChecks=a,this.lastEvent=null,this.routerState=null,this.trigger=li.NONE,this.stateKey=this.config.stateKey,!am()&&Ir()&&(a?.strictActionSerializability||a?.strictStateSerializability)&&this.serializer instanceof n0&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(om(this.stateKey),Ci(this.store)).subscribe(([t,r])=>{this.navigateIfNeeded(t,r)})}navigateIfNeeded(t,r){if(!t||!t.state||this.trigger===li.ROUTER||this.lastEvent instanceof si)return;let i=t.state.url;aD(this.router.url,i)||(this.storeState=r,this.trigger=li.STORE,this.router.navigateByUrl(i).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let t=this.config.navigationActionTiming===pm.PostActivation,r;this.router.events.pipe(Ci(this.store)).subscribe(([i,o])=>{this.lastEvent=i,i instanceof si?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==li.STORE&&(this.storeState=o,this.dispatchRouterRequest(i))):i instanceof Ro?(r=i,!t&&this.trigger!==li.STORE&&this.dispatchRouterNavigation(i)):i instanceof fr?(this.dispatchRouterCancel(i),this.reset()):i instanceof Oi?(this.dispatchRouterError(i),this.reset()):i instanceof mr&&(this.trigger!==li.STORE&&(t&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(i)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(Rx,{event:t})}dispatchRouterNavigation(t){let r=this.serializer.serialize(t.state);this.dispatchRouterAction(Kd,{routerState:r,event:new Ro(t.id,t.url,t.urlAfterRedirects,r)})}dispatchRouterCancel(t){this.dispatchRouterAction(hm,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(um,{storeState:this.storeState,event:new Oi(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(i0,{event:t,routerState:r})}dispatchRouterAction(t,r){this.trigger=li.ROUTER;try{this.store.dispatch({type:t,payload:ot(I({routerState:this.routerState},r),{event:this.config.routerState===Yd.Full?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=li.NONE}}reset(){this.trigger=li.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(r){return new(r||n)(Y(Gn),Y(qn),Y(r0),Y(Cr),Y(Ox),Y(Ls))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function aD(n,e){return Dx(n)===Dx(e)}function Dx(n){return n?.length>0&&n[n.length-1]==="/"?n.substring(0,n.length-1):n}function Bx(n={}){return dn([{provide:Ax,useValue:n},{provide:Ox,useFactory:sD,deps:[Ax]},{provide:r0,useClass:n.serializer?n.serializer:n.routerState===Yd.Full?n0:Il},Ei(()=>f(Tx)),Tx])}var vst=FI(Nx());var $x=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Gt(ae),Gt(vt))};static \u0275dir=st({type:n})}return n})(),lD=(()=>{class n extends $x{static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=st({type:n,features:[pe]})}return n})(),f0=new L("");var cD={provide:f0,useExisting:wo(()=>m0),multi:!0};function dD(){let n=hr()?hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var hD=new L(""),m0=(()=>{class n extends $x{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!dD())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Gt(ae),Gt(vt),Gt(hD,8))};static \u0275dir=st({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ut("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ce([cD]),pe]})}return n})();function _m(n){return n==null||ym(n)===0}function ym(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var km=new L(""),bm=new L(""),uD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Qn=class{static min(e){return pD(e)}static max(e){return gD(e)}static required(e){return fD(e)}static requiredTrue(e){return mD(e)}static email(e){return vD(e)}static minLength(e){return wD(e)}static maxLength(e){return _D(e)}static pattern(e){return yD(e)}static nullValidator(e){return qx()}static compose(e){return Zx(e)}static composeAsync(e){return Xx(e)}};function pD(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function gD(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function fD(n){return _m(n.value)?{required:!0}:null}function mD(n){return n.value===!0?null:{required:!0}}function vD(n){return _m(n.value)||uD.test(n.value)?null:{email:!0}}function wD(n){return e=>{let t=e.value?.length??ym(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function _D(n){return e=>{let t=e.value?.length??ym(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function yD(n){if(!n)return qx;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(_m(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function qx(n){return null}function Gx(n){return n!=null}function Wx(n){return Ya(n)?or(n):n}function Qx(n){let e={};return n.forEach(t=>{e=t!=null?I(I({},e),t):e}),Object.keys(e).length===0?null:e}function Kx(n,e){return e.map(t=>t(n))}function kD(n){return!n.validate}function Yx(n){return n.map(e=>kD(e)?e:t=>e.validate(t))}function Zx(n){if(!n)return null;let e=n.filter(Gx);return e.length==0?null:function(t){return Qx(Kx(t,e))}}function xm(n){return n!=null?Zx(Yx(n)):null}function Xx(n){if(!n)return null;let e=n.filter(Gx);return e.length==0?null:function(t){let r=Kx(t,e).map(Wx);return Fu(r).pipe(lt(Qx))}}function Mm(n){return n!=null?Xx(Yx(n)):null}function Vx(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jx(n){return n._rawValidators}function t5(n){return n._rawAsyncValidators}function fm(n){return n?Array.isArray(n)?n:[n]:[]}function l0(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fx(n,e){let t=fm(e);return fm(n).forEach(i=>{l0(t,i)||t.push(i)}),t}function Lx(n,e){return fm(e).filter(t=>!l0(n,t))}var c0=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Oo=class extends c0{name;get formDirective(){return null}get path(){return null}},zs=class extends c0{_parent=null;name=null;valueAccessor=null},d0=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var e5=(()=>{class n extends d0{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Gt(zs,2))};static \u0275dir=st({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Et("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pe]})}return n})(),n5=(()=>{class n extends d0{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Gt(Oo,10))};static \u0275dir=st({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Et("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pe]})}return n})();var Zd="VALID",s0="INVALID",Sl="PENDING",Xd="DISABLED",Bo=class{},h0=class extends Bo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},th=class extends Bo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},eh=class extends Bo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Al=class extends Bo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},u0=class extends Bo{source;constructor(e){super(),this.source=e}},nh=class extends Bo{source;constructor(e){super(),this.source=e}};function Cm(n){return(v0(n)?n.validators:n)||null}function bD(n){return Array.isArray(n)?xm(n):n||null}function Em(n,e){return(v0(e)?e.asyncValidators:n)||null}function xD(n){return Array.isArray(n)?Mm(n):n||null}function v0(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function r5(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new pt(1e3,"");if(!r[t])throw new pt(1001,"")}function i5(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new pt(1002,"")})}var Tl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ue(this.statusReactive)}set status(e){ue(()=>this.statusReactive.set(e))}_status=Yt(()=>this.statusReactive());statusReactive=ve(void 0);get valid(){return this.status===Zd}get invalid(){return this.status===s0}get pending(){return this.status==Sl}get disabled(){return this.status===Xd}get enabled(){return this.status!==Xd}errors;get pristine(){return ue(this.pristineReactive)}set pristine(e){ue(()=>this.pristineReactive.set(e))}_pristine=Yt(()=>this.pristineReactive());pristineReactive=ve(!0);get dirty(){return!this.pristine}get touched(){return ue(this.touchedReactive)}set touched(e){ue(()=>this.touchedReactive.set(e))}_touched=Yt(()=>this.touchedReactive());touchedReactive=ve(!1);get untouched(){return!this.touched}_events=new nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Fx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Lx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Lx(e,this._rawAsyncValidators))}hasValidator(e){return l0(this._rawValidators,e)}hasAsyncValidator(e){return l0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ot(I({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new eh(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new eh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ot(I({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new th(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new th(!0,r))}markAsPending(e={}){this.status=Sl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Al(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ot(I({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xd,this.errors=null,this._forEachChild(i=>{i.disable(ot(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new h0(this.value,r)),this._events.next(new Al(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ot(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zd,this._forEachChild(r=>{r.enable(ot(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ot(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zd||this.status===Sl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new h0(this.value,t)),this._events.next(new Al(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ot(I({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xd:Zd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Sl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=Wx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Al(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?Xd:this.errors?s0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sl)?Sl:this._anyControlsHaveStatus(s0)?s0:Zd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new th(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new eh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){v0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bD(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xD(this._rawAsyncValidators)}},Dl=class extends Tl{constructor(e,t,r){super(Cm(t),Em(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){i5(this,!0,e),Object.keys(e).forEach(r=>{r5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,ot(I({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new nh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mm=class extends Dl{};var w0=new L("",{factory:()=>_0}),_0="always";function MD(n,e){return[...e.path,n]}function vm(n,e,t=_0){Im(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ED(n,e),SD(n,e),ID(n,e),CD(n,e)}function jx(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),g0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function p0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function CD(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Im(n,e){let t=Jx(n);e.validator!==null?n.setValidators(Vx(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=t5(n);e.asyncValidator!==null?n.setAsyncValidators(Vx(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();p0(e._rawValidators,i),p0(e._rawAsyncValidators,i)}function g0(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Jx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=t5(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return p0(e._rawValidators,r),p0(e._rawAsyncValidators,r),t}function ED(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&o5(n,e)})}function ID(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&o5(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function o5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function SD(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function s5(n,e){n==null,Im(n,e)}function AD(n,e){return g0(n,e)}function TD(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function DD(n){return Object.getPrototypeOf(n.constructor)===lD}function a5(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function RD(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===m0?t=o:DD(o)?r=o:i=o}),i||r||t||null}function PD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var OD={provide:Oo,useExisting:wo(()=>Sm)},Jd=Promise.resolve(),Sm=(()=>{class n extends Oo{callSetDisabledState;get submitted(){return ue(this.submittedReactive)}_submitted=Yt(()=>this.submittedReactive());submittedReactive=ve(!1);_directives=new Set;form;ngSubmit=new jt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Dl({},xm(t),Mm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),vm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Jd.then(()=>{let r=this._findContainer(t.path),i=new Dl({});s5(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Jd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),a5(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new u0(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Gt(km,10),Gt(bm,10),Gt(w0,8))};static \u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ut("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ce([OD]),pe]})}return n})();function zx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Hx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var a0=class extends Tl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Cm(t),Em(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),v0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Hx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new nh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Hx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var BD=n=>n instanceof a0;var l5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var wm=class extends Tl{constructor(e,t,r){super(Cm(t),Em(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){i5(this,!1,e),e.forEach((r,i)=>{r5(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],ot(I({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new nh(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var ND=(()=>{class n extends Oo{callSetDisabledState;get submitted(){return ue(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Yt(()=>this._submittedReactive());_submittedReactive=ve(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(g0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return vm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){jx(t.control||null,t,!1),PD(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,a5(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new u0(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(jx(r||null,t),BD(i)&&(vm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);s5(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&AD(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Im(this.form,this),this._oldForm&&g0(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(Gt(km,10),Gt(bm,10),Gt(w0,8))};static \u0275dir=st({type:n,features:[pe,hn]})}return n})();var c5=new L("");var VD={provide:zs,useExisting:wo(()=>Am)},Am=(()=>{class n extends zs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new jt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RD(this,o)}ngOnChanges(t){this._added||this._setUpControl(),TD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return MD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Gt(Oo,13),Gt(km,10),Gt(bm,10),Gt(f0,10),Gt(c5,8))};static \u0275dir=st({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ce([VD]),pe,hn]})}return n})();var FD={provide:Oo,useExisting:wo(()=>rh)},rh=(()=>{class n extends ND{form=null;ngSubmit=new jt;get control(){return this.form}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=st({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ut("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ce([FD]),pe]})}return n})();var d5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({})}return n})();function Ux(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var h5=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Ux(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Dl(i,o)}record(t,r=null){let i=this._reduceControls(t);return new mm(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Ux(r)?o=r:(o.validators=r,o.asyncValidators=i),new a0(t,ot(I({},o),{nonNullable:!0}))):new a0(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new wm(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof a0)return t;if(t instanceof Tl)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:w0,useValue:t.callSetDisabledState??_0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[d5]})}return n})(),y0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:c5,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:w0,useValue:t.callSetDisabledState??_0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[d5]})}return n})();var jD=["*"];var zD=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],HD=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],UD=new L("MAT_CARD_CONFIG"),p5=(()=>{class n{appearance;constructor(){let t=f(UD,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(r,i){r&2&&Et("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:jD,decls:1,vars:0,template:function(r,i){r&1&&(be(),Qt(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),g5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var f5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})();var m5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:HD,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){r&1&&(be(zD),Qt(0),jn(1,"div",0),Qt(2,1),lr(),Qt(3,2))},encapsulation:2,changeDetection:0})}return n})();var k0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[ne]})}return n})();var Tm=class{_box;_destroyed=new nt;_resizeSubject=new nt;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new he(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ut(t=>t.some(r=>r.target===e)),vg({bufferSize:1,refCount:!0}),re(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},b0=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=f(ct);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new Tm(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qD=["notch"],GD=["matFormFieldNotchedOutline",""],WD=["*"],v5=["iconPrefixContainer"],w5=["textPrefixContainer"],_5=["iconSuffixContainer"],y5=["textSuffixContainer"],QD=["textField"],KD=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],YD=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ZD(n,e){n&1&&bt(0,"span",21)}function XD(n,e){if(n&1&&(B(0,"label",20),Qt(1,1),Ot(2,ZD,1,0,"span",21),V()),n&2){let t=Z(2);it("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Jt("for",t._control.disableAutomaticLabeling?null:t._control.id),j(2),Bt(!t.hideRequiredMarker&&t._control.required?2:-1)}}function JD(n,e){if(n&1&&Ot(0,XD,3,5,"label",20),n&2){let t=Z();Bt(t._hasFloatingLabel()?0:-1)}}function tR(n,e){n&1&&bt(0,"div",7)}function eR(n,e){}function nR(n,e){if(n&1&&pn(0,eR,0,0,"ng-template",13),n&2){Z(2);let t=ei(1);it("ngTemplateOutlet",t)}}function rR(n,e){if(n&1&&(B(0,"div",9),Ot(1,nR,1,1,null,13),V()),n&2){let t=Z();it("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),j(),Bt(t._forceDisplayInfixLabel()?-1:1)}}function iR(n,e){n&1&&(B(0,"div",10,2),Qt(2,2),V())}function oR(n,e){n&1&&(B(0,"div",11,3),Qt(2,3),V())}function sR(n,e){}function aR(n,e){if(n&1&&pn(0,sR,0,0,"ng-template",13),n&2){Z();let t=ei(1);it("ngTemplateOutlet",t)}}function lR(n,e){n&1&&(B(0,"div",14,4),Qt(2,4),V())}function cR(n,e){n&1&&(B(0,"div",15,5),Qt(2,5),V())}function dR(n,e){n&1&&bt(0,"div",16)}function hR(n,e){n&1&&(B(0,"div",18),Qt(1,6),V())}function uR(n,e){if(n&1&&(B(0,"mat-hint",22),Q(1),V()),n&2){let t=Z(2);it("id",t._hintLabelId),j(),Ee(t.hintLabel)}}function pR(n,e){if(n&1&&(B(0,"div",19),Ot(1,uR,2,2,"mat-hint",22),Qt(2,7),bt(3,"div",23),Qt(4,8),V()),n&2){let t=Z();j(),Bt(t.hintLabel?1:-1)}}var ih=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-label"]]})}return n})(),I5=new L("MatError"),Rm=(()=>{class n{id=f(Pe).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){r&2&&Ja("id",i.id)},inputs:{id:"id"},features:[ce([{provide:I5,useExisting:n}])]})}return n})(),Dm=(()=>{class n{align="start";id=f(Pe).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(Ja("id",i.id),Jt("align",null),Et("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),gR=new L("MatPrefix");var fR=new L("MatSuffix");var S5=new L("FloatingLabelParent"),k5=(()=>{class n{_elementRef=f(vt);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=f(b0);_ngZone=f(ct);_parent=f(S5);_resizeSubscription=new Le;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return mR(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&Et("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function mR(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var b5="mdc-line-ripple--active",x0="mdc-line-ripple--deactivating",x5=(()=>{class n{_elementRef=f(vt);_cleanupTransitionEnd;constructor(){let t=f(ct),r=f(ae);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(x0),t.add(b5)}deactivate(){this._elementRef.nativeElement.classList.add(x0)}_handleTransitionEnd=t=>{let r=this._elementRef.nativeElement.classList,i=r.contains(x0);t.propertyName==="opacity"&&i&&r.remove(b5,x0)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),M5=(()=>{class n{_elementRef=f(vt);_ngZone=f(ct);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,r=t.querySelector(".mdc-floating-label");r?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let r=this._notch.nativeElement;!this.open||!t?r.style.width="":r.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&kn(qD,5),r&2){let o;Rt(o=Pt())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&Et("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:GD,ngContentSelectors:WD,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(be(),ti(0,"div",1),jn(1,"div",2,0),Qt(3),lr(),ti(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),Pm=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n})}return n})();var Om=new L("MatFormField"),vR=new L("MAT_FORM_FIELD_DEFAULT_OPTIONS"),C5="fill",wR="auto",E5="fixed",_R="translateY(-50%)",M0=(()=>{class n{_elementRef=f(vt);_changeDetectorRef=f(Re);_platform=f($t);_idGenerator=f(Pe);_ngZone=f(ct);_defaults=f(vR,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=ad("iconPrefixContainer");_textPrefixContainerSignal=ad("textPrefixContainer");_iconSuffixContainerSignal=ad("iconSuffixContainer");_textSuffixContainerSignal=ad("textSuffixContainer");_prefixSuffixContainers=Yt(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=uk(ih);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ur(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||wR}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let r=t||this._defaults?.appearance||C5;this._appearanceSignal.set(r)}_appearanceSignal=ve(C5);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||E5}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||E5}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new nt;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=xe();constructor(){let t=this._defaults,r=f(pr);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),Tn(()=>this._currentDirection=r.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Yt(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Mr([void 0,void 0]),lt(()=>[r.errorState,r.userAriaDescribedBy]),fg(),Ut(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(re(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Mi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){fk({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Yt(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let r=this._control.describedByIds,i;if(r){let o=this._describedByIds||t;i=t.concat(r.filter(s=>s&&!o.includes(s)))}else i=t;this._control.setDescribedByIds(i),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,i=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,u=this._currentDirection==="rtl"?"-1":"1",g=`${s+a}px`,k=`calc(${u} * (${g} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,D=`var(--mat-mdc-form-field-label-transform, ${_R} translateX(${k}))`,F=s+a+c+d;return[D,F]}_writeOutlinedLabelStyles(t){if(t!==null){let[r,i]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=r),i!==null&&this._notchedOutline?._setMaxWidth(i)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(J4(o,i._labelChild,ih,5),Ii(o,Pm,5)(o,gR,5)(o,fR,5)(o,I5,5)(o,Dm,5)),r&2){Sg();let s;Rt(s=Pt())&&(i._formFieldControl=s.first),Rt(s=Pt())&&(i._prefixChildren=s),Rt(s=Pt())&&(i._suffixChildren=s),Rt(s=Pt())&&(i._errorChildren=s),Rt(s=Pt())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(r&1&&(tk(i._iconPrefixContainerSignal,v5,5)(i._textPrefixContainerSignal,w5,5)(i._iconSuffixContainerSignal,_5,5)(i._textSuffixContainerSignal,y5,5),kn(QD,5)(v5,5)(w5,5)(_5,5)(y5,5)(k5,5)(M5,5)(x5,5)),r&2){Sg(4);let o;Rt(o=Pt())&&(i._textField=o.first),Rt(o=Pt())&&(i._iconPrefixContainer=o.first),Rt(o=Pt())&&(i._textPrefixContainer=o.first),Rt(o=Pt())&&(i._iconSuffixContainer=o.first),Rt(o=Pt())&&(i._textSuffixContainer=o.first),Rt(o=Pt())&&(i._floatingLabel=o.first),Rt(o=Pt())&&(i._notchedOutline=o.first),Rt(o=Pt())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(r,i){r&2&&Et("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ce([{provide:Om,useExisting:n},{provide:S5,useExisting:n}])],ngContentSelectors:YD,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let o=Wt();be(KD),pn(0,JD,1,1,"ng-template",null,0,$u),B(2,"div",6,1),ut("click",function(a){return gt(o),ft(i._control.onContainerClick(a))}),Ot(4,tR,1,0,"div",7),B(5,"div",8),Ot(6,rR,2,2,"div",9),Ot(7,iR,3,0,"div",10),Ot(8,oR,3,0,"div",11),B(9,"div",12),Ot(10,aR,1,1,null,13),Qt(11),V(),Ot(12,lR,3,0,"div",14),Ot(13,cR,3,0,"div",15),V(),Ot(14,dR,1,0,"div",16),V(),B(15,"div",17),Ot(16,hR,2,0,"div",18)(17,pR,5,1,"div",19),V()}if(r&2){let o;j(2),Et("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),j(2),Bt(!i._hasOutline()&&!i._control.disabled?4:-1),j(2),Bt(i._hasOutline()?6:-1),j(),Bt(i._hasIconPrefix?7:-1),j(),Bt(i._hasTextPrefix?8:-1),j(2),Bt(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),j(2),Bt(i._hasTextSuffix?12:-1),j(),Bt(i._hasIconSuffix?13:-1),j(),Bt(i._hasOutline()?-1:14),j(),Et("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic");let s=i._getSubscriptMessageType();j(),Bt((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[k5,M5,Vg,x5,Dm],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var oh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[sp,M0,ne]})}return n})();var kR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),bR={passive:!0},A5=(()=>{class n{_platform=f($t);_ngZone=f(ct);_renderer=f(on).createRenderer(null,null);_styleLoader=f(Ye);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Fn;this._styleLoader.load(kR);let r=bn(t),i=this._monitoredElements.get(r);if(i)return i.subject;let o=new nt,s="cdk-text-field-autofilled",a=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(r.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(r,"animationstart",a,bR)));return this._monitoredElements.set(r,{subject:o,unlisten:c}),o}stopMonitoring(t){let r=bn(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var T5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({})}return n})();var D5=new L("MAT_INPUT_VALUE_ACCESSOR");var R5=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var C0=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var xR=["button","checkbox","file","hidden","image","radio","range","reset","submit"],MR=new L("MAT_INPUT_CONFIG"),P5=(()=>{class n{_elementRef=f(vt);_platform=f($t);ngControl=f(zs,{optional:!0,self:!0});_autofillMonitor=f(A5);_ngZone=f(ct);_formField=f(Om,{optional:!0});_renderer=f(ae);_uid=f(Pe).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=f(MR,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new nt;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=ur(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Qn.required)??!1}set required(t){this._required=ur(t)}_required;get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ff().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ur(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>ff().has(t));constructor(){let t=f(Sm,{optional:!0}),r=f(rh,{optional:!0}),i=f(R5),o=f(D5,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Is(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new C0(i,this.ngControl,r,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Tn(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let r=this._elementRef.nativeElement;r.type==="number"?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){xR.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){let r=this._elementRef.nativeElement;t.length?r.setAttribute("aria-describedby",t.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let r=t.target;!r.value&&r.selectionStart===0&&r.selectionEnd===0&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,i){r&1&&ut("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),r&2&&(Ja("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Jt("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Et("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",It]},exportAs:["matInput"],features:[ce([{provide:Pm,useExisting:n}]),hn]})}return n})(),O5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[oh,oh,T5,ne]})}return n})();var sh=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},No=class extends sh{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},Vi=class extends sh{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Bm=class extends sh{element;constructor(e){super(),this.element=e instanceof vt?e.nativeElement:e}},Rl=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof No)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Vi)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Bm)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},E0=class extends Rl{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Uu,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Tt.NULL,o=i.get(_n,r.injector);t=qu(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},B5=(()=>{class n extends Vi{constructor(){let t=f(sr),r=f(Dn);super(t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[pe]})}return n})(),Pl=(()=>{class n extends Rl{_moduleRef=f(Uu,{optional:!0});_document=f(yt);_viewContainerRef=f(Dn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new jt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[pe]})}return n})(),I0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({})}return n})();var ER=20,Hs=(()=>{class n{_ngZone=f(ct);_platform=f($t);_renderer=f(on).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new nt;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=ER){return this._platform.isBrowser?new he(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(ug(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):_t()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ut(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=bn(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nm=(()=>{class n{elementRef=f(vt);scrollDispatcher=f(Hs);ngZone=f(ct);dir=f(pr,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new nt;_renderer=f(ae);_cleanupScroll;_elementScrolled=new nt;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=i?t.end:t.start),t.right==null&&(t.right=i?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&sl()!=Ar.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),sl()==Ar.INVERTED?t.left=t.right:sl()==Ar.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;gp()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",i="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?i:r:t=="end"&&(t=s?r:i),s&&sl()==Ar.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&sl()==Ar.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),IR=20,Vo=(()=>{class n{_platform=f($t);_listeners;_viewportSize;_change=new nt;_document=f(yt);constructor(){let t=f(ct),r=f(on).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=IR){return t>0?this._change.pipe(ug(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ah=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({})}return n})(),Vm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[ne,ah,ne,ah]})}return n})();var N5=gp();function U5(n){return new S0(n.get(Vo),n.get(yt))}var S0=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ie(-this._previousScrollPosition.left),e.style.top=Ie(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),N5&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),N5&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function $5(n,e){return new A0(n.get(Hs),n.get(ct),n.get(Vo),e)}var A0=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ut(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var lh=class{enable(){}disable(){}attach(){}};function Fm(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function V5(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function B0(n,e){return new T0(n.get(Hs),n.get(Vo),n.get(ct),e)}var T0=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Fm(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},q5=(()=>{class n{_injector=f(Tt);constructor(){}noop=()=>new lh;close=t=>$5(this._injector,t);block=()=>U5(this._injector);reposition=t=>B0(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ol=class{positionStrategy;scrollStrategy=new lh;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var D0=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var G5=(()=>{class n{_attachedOverlays=[];_document=f(yt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W5=(()=>{class n extends G5{_ngZone=f(ct);_renderer=f(on).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q5=(()=>{class n extends G5{_platform=f($t);_ngZone=f(ct);_renderer=f(on).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Rn(t)};_clickListener=t=>{let r=Rn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(F5(a.overlayElement,r)||F5(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F5(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var K5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return n})(),Y5=(()=>{class n{_platform=f($t);_containerElement;_document=f(yt);_styleLoader=f(Ye);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||gf()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),gf()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(K5)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lm=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function jm(n){return n&&n.nodeType===1}var R0=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new nt;_attachments=new nt;_detachments=new nt;_positionStrategy;_scrollStrategy;_locationChanges=Le.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed;_previousHostParent;_keydownEvents=new nt;_outsidePointerEvents=new nt;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,d,u=!1,g,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=u,this._injector=g,this._renderer=w,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){if(this._disposed)return null;this._attachHost();let t=this._portalOutlet.attach(e);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=je(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){if(this._disposed)return;let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=I(I({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ot(I({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Ie(this._config.width),e.height=Ie(this._config.height),e.minWidth=Ie(this._config.minWidth),e.minHeight=Ie(this._config.minHeight),e.maxWidth=Ie(this._config.maxWidth),e.maxHeight=Ie(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachHost(){if(!this._host.parentElement){let e=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;jm(e)?e.after(this._host):e?.type==="parent"?e.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Lm(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=rl(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=je(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},L5="cdk-overlay-connected-position-bounding-box",SR=/([A-Za-z%]+)$/;function N0(n,e){return new P0(e,n.get(Vo),n.get(yt),n.get($t),n.get(Y5))}var P0=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new nt;_resizeSubscription=Le.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(L5),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),d=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(d,t,r,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,d,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:d,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let d of o){let u=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);u>c&&(c=u,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Us(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(L5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}withPopoverLocation(e){return this._popoverLocation=e,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof vt?this._origin.nativeElement:jm(this._origin)?this._origin:null}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=z5(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),d=this._getOffset(i,"y");c&&(s+=c),d&&(a+=d);let u=0-s,g=s+o.width-r.width,w=0-a,k=a+o.height-r.height,D=this._subtractOverflows(o.width,u,g),F=this._subtractOverflows(o.height,w,k),T=D*F;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:F===o.height,fitsInViewportHorizontally:D==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=j5(this._overlayRef.getConfig().minHeight),a=j5(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,d=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&d}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=z5(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),d=Math.max(o.left-r.left-e.x,0),u=0,g=0;return i.width<=o.width?u=d||-s:u=e.x<this._getViewportMarginStart()?o.left-r.left-e.x:0,i.height<=o.height?g=c||-a:g=e.y<this._getViewportMarginTop()?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:g},{x:e.x+u,y:e.y+g}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!AR(this._lastScrollVisibility,r)){let i=new D0(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._getViewportMarginBottom();else if(t.overlayY==="bottom")a=r.height-e.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=r.height-a+this._getViewportMarginTop();else{let k=Math.min(r.bottom-e.y+r.top,e.y),D=this._lastBoundingBoxSize.height;o=k*2,s=e.y-k,o>D&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-D/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,d=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,u,g,w;if(d)w=r.width-e.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),u=e.x-this._getViewportMarginStart();else if(c)g=e.x,u=r.right-e.x-this._getViewportMarginEnd();else{let k=Math.min(r.right-e.x+r.left,e.x),D=this._lastBoundingBoxSize.width;u=k*2,g=e.x-k,u>D&&!this._isInitialRender&&!this._growAfterOpen&&(g=e.x-D/2)}return{top:s,left:g,bottom:a,right:w,width:u,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="auto",i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.width=Ie(r.width),i.height=Ie(r.height),i.top=Ie(r.top)||"auto",i.bottom=Ie(r.bottom)||"auto",i.left=Ie(r.left)||"auto",i.right=Ie(r.right)||"auto",t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Ie(o)),s&&(i.maxWidth=Ie(s))}this._lastBoundingBoxSize=r,Us(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Us(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Us(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Us(r,this._getExactOverlayY(t,e,u)),Us(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Ie(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Ie(s.maxWidth):o&&(r.maxWidth="")),Us(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Ie(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Ie(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:V5(e,r),isOriginOutsideView:Fm(e,r),isOverlayClipped:V5(t,r),isOverlayOutsideView:Fm(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._getViewportMarginTop(),left:r.left+this._getViewportMarginStart(),right:r.left+e-this._getViewportMarginEnd(),bottom:r.top+t-this._getViewportMarginBottom(),width:e-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:t-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&rl(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let e=this._origin;if(e instanceof vt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function Us(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function j5(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(SR);return!t||t==="px"?parseFloat(e):null}return n||null}function z5(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function AR(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var H5="cdk-global-overlay-wrapper";function V0(n){return new O0}var O0=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(H5),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,g=this._xOffset,w=this._overlayRef.getConfig().direction==="rtl",k="",D="",F="";c?F="flex-start":u==="center"?(F="center",w?D=g:k=g):w?u==="left"||u==="end"?(F="flex-end",k=g):(u==="right"||u==="start")&&(F="flex-start",D=g):u==="left"||u==="start"?(F="flex-start",k=g):(u==="right"||u==="end")&&(F="flex-end",D=g),e.position=this._cssPosition,e.marginLeft=c?"0":k,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":D,t.justifyContent=F,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(H5),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Z5=(()=>{class n{_injector=f(Tt);constructor(){}global(){return V0()}flexibleConnectedTo(t){return N0(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X5=new L("OVERLAY_DEFAULT_CONFIG");function Bl(n,e){n.get(Ye).load(K5);let t=n.get(Y5),r=n.get(yt),i=n.get(Pe),o=n.get(ar),s=n.get(pr),a=n.get(ae,null,{optional:!0})||n.get(on).createRenderer(null,null),c=new Ol(e),d=n.get(X5,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in r.body?c.usePopover=e?.usePopover??d:c.usePopover=!1;let u=r.createElement("div"),g=r.createElement("div");u.id=i.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),g.appendChild(u),c.usePopover&&(g.setAttribute("popover","manual"),g.classList.add("cdk-overlay-popover"));let w=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return t.getContainerElement().appendChild(g),jm(w)?w.after(g):w?.type==="parent"&&w.element.appendChild(g),new R0(new E0(u,o,n),g,u,c,n.get(ct),n.get(W5),r,n.get(ii),n.get(Q5),e?.disableAnimations??n.get(Ga,null,{optional:!0})==="NoopAnimations",n.get(_n),a)}var J5=(()=>{class n{scrollStrategies=f(q5);_positionBuilder=f(Z5);_injector=f(Tt);constructor(){}create(t){return Bl(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ch=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({providers:[J5],imports:[ne,I0,Vm,Vm]})}return n})();function TR(n,e){if(n&1){let t=Wt();B(0,"div",1)(1,"button",2),ut("click",function(){gt(t);let i=Z();return ft(i.action())}),Q(2),V()()}if(n&2){let t=Z();j(2),zn(" ",t.data.action," ")}}var DR=["label"];function RR(n,e){}var PR=Math.pow(2,31)-1,dh=class{_overlayRef;instance;containerInstance;_afterDismissed=new nt;_afterOpened=new nt;_onAction=new nt;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,PR))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},tM=new L("MatSnackBarData"),Nl=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},OR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),BR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),NR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),eM=(()=>{class n{snackBarRef=f(dh);data=f(tM);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(r,i){r&1&&(B(0,"div",0),Q(1),V(),Ot(2,TR,3,1,"div",1)),r&2&&(j(),zn(" ",i.data.message,`
`),j(),Bt(i.hasAction?2:-1))},dependencies:[So,OR,BR,NR],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return n})(),zm="_mat-snack-bar-enter",Hm="_mat-snack-bar-exit",VR=(()=>{class n extends Rl{_ngZone=f(ct);_elementRef=f(vt);_changeDetectorRef=f(Re);_platform=f($t);_animationsDisabled=xe();snackBarConfig=f(Nl);_document=f(yt);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=f(Tt);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new nt;_onExit=new nt;_onEnter=new nt;_animationState="void";_live;_label;_role;_liveElementId=f(Pe).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}attachDomPortal=t=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),r};onAnimationEnd(t){t===Hm?this._completeExit():t===zm&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?je(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(zm)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(zm)},200)))}exit(){return this._destroyed?_t(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?je(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Hm)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Hm),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let r=t.getAttribute("aria-owns");if(r){let i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,r=t.querySelector("[aria-hidden]"),i=t.querySelector("[aria-live]");if(r&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),i.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(r&1&&kn(Pl,7)(DR,7),r&2){let o;Rt(o=Pt())&&(i._portalOutlet=o.first),Rt(o=Pt())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,i){r&1&&ut("animationend",function(s){return i.onAnimationEnd(s.animationName)})("animationcancel",function(s){return i.onAnimationEnd(s.animationName)}),r&2&&Et("mat-snack-bar-container-enter",i._animationState==="visible")("mat-snack-bar-container-exit",i._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!i._animationsDisabled)},features:[pe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(B(0,"div",1)(1,"div",2,0)(3,"div",3),pn(4,RR,0,0,"ng-template",4),V(),bt(5,"div"),V()()),r&2&&(j(5),Jt("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Pl],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})(),FR=new L("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new Nl}),Um=(()=>{class n{_live=f(df);_injector=f(Tt);_breakpointObserver=f(xd);_parentSnackBar=f(n,{optional:!0,skipSelf:!0});_defaultConfig=f(FR);_animationsDisabled=xe();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=eM;snackBarContainerComponent=VR;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){let o=I(I({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){let i=r&&r.viewContainerRef&&r.viewContainerRef.injector,o=Tt.create({parent:i||this._injector,providers:[{provide:Nl,useValue:r}]}),s=new No(this.snackBarContainerComponent,r.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){let i=I(I(I({},new Nl),this._defaultConfig),r),o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new dh(s,o);if(t instanceof sr){let c=new Vi(t,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(i,a),d=new No(t,void 0,c),u=s.attachComponentPortal(d);a.instance=u.instance}return this._breakpointObserver.observe(_b.HandsetPortrait).pipe(re(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let r=new Ol;r.direction=t.direction;let i=V0(this._injector),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,a=!s&&t.horizontalPosition!=="center";return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),t.verticalPosition==="top"?i.top("0"):i.bottom("0"),r.positionStrategy=i,r.disableAnimations=this._animationsDisabled,Bl(this._injector,r)}_createInjector(t,r){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Tt.create({parent:i||this._injector,providers:[{provide:dh,useValue:r},{provide:tM,useValue:t.data}]})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({providers:[Um],imports:[ch,I0,gr,eM,ne]})}return n})();var Qm=["*"];function zR(n,e){n&1&&Qt(0)}var HR=["tabListContainer"],UR=["tabList"],$R=["tabListInner"],qR=["nextPaginator"],GR=["previousPaginator"],WR=["content"];function QR(n,e){}var KR=["tabBodyWrapper"],YR=["tabHeader"];function ZR(n,e){}function XR(n,e){if(n&1&&pn(0,ZR,0,0,"ng-template",12),n&2){let t=Z().$implicit;it("cdkPortalOutlet",t.templateLabel)}}function JR(n,e){if(n&1&&Q(0),n&2){let t=Z().$implicit;Ee(t.textLabel)}}function tP(n,e){if(n&1){let t=Wt();B(0,"div",7,2),ut("click",function(){let i=gt(t),o=i.$implicit,s=i.$index,a=Z(),c=ei(1);return ft(a._handleClick(o,c,s))})("cdkFocusChange",function(i){let o=gt(t).$index,s=Z();return ft(s._tabFocusChanged(i,o))}),bt(2,"span",8)(3,"div",9),B(4,"span",10)(5,"span",11),Ot(6,XR,1,1,null,12)(7,JR,1,1),V()()()}if(n&2){let t=e.$implicit,r=e.$index,i=ei(1),o=Z();Si(t.labelClass),Et("mdc-tab--active",o.selectedIndex===r),it("id",o._getTabLabelId(t,r))("disabled",t.disabled)("fitInkBarToContent",o.fitInkBarToContent),Jt("tabIndex",o._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(r))("aria-selected",o.selectedIndex===r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),j(3),it("matRippleTrigger",i)("matRippleDisabled",t.disabled||o.disableRipple),j(3),Bt(t.templateLabel?6:7)}}function eP(n,e){n&1&&Qt(0)}function nP(n,e){if(n&1){let t=Wt();B(0,"mat-tab-body",13),ut("_onCentered",function(){gt(t);let i=Z();return ft(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){gt(t);let o=Z();return ft(o._setTabBodyWrapperHeight(i))})("_beforeCentering",function(i){gt(t);let o=Z();return ft(o._bodyCentered(i))}),V()}if(n&2){let t=e.$implicit,r=e.$index,i=Z();Si(t.bodyClass),it("id",i._getTabContentId(r))("content",t.content)("position",t.position)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Jt("tabindex",i.contentTabIndex!=null&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(t,r))("aria-hidden",i.selectedIndex!==r)}}var rP=new L("MatTabContent"),iP=(()=>{class n{template=f(sr);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matTabContent",""]],features:[ce([{provide:rP,useExisting:n}])]})}return n})(),oP=new L("MatTabLabel"),sM=new L("MAT_TAB"),sP=(()=>{class n extends B5{_closestTab=f(sM,{optional:!0});static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=st({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ce([{provide:oP,useExisting:n}]),pe]})}return n})(),aM=new L("MAT_TAB_GROUP"),Km=(()=>{class n{_viewContainerRef=f(Dn);_closestTabGroup=f(aM,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new nt;position=null;origin=null;isActive=!1;constructor(){f(Ye).load(dl)}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Vi(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tab"]],contentQueries:function(r,i,o){if(r&1&&Ii(o,sP,5)(o,iP,7,sr),r&2){let s;Rt(s=Pt())&&(i.templateLabel=s.first),Rt(s=Pt())&&(i._explicitContent=s.first)}},viewQuery:function(r,i){if(r&1&&kn(sr,7),r&2){let o;Rt(o=Pt())&&(i._implicitContent=o.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(r,i){r&2&&Jt("id",null)},inputs:{disabled:[2,"disabled","disabled",It],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[ce([{provide:sM,useExisting:n}]),hn],ngContentSelectors:Qm,decls:1,vars:0,template:function(r,i){r&1&&(be(),Q4(0,zR,1,0,"ng-template"))},encapsulation:2})}return n})(),$m="mdc-tab-indicator--active",rM="mdc-tab-indicator--no-transition",qm=class{_items;_currentItem;constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar()),this._currentItem=void 0}alignToElement(e){let t=this._items.find(i=>i.elementRef.nativeElement===e),r=this._currentItem;if(t!==r&&(r?.deactivateInkBar(),t)){let i=r?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(i),this._currentItem=t}}},aP=(()=>{class n{_elementRef=f(vt);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){let r=this._elementRef.nativeElement;if(!t||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add($m);return}let i=r.getBoundingClientRect(),o=t.width/i.width,s=t.left-i.left;r.classList.add(rM),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),r.getBoundingClientRect(),r.classList.remove(rM),r.classList.add($m),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove($m)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let t=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=t.createElement("span"),i=this._inkBarContentElement=t.createElement("span");r.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let t=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;t.appendChild(this._inkBarElement)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",It]}})}return n})();var lM=(()=>{class n extends aP{elementRef=f(vt);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275dir=st({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,i){r&2&&(Jt("aria-disabled",!!i.disabled),Et("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",It]},features:[pe]})}return n})(),iM={passive:!0},lP=650,cP=100,dP=(()=>{class n{_elementRef=f(vt);_changeDetectorRef=f(Re);_viewportRuler=f(Vo);_dir=f(pr,{optional:!0});_ngZone=f(ct);_platform=f($t);_sharedResizeObserver=f(b0);_injector=f(Tt);_renderer=f(ae);_animationsDisabled=xe();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new nt;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new nt;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let r=isNaN(t)?0:t;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}_selectedIndex=0;selectFocusedIndex=new jt;indexFocused=new jt;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),iM),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),iM))}ngAfterContentInit(){let t=this._dir?this._dir.change:_t("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Jr(32),re(this._destroyed)),i=this._viewportRuler.change(150).pipe(re(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Cd(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),je(o,{injector:this._injector}),Mi(t,i,r,this._items.changes,this._itemsResized()).pipe(re(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?Fn:this._items.changes.pipe(Mr(this._items),De(t=>new he(r=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>r.next(o));return t.forEach(o=>i.observe(o.elementRef.nativeElement)),()=>{i.disconnect()}}))),$a(1),Ut(t=>t.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!il(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager?.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this._items?!!this._items.toArray()[t]:!0}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let t=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let r=this._tabListContainer.nativeElement.offsetWidth,i=(t=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;let r=this._items?this._items.toArray()[t]:null;if(!r)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=r.elementRef.nativeElement,a,c;this._getLayoutDirection()=="ltr"?(a=o,c=a+s):(c=this._tabListInner.nativeElement.offsetWidth-o,a=c-s);let d=this.scrollDistance,u=this.scrollDistance+i;a<d?this.scrollDistance-=d-a:c>u&&(this.scrollDistance+=Math.min(c-u,a-d))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let t=this._tabListInner.nativeElement.scrollWidth,r=this._elementRef.nativeElement.offsetWidth,i=t-r>=5;i||(this.scrollDistance=0),i!==this._showPaginationControls&&(this._showPaginationControls=i,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return t-r||0}_alignInkBarToSelectedTab(){let t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),C4(lP,cP).pipe(re(Mi(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(t);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",It],selectedIndex:[2,"selectedIndex","selectedIndex",ri]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return n})(),hP=(()=>{class n extends dP{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new qm(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static \u0275fac=(()=>{let t;return function(i){return(t||(t=un(n)))(i||n)}})();static \u0275cmp=rt({type:n,selectors:[["mat-tab-header"]],contentQueries:function(r,i,o){if(r&1&&Ii(o,lM,4),r&2){let s;Rt(s=Pt())&&(i._items=s)}},viewQuery:function(r,i){if(r&1&&kn(HR,7)(UR,7)($R,7)(qR,5)(GR,5),r&2){let o;Rt(o=Pt())&&(i._tabListContainer=o.first),Rt(o=Pt())&&(i._tabList=o.first),Rt(o=Pt())&&(i._tabListInner=o.first),Rt(o=Pt())&&(i._nextPaginator=o.first),Rt(o=Pt())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,i){r&2&&Et("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",It]},features:[pe],ngContentSelectors:Qm,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(r,i){if(r&1){let o=Wt();be(),B(0,"div",5,0),ut("click",function(){return gt(o),ft(i._handlePaginatorClick("before"))})("mousedown",function(a){return gt(o),ft(i._handlePaginatorPress("before",a))})("touchend",function(){return gt(o),ft(i._stopInterval())}),bt(2,"div",6),V(),B(3,"div",7,1),ut("keydown",function(a){return gt(o),ft(i._handleKeydown(a))}),B(5,"div",8,2),ut("cdkObserveContent",function(){return gt(o),ft(i._onContentChanges())}),B(7,"div",9,3),Qt(9),V()()(),B(10,"div",10,4),ut("mousedown",function(a){return gt(o),ft(i._handlePaginatorPress("after",a))})("click",function(){return gt(o),ft(i._handlePaginatorClick("after"))})("touchend",function(){return gt(o),ft(i._stopInterval())}),bt(12,"div",6),V()}r&2&&(Et("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),it("matRippleDisabled",i._disableScrollBefore||i.disableRipple),j(3),Et("_mat-animation-noopable",i._animationsDisabled),j(2),Jt("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null),j(5),Et("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),it("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},dependencies:[Io,ab],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return n})(),uP=new L("MAT_TABS_CONFIG"),oM=(()=>{class n extends Pl{_host=f(Gm);_ngZone=f(ct);_centeringSub=Le.EMPTY;_leavingSub=Le.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Mr(this._host._isCenterPosition())).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matTabBodyHost",""]],features:[pe]})}return n})(),Gm=(()=>{class n{_elementRef=f(vt);_dir=f(pr,{optional:!0});_ngZone=f(ct);_injector=f(Tt);_renderer=f(ae);_diAnimationsDisabled=xe();_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=Le.EMPTY;_position;_previousPosition;_onCentering=new jt;_beforeCentering=new jt;_afterLeavingCenter=new jt;_onCentered=new jt(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(){if(this._dir){let t=f(Re);this._dirChangeSubscription=this._dir.change.subscribe(r=>{this._computePositionAnimationState(r),t.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),je(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(t=>t()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement,r=i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),i.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(t,"transitionstart",i=>{i.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(t,"transitionend",r),this._renderer.listen(t,"transitioncancel",r)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let t=this._position==="center";this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(t){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",t)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(t=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=t=="ltr"?"left":"right":this._positionIndex>0?this._position=t=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),je(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tab-body"]],viewQuery:function(r,i){if(r&1&&kn(oM,5)(WR,5),r&2){let o;Rt(o=Pt())&&(i._portalHost=o.first),Rt(o=Pt())&&(i._contentElement=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(r,i){r&2&&Jt("inert",i._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,i){r&1&&(B(0,"div",1,0),pn(2,QR,0,0,"ng-template",2),V()),r&2&&Et("mat-tab-body-content-left",i._position==="left")("mat-tab-body-content-right",i._position==="right")("mat-tab-body-content-can-animate",i._position==="center"||i._previousPosition==="center")},dependencies:[oM,Nm],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return n})(),cM=(()=>{class n{_elementRef=f(vt);_changeDetectorRef=f(Re);_ngZone=f(ct);_tabsSubscription=Le.EMPTY;_tabLabelSubscription=Le.EMPTY;_tabBodySubscription=Le.EMPTY;_diAnimationsDisabled=xe();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new nd;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(t){let r=t+"";this._animationDuration=/^\d+$/.test(r)?t+"ms":r}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(t){let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&r.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new jt;focusChange=new jt;animationDone=new jt;selectedTabChange=new jt(!0);_groupId;_isServer=!f($t).isBrowser;constructor(){let t=f(uP,{optional:!0});this._groupId=f(Pe).getId("mat-tab-group-"),this.animationDuration=t&&t.animationDuration?t.animationDuration:"500ms",this.disablePagination=t&&t.disablePagination!=null?t.disablePagination:!1,this.dynamicHeight=t&&t.dynamicHeight!=null?t.dynamicHeight:!1,t?.contentTabIndex!=null&&(this.contentTabIndex=t.contentTabIndex),this.preserveContent=!!t?.preserveContent,this.fitInkBarToContent=t&&t.fitInkBarToContent!=null?t.fitInkBarToContent:!1,this.stretchTabs=t&&t.stretchTabs!=null?t.stretchTabs:!0,this.alignTabs=t&&t.alignTabs!=null?t.alignTabs:null}ngAfterContentChecked(){let t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(t));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===t),r||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-t,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){let r=this._tabs.toArray(),i;for(let o=0;o<r.length;o++)if(r[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,i=r[o];break}!i&&r[t]&&Promise.resolve().then(()=>{r[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Mr(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){let r=this._tabHeader;r&&(r.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){let r=new Wm;return r.index=t,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[t]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Mi(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t,r){return t.id||`${this._groupId}-label-${r}`}_getTabContentId(t){return`${this._groupId}-content-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=t;return}let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=t+"px")}_removeTabBodyWrapperHeight(){let t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(t,r,i){r.focusIndex=i,t.disabled||(this.selectedIndex=i)}_getTabIndex(t){let r=this._lastFocusedTabIndex??this.selectedIndex;return t===r?0:-1}_tabFocusChanged(t,r){t&&t!=="mouse"&&t!=="touch"&&(this._tabHeader.focusIndex=r)}_bodyCentered(t){t&&this._tabBodies?.forEach((r,i)=>r._setActiveClass(i===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tab-group"]],contentQueries:function(r,i,o){if(r&1&&Ii(o,Km,5),r&2){let s;Rt(s=Pt())&&(i._allTabs=s)}},viewQuery:function(r,i){if(r&1&&kn(KR,5)(YR,5)(Gm,5),r&2){let o;Rt(o=Pt())&&(i._tabBodyWrapper=o.first),Rt(o=Pt())&&(i._tabHeader=o.first),Rt(o=Pt())&&(i._tabBodies=o)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(r,i){r&2&&(Jt("mat-align-tabs",i.alignTabs),Si("mat-"+(i.color||"primary")),sd("--mat-tab-animation-duration",i.animationDuration),Et("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",It],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",It],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",It],selectedIndex:[2,"selectedIndex","selectedIndex",ri],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",ri],disablePagination:[2,"disablePagination","disablePagination",It],disableRipple:[2,"disableRipple","disableRipple",It],preserveContent:[2,"preserveContent","preserveContent",It],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[ce([{provide:aM,useExisting:n}])],ngContentSelectors:Qm,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(r,i){if(r&1){let o=Wt();be(),B(0,"mat-tab-header",3,0),ut("indexFocused",function(a){return gt(o),ft(i._focusChanged(a))})("selectFocusedIndex",function(a){return gt(o),ft(i.selectedIndex=a)}),gn(2,tP,8,17,"div",4,Eg),V(),Ot(4,eP,1,0),B(5,"div",5,1),gn(7,nP,1,10,"mat-tab-body",6,Eg),V()}r&2&&(it("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),Z4("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),j(2),fn(i._tabs),j(2),Bt(i._isServer?4:-1),j(),Et("_mat-animation-noopable",i._animationsDisabled()),j(2),fn(i._tabs))},dependencies:[hP,lM,af,Io,Pl,Gm],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return n})(),Wm=class{index;tab};var dM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[ne]})}return n})();var hM=()=>{};var gM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gP=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,u=o>>2,g=(o&3)<<4|a>>4,w=(a&15)<<2|d>>6,k=d&63;c||(k=64,s||(w=64)),r.push(t[u],t[g],t[w],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||g==null)throw new Zm;let w=o<<2|a>>4;if(r.push(w),d!==64){let k=a<<4&240|d>>2;if(r.push(k),g!==64){let D=d<<6&192|g;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fP=function(n){let e=gM(n);return fM.encodeByteArray(e,!0)},uh=function(n){return fP(n).replace(/\./g,"")},L0=function(n){try{return fM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mP=()=>Jm().__FIREBASE_DEFAULTS__,vP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&L0(n[1]);return e&&JSON.parse(e)},j0=()=>{try{return hM()||mP()||vP()||wP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tv=n=>j0()?.emulatorHosts?.[n],mM=n=>{let e=tv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ev=()=>j0()?.config,nv=n=>j0()?.[`_${n}`];var F0=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Fo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z0(n){return(await fetch(n,{credentials:"include"})).ok}function vM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=I({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uh(JSON.stringify(t)),uh(JSON.stringify(s)),""].join(".")}var hh={};function _P(){let n={prod:[],emulator:[]};for(let e of Object.keys(hh))hh[e]?n.emulator.push(e):n.prod.push(e);return n}function yP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var uM=!1;function H0(n,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||hh[n]===e||hh[n]||uM)return;hh[n]=e;function t(w){return`__firebase__banner__${w}`}let r="__firebase__banner",o=_P().prod.length>0;function s(){let w=document.getElementById(r);w&&w.remove()}function a(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function c(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){let w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{uM=!0,s()},w}function u(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){let w=yP(r),k=t("text"),D=document.getElementById(k)||document.createElement("span"),F=t("learnmore"),T=document.getElementById(F)||document.createElement("a"),U=t("preprendIcon"),q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){let W=w.element;a(W),u(T,F);let dt=d();c(q,U),W.append(q,D,T,dt),document.body.appendChild(W)}o?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function _M(){let n=j0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xM(){let n=Se();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rv(){return!_M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iv(){return!_M()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function U0(){try{return typeof indexedDB=="object"}catch{return!1}}function MM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var kP="FirebaseError",Kn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kP,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fi.prototype.create)}},Fi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kn(i,a,r)}};function bP(n,e){return n.replace(xP,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var xP=/\{\$([^}]+)}/g;function CM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ci(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(pM(o)&&pM(s)){if(!ci(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function pM(n){return n!==null&&typeof n=="object"}function Vl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fl(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ll(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function EM(n,e){let t=new Xm(n,e);return t.subscribe.bind(t)}var Xm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ym),i.error===void 0&&(i.error=Ym),i.complete===void 0&&(i.complete=Ym);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function MP(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ym(){}var AX=14400*1e3;function Mn(n){return n&&n._delegate?n._delegate:n}var vr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $s="[DEFAULT]";var ov=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new F0;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EP(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CP(n){return n===$s?void 0:n}function EP(n){return n.instantiationMode==="EAGER"}var $0=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ov(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var IP=[],Lt=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Lt||{}),SP={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},AP=Lt.INFO,TP={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},DP=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=TP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lo=class{constructor(e){this.name=e,this._logLevel=AP,this._logHandler=DP,this._userLogHandler=null,IP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}};var RP=(n,e)=>e.some(t=>n instanceof t),IM,SM;function PP(){return IM||(IM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OP(){return SM||(SM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var AM=new WeakMap,av=new WeakMap,TM=new WeakMap,sv=new WeakMap,cv=new WeakMap;function BP(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(di(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&AM.set(t,n)}).catch(()=>{}),cv.set(e,n),e}function NP(n){if(av.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});av.set(n,e)}var lv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return av.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return di(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DM(n){lv=n(lv)}function VP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(q0(this),e,...t);return TM.set(r,e.sort?e.sort():[e]),di(r)}:OP().includes(n)?function(...e){return n.apply(q0(this),e),di(AM.get(this))}:function(...e){return di(n.apply(q0(this),e))}}function FP(n){return typeof n=="function"?VP(n):(n instanceof IDBTransaction&&NP(n),RP(n,PP())?new Proxy(n,lv):n)}function di(n){if(n instanceof IDBRequest)return BP(n);if(sv.has(n))return sv.get(n);let e=FP(n);return e!==n&&(sv.set(n,e),cv.set(e,n)),e}var q0=n=>cv.get(n);function PM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=di(s);return r&&s.addEventListener("upgradeneeded",c=>{r(di(s.result),c.oldVersion,c.newVersion,di(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var LP=["get","getKey","getAll","getAllKeys","count"],jP=["put","add","delete","clear"],dv=new Map;function RM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dv.get(e))return dv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=jP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LP.includes(t)))return;let o=async function(s,...a){let c=this.transaction(s,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),i&&c.done]))[0]};return dv.set(e,o),o}DM(n=>ot(I({},n),{get:(e,t,r)=>RM(e,t)||n.get(e,t,r),has:(e,t)=>!!RM(e,t)||n.has(e,t)}));var uv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zP(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function zP(n){return n.getComponent()?.type==="VERSION"}var pv="@firebase/app",OM="0.14.6";var Li=new Lo("@firebase/app"),HP="@firebase/app-compat",UP="@firebase/analytics-compat",$P="@firebase/analytics",qP="@firebase/app-check-compat",GP="@firebase/app-check",WP="@firebase/auth",QP="@firebase/auth-compat",KP="@firebase/database",YP="@firebase/data-connect",ZP="@firebase/database-compat",XP="@firebase/functions",JP="@firebase/functions-compat",tO="@firebase/installations",eO="@firebase/installations-compat",nO="@firebase/messaging",rO="@firebase/messaging-compat",iO="@firebase/performance",oO="@firebase/performance-compat",sO="@firebase/remote-config",aO="@firebase/remote-config-compat",lO="@firebase/storage",cO="@firebase/storage-compat",dO="@firebase/firestore",hO="@firebase/ai",uO="@firebase/firestore-compat",pO="firebase",gO="12.6.0";var gv="[DEFAULT]",fO={[pv]:"fire-core",[HP]:"fire-core-compat",[$P]:"fire-analytics",[UP]:"fire-analytics-compat",[GP]:"fire-app-check",[qP]:"fire-app-check-compat",[WP]:"fire-auth",[QP]:"fire-auth-compat",[KP]:"fire-rtdb",[YP]:"fire-data-connect",[ZP]:"fire-rtdb-compat",[XP]:"fire-fn",[JP]:"fire-fn-compat",[tO]:"fire-iid",[eO]:"fire-iid-compat",[nO]:"fire-fcm",[rO]:"fire-fcm-compat",[iO]:"fire-perf",[oO]:"fire-perf-compat",[sO]:"fire-rc",[aO]:"fire-rc-compat",[lO]:"fire-gcs",[cO]:"fire-gcs-compat",[dO]:"fire-fst",[uO]:"fire-fst-compat",[hO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};var G0=new Map,mO=new Map,fv=new Map;function BM(n,e){try{n.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zo(n){let e=n.name;if(fv.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;fv.set(e,n);for(let t of G0.values())BM(t,n);for(let t of mO.values())BM(t,n);return!0}function gh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mn(n){return n==null?!1:n.settings!==void 0}var vO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new Fi("app","Firebase",vO);var mv=class{constructor(e,t,r){this._isDeleted=!1,this._options=I({},e),this._config=I({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}};var Ho=gO;function _v(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=I({name:gv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw jo.create("bad-app-name",{appName:String(i)});if(t||(t=ev()),!t)throw jo.create("no-options");let o=G0.get(i);if(o){if(ci(t,o.options)&&ci(r,o.config))return o;throw jo.create("duplicate-app",{appName:i})}let s=new $0(i);for(let c of fv.values())s.addComponent(c);let a=new mv(t,r,s);return G0.set(i,a),a}function jl(n=gv){let e=G0.get(n);if(!e&&n===gv&&ev())return _v();if(!e)throw jo.create("no-app",{appName:n});return e}function Rr(n,e,t){let r=fO[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(s.join(" "));return}zo(new vr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var wO="firebase-heartbeat-database",_O=1,ph="firebase-heartbeat-store",hv=null;function LM(){return hv||(hv=PM(wO,_O,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ph)}catch(t){console.warn(t)}}}}).catch(n=>{throw jo.create("idb-open",{originalErrorMessage:n.message})})),hv}async function yO(n){try{let t=(await LM()).transaction(ph),r=await t.objectStore(ph).get(jM(n));return await t.done,r}catch(e){if(e instanceof Kn)Li.warn(e.message);else{let t=jo.create("idb-get",{originalErrorMessage:e?.message});Li.warn(t.message)}}}async function NM(n,e){try{let r=(await LM()).transaction(ph,"readwrite");await r.objectStore(ph).put(e,jM(n)),await r.done}catch(t){if(t instanceof Kn)Li.warn(t.message);else{let r=jo.create("idb-set",{originalErrorMessage:t?.message});Li.warn(r.message)}}}function jM(n){return`${n.name}!${n.options.appId}`}var kO=1024,bO=30,vv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new wv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=VM();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>bO){let i=MO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=VM(),{heartbeatsToSend:t,unsentEntries:r}=xO(this._heartbeatsCache.heartbeats),i=uh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Li.warn(e),""}}};function VM(){return new Date().toISOString().substring(0,10)}function xO(n,e=kO){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var wv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U0()?MM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await yO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return NM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return NM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function FM(n){return uh(JSON.stringify({version:2,heartbeats:n})).length}function MO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function CO(n){zo(new vr("platform-logger",e=>new uv(e),"PRIVATE")),zo(new vr("heartbeat",e=>new vv(e),"PRIVATE")),Rr(pv,OM,n),Rr(pv,OM,"esm2020"),Rr("fire-js","")}CO("");function nC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rC=nC,iC=new Fi("auth","Firebase",nC());var X0=new Lo("@firebase/auth");function EO(n,...e){X0.logLevel<=Lt.WARN&&X0.warn(`Auth (${Ho}): ${n}`,...e)}function Q0(n,...e){X0.logLevel<=Lt.ERROR&&X0.error(`Auth (${Ho}): ${n}`,...e)}function wr(n,...e){throw Hv(n,...e)}function Pr(n,...e){return Hv(n,...e)}function zv(n,e,t){let r=ot(I({},rC()),{[e]:t});return new Fi("auth","Firebase",r).create(e,{appName:n.name})}function hi(n){return zv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IO(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(n,"argument-error"),zv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iC.create(n,...e)}function xt(n,e,...t){if(!n)throw Hv(e,...t)}function ji(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Q0(e),new Error(e)}function Hi(n,e){n||ji(e)}function bv(){return typeof self<"u"&&self.location?.href||""}function SO(){return zM()==="http:"||zM()==="https:"}function zM(){return typeof self<"u"&&self.location?.protocol||null}function AO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||kM()||"connection"in navigator)?navigator.onLine:!0}function TO(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var qs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=wM()||bM()}get(){return AO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Uv(n,e){Hi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var J0=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PO=new qs(3e4,6e4);function Go(n,e){return n.tenantId&&!e.tenantId?ot(I({},e),{tenantId:n.tenantId}):e}async function Wo(n,e,t,r,i={}){return oC(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Vl(I({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=I({method:e,headers:c},o);return yM()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(d.credentials="include"),J0.fetch()(await sC(n,n.config.apiHost,t,a),d)})}async function oC(n,e,t){n._canInitEmulator=!1;let r=I(I({},DO),e);try{let i=new xv(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw W0(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw W0(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw W0(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw W0(n,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw zv(n,u,d);wr(n,u)}}catch(i){if(i instanceof Kn)throw i;wr(n,"network-request-failed",{message:String(i)})}}async function xh(n,e,t,r,i={}){let o=await Wo(n,e,t,r,i);return"mfaPendingCredential"in o&&wr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function sC(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Uv(n.config,i):`${n.config.apiScheme}://${i}`;return RO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function OO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var xv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),PO.get())})}};function W0(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Pr(n,e,r);return i.customData._tokenResponse=t,i}function HM(n){return n!==void 0&&n.enterprise!==void 0}var Mv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function BO(n,e){return Wo(n,"GET","/v2/recaptchaConfig",Go(n,e))}async function NO(n,e){return Wo(n,"POST","/v1/accounts:delete",e)}async function t2(n,e){return Wo(n,"POST","/v1/accounts:lookup",e)}function mh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aC(n,e=!1){let t=Mn(n),r=await t.getIdToken(e),i=$v(r);xt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:mh(yv(i.auth_time)),issuedAtTime:mh(yv(i.iat)),expirationTime:mh(yv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function yv(n){return Number(n)*1e3}function $v(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Q0("JWT malformed, contained fewer than 3 sections"),null;try{let i=L0(t);return i?JSON.parse(i):(Q0("Failed to decode base64 JWT payload"),null)}catch(i){return Q0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UM(n){let e=$v(n);return xt(e,"internal-error"),xt(typeof e.exp<"u","internal-error"),xt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Kn&&VO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function VO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Cv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var _h=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function e2(n){let e=n.auth,t=await n.getIdToken(),r=await wh(n,t2(e,{idToken:t}));xt(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?cC(i.providerUserInfo):[],s=FO(n.providerData,o),a=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!s?.length,d=a?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _h(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,u)}async function lC(n){let e=Mn(n);await e2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cC(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Jc(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function LO(n,e){let t=await oC(n,{},async()=>{let r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await sC(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(c.credentials="include"),J0.fetch()(s,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jO(n,e){return Wo(n,"POST","/v2/accounts:revokeToken",Go(n,e))}var vh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xt(e.idToken,"internal-error"),xt(typeof e.idToken<"u","internal-error"),xt(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xt(e.length!==0,"internal-error");let t=UM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await LO(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(xt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(xt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(xt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ji("not implemented")}};function Uo(n,e){xt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var $o=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=Jc(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _h(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await wh(this,this.stsTokenManager.getToken(this.auth,e));return xt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aC(this,e)}reload(){return lC(this)}_assign(e){this!==e&&(xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>I({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(ot(I({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await e2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(hi(this.auth));let e=await this.getIdToken();return await wh(this,NO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ot(I({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>I({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,c=t._redirectEventId??void 0,d=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:k,providerData:D,stsTokenManager:F}=t;xt(g&&F,e,"internal-error");let T=vh.fromJSON(this.name,F);xt(typeof g=="string",e,"internal-error"),Uo(r,e.name),Uo(i,e.name),xt(typeof w=="boolean",e,"internal-error"),xt(typeof k=="boolean",e,"internal-error"),Uo(o,e.name),Uo(s,e.name),Uo(a,e.name),Uo(c,e.name),Uo(d,e.name),Uo(u,e.name);let U=new n({uid:g,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:k,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:T,createdAt:d,lastLoginAt:u});return D&&Array.isArray(D)&&(U.providerData=D.map(q=>I({},q))),c&&(U._redirectEventId=c),U}static async _fromIdTokenResponse(e,t,r=!1){let i=new vh;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await e2(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];xt(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?cC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _h(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,d),c}};var $M=new Map;function zi(n){Hi(n instanceof Function,"Expected a class definition");let e=$M.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$M.set(n,e),e)}var zO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ev=zO;function K0(n,e,t){return`firebase:${n}:${e}:${t}`}var n2=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=K0(this.userKey,i.apiKey,o),this.fullPersistenceKey=K0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await t2(this.auth,{idToken:e}).catch(()=>{});return t?$o._fromGetAccountInfoResponse(this.auth,t,e):null}return $o._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(zi(Ev),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||zi(Ev),s=K0(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let u=await d._get(s);if(u){let g;if(typeof u=="string"){let w=await t2(e,{idToken:u}).catch(()=>{});if(!w)break;g=await $o._fromGetAccountInfoResponse(e,w,u)}else g=$o._fromJSON(e,u);d!==o&&(a=g),o=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new n(o,e,r))}};function qM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(mC(e))return"Webos";if(hC(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(gC(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function dC(n=Se()){return/firefox\//i.test(n)}function hC(n=Se()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(n=Se()){return/crios\//i.test(n)}function pC(n=Se()){return/iemobile/i.test(n)}function gC(n=Se()){return/android/i.test(n)}function fC(n=Se()){return/blackberry/i.test(n)}function mC(n=Se()){return/webos/i.test(n)}function qv(n=Se()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HO(n=Se()){return qv(n)&&!!window.navigator?.standalone}function UO(){return xM()&&document.documentMode===10}function vC(n=Se()){return qv(n)||gC(n)||mC(n)||fC(n)||/windows phone/i.test(n)||pC(n)}function wC(n,e=[]){let t;switch(n){case"Browser":t=qM(Se());break;case"Worker":t=`${qM(Se())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${r}`}var Iv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function $O(n,e={}){return Wo(n,"GET","/v2/passwordPolicy",Go(n,e))}var qO=6,Sv=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Av=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r2(this),this.idTokenSubscription=new r2(this),this.beforeStateQueue=new Iv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await n2.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await t2(this,{idToken:e}),r=await $o._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await e2(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(hi(this));let t=e?Mn(e):null;return t&&xt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await $O(this),t=new Sv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&zi(e)||this._popupRedirectResolver;xt(t,this,"argument-error"),this.redirectPersistenceManager=await n2.create(this,[zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EO(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Ui(n){return Mn(n)}var r2=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=EM(t=>this.observer=t)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var u2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GO(n){u2=n}function _C(n){return u2.loadJS(n)}function WO(){return u2.recaptchaEnterpriseScript}function QO(){return u2.gapiScript}function yC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Tv=class{constructor(){this.enterprise=new Dv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Dv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var KO="recaptcha-enterprise",kC="NO_RECAPTCHA",Rv=class{constructor(e){this.type=KO,this.auth=Ui(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{BO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Mv(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(c=>{a(c)})})}function i(o,s,a){let c=window.grecaptcha;HM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(kC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&HM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=WO();c.length!==0&&(c+=a),_C(c).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})}};async function fh(n,e,t,r=!1,i=!1){let o=new Rv(n),s;if(i)s=kC;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=I({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Pv(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await fh(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await fh(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await fh(n,e,t);return r(n,o).catch(async s=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await fh(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)})}else{let o=await fh(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")}function bC(n,e){let t=gh(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ci(o,e??{}))return i;wr(i,"already-initialized")}return t.initialize({options:e})}function YO(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function xC(n,e,t){let r=Ui(n);xt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=MC(e),{host:s,port:a}=ZO(e),c=a===null?"":`:${a}`,d={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xt(ci(d,r.config.emulator)&&ci(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Fo(s)?(z0(`${o}//${s}${c}`),H0("Auth",!0)):i||XO()}function MC(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZO(n){let e=MC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:GM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:GM(s)}}}function GM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function XO(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Hl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}};async function JO(n,e){return Wo(n,"POST","/v1/accounts:signUp",e)}async function tB(n,e){return xh(n,"POST","/v1/accounts:signInWithPassword",Go(n,e))}async function eB(n,e){return xh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}async function nB(n,e){return xh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}var yh=class n extends Hl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(e,t,"signInWithPassword",tB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eB(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(e,r,"signUpPassword",JO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nB(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function zl(n,e){return xh(n,"POST","/v1/accounts:signInWithIdp",Go(n,e))}var rB="http://localhost",i2=class n extends Hl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let a=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=a,o=Jc(a,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,zl(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){let e={requestUri:rB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}};function iB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oB(n){let e=Fl(Ll(n)).link,t=e?Fl(Ll(e)).deep_link_id:null,r=Fl(Ll(n)).deep_link_id;return(r?Fl(Ll(r)).link:null)||r||t||e||n}var o2=class n{constructor(e){let t=Fl(Ll(e)),r=t.apiKey??null,i=t.oobCode??null,o=iB(t.mode??null);xt(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=oB(e);try{return new n(t)}catch{return null}}};var CC=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return yh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=o2.parseLink(r);return xt(i,"argument-error"),yh._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),kh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var s2=class extends kh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Gv=(()=>{class n extends s2{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return i2._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();async function EC(n,e){return xh(n,"POST","/v1/accounts:signUp",Go(n,e))}var qo=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await $o._fromIdTokenResponse(e,r,i),s=WM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=WM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function WM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function Wv(n){if(mn(n.app))return Promise.reject(hi(n));let e=Ui(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new qo({user:e.currentUser,providerId:null,operationType:"signIn"});let t=await EC(e,{returnSecureToken:!0}),r=await qo._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}var Ov=class n extends Kn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function IC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ov._fromErrorAndOperation(n,o,e,r):o})}async function sB(n,e,t=!1){let r=await wh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qo._forOperation(n,"link",r)}async function aB(n,e,t=!1){let{auth:r}=n;if(mn(r.app))return Promise.reject(hi(r));let i="reauthenticate";try{let o=await wh(n,IC(r,i,e,n),t);xt(o.idToken,r,"internal-error");let s=$v(o.idToken);xt(s,r,"internal-error");let{sub:a}=s;return xt(n.uid===a,r,"user-mismatch"),qo._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wr(r,"user-mismatch"),o}}async function SC(n,e,t=!1){if(mn(n.app))return Promise.reject(hi(n));let r="signIn",i=await IC(n,r,e),o=await qo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function AC(n,e){return SC(Ui(n),e)}async function TC(n){let e=Ui(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qv(n,e,t){if(mn(n.app))return Promise.reject(hi(n));let r=Ui(n),s=await Pv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EC,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&TC(n),c}),a=await qo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Kv(n,e,t){return mn(n.app)?Promise.reject(hi(n)):AC(Mn(n),CC.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TC(n),r})}function DC(n,e,t,r){return Mn(n).onIdTokenChanged(e,t,r)}function RC(n,e,t){return Mn(n).beforeAuthStateChanged(e,t)}function Yv(n,e,t,r){return Mn(n).onAuthStateChanged(e,t,r)}function Zv(n){return Mn(n).signOut()}var a2="__sak";var l2=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(a2,"1"),this.storage.removeItem(a2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var lB=1e3,cB=10,dB=(()=>{class n extends l2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);UO()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,cB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},lB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),PC=dB;var hB=(()=>{class n extends l2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Xv=hB;function uB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var pB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(async u=>u(r.origin,s)),d=await uB(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Jv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Bv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let d=Jv("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let w=g;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(w.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function ui(){return window}function gB(n){ui().location.href=n}function OC(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function fB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mB(){return navigator?.serviceWorker?.controller||null}function vB(){return OC()?self:null}var BC="firebaseLocalStorageDb",wB=1,c2="firebaseLocalStorage",NC="fbase_key",Gs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function p2(n,e){return n.transaction([c2],e?"readwrite":"readonly").objectStore(c2)}function _B(){let n=indexedDB.deleteDatabase(BC);return new Gs(n).toPromise()}function Nv(){let n=indexedDB.open(BC,wB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(c2,{keyPath:NC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(c2)?e(r):(r.close(),await _B(),e(await Nv()))})})}async function QM(n,e,t){let r=p2(n,!0).put({[NC]:e,value:t});return new Gs(r).toPromise()}async function yB(n,e){let t=p2(n,!1).get(e),r=await new Gs(t).toPromise();return r===void 0?null:r.value}function KM(n,e){let t=p2(n,!0).delete(e);return new Gs(t).toPromise()}var kB=800,bB=3,xB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nv(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>bB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pB._getInstance(vB()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fB(),!this.activeServiceWorker)return;this.sender=new Bv(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await Nv();return await QM(t,a2,"1"),await KM(t,a2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>QM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>yB(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>KM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=p2(o,!1).getAll();return new Gs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),VC=xB;var eJ=yC("rcb"),nJ=new qs(3e4,6e4);function FC(n,e){return e?zi(e):(xt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var bh=class extends Hl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function MB(n){return SC(n.auth,new bh(n),n.bypassAuthState)}function CB(n){let{auth:e,user:t}=n;return xt(t,e,"internal-error"),aB(t,new bh(n),n.bypassAuthState)}async function EB(n){let{auth:e,user:t}=n;return xt(t,e,"internal-error"),sB(t,new bh(n),n.bypassAuthState)}var d2=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MB;case"linkViaPopup":case"linkViaRedirect":return EB;case"reauthViaPopup":case"reauthViaRedirect":return CB;default:wr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var IB=new qs(2e3,1e4);async function tw(n,e,t){if(mn(n.app))return Promise.reject(Pr(n,"operation-not-supported-in-this-environment"));let r=Ui(n);IO(n,e,kh);let i=FC(r,t);return new SB(r,"signInViaPopup",e,i).executeNotNull()}var SB=(()=>{class n extends d2{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}async executeNotNull(){let t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");let t=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IB.get())};t()}}n.currentPopupAction=null;return n})(),AB="pendingRedirect",Y0=new Map,Vv=class extends d2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Y0.get(this.auth._key());if(!e){try{let r=await TB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Y0.set(this.auth._key(),e)}return this.bypassAuthState||Y0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function TB(n,e){let t=PB(e),r=RB(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function DB(n,e){Y0.set(n._key(),e)}function RB(n){return zi(n._redirectPersistence)}function PB(n){return K0(AB,n.config.apiKey,n.name)}async function OB(n,e,t=!1){if(mn(n.app))return Promise.reject(hi(n));let r=Ui(n),i=FC(r,e),s=await new Vv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var BB=600*1e3,Fv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!LC(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Pr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BB&&this.cachedEventUids.clear(),this.cachedEventUids.has(YM(e))}saveEventToCache(e){this.cachedEventUids.add(YM(e)),this.lastProcessedEventTime=Date.now()}};function YM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function NB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LC(n);default:return!1}}async function VB(n,e={}){return Wo(n,"GET","/v1/projects",e)}var FB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LB=/^https?/;async function jB(n){if(n.config.emulator)return;let{authorizedDomains:e}=await VB(n);for(let t of e)try{if(zB(t))return}catch{}wr(n,"unauthorized-domain")}function zB(n){let e=bv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!LB.test(t))return!1;if(FB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HB=new qs(3e4,6e4);function ZM(){let n=ui().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UB(n){return new Promise((e,t)=>{function r(){ZM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZM(),t(Pr(n,"network-request-failed"))},timeout:HB.get()})}if(ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ui().gapi?.load)r();else{let i=yC("iframefcb");return ui()[i]=()=>{gapi.load?r():t(Pr(n,"network-request-failed"))},_C(`${QO()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Z0=null,e})}var Z0=null;function $B(n){return Z0=Z0||UB(n),Z0}var qB=new qs(5e3,15e3),GB="__/auth/iframe",WB="emulator/auth/iframe",QB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YB(n){let e=n.config;xt(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Uv(e,WB):`https://${n.config.authDomain}/${GB}`,r={apiKey:e.apiKey,appName:n.name,v:Ho},i=KB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Vl(r).slice(1)}`}async function ZB(n){let e=await $B(n),t=ui().gapi;return xt(t,n,"internal-error"),e.open({where:document.body,url:YB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Pr(n,"network-request-failed"),a=ui().setTimeout(()=>{o(s)},qB.get());function c(){ui().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}var XB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JB=500,tN=600,eN="_blank",nN="http://localhost",h2=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function rN(n,e,t,r=JB,i=tN){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=ot(I({},XB),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Se().toLowerCase();t&&(a=uC(d)?eN:t),dC(d)&&(e=e||nN,c.scrollbars="yes");let u=Object.entries(c).reduce((w,[k,D])=>`${w}${k}=${D},`,"");if(HO(d)&&a!=="_self")return iN(e||"",a),new h2(null);let g=window.open(e||"",a,u);xt(g,n,"popup-blocked");try{g.focus()}catch{}return new h2(g)}function iN(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var oN="__/auth/handler",sN="emulator/auth/handler",aN=encodeURIComponent("fac");async function XM(n,e,t,r,i,o){xt(n.config.authDomain,n,"auth-domain-config-required"),xt(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ho,eventId:i};if(e instanceof kh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",CM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,g]of Object.entries(o||{}))s[u]=g}if(e instanceof s2){let u=e.getScopes().filter(g=>g!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=await n._getAppCheckToken(),d=c?`#${aN}=${encodeURIComponent(c)}`:"";return`${lN(n)}?${Vl(a).slice(1)}${d}`}function lN({config:n}){return n.emulator?Uv(n,sN):`https://${n.authDomain}/${oN}`}var kv="webStorageSupport",Lv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=OB,this._overrideRedirectResult=DB}async _openPopup(e,t,r,i){Hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await XM(e,t,r,bv(),i);return rN(e,o,Jv())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await XM(e,t,r,bv(),i);return gB(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await ZB(e),r=new Fv(e);return t.register("authEvent",i=>(xt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kv,{type:kv},i=>{let o=i?.[0]?.[kv];o!==void 0&&t(!!o),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vC()||hC()||qv()}},jC=Lv;var JM="@firebase/auth",tC="1.12.0";var jv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dN(n){zo(new vr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;xt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wC(n)},d=new Av(r,i,o,c);return YO(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zo(new vr("auth-internal",e=>{let t=Ui(e.getProvider("auth").getImmediate());return(r=>new jv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(JM,tC,cN(n)),Rr(JM,tC,"esm2020")}var hN=300,uN=nv("authIdTokenMaxAge")||hN,eC=null,pN=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uN)return;let i=t?.token;eC!==i&&(eC=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qo(n=jl()){let e=gh(n,"auth");if(e.isInitialized())return e.getImmediate();let t=bC(n,{popupRedirectResolver:jC,persistence:[VC,PC,Xv]}),r=nv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=pN(o.toString());RC(t,s,()=>s(t.currentUser)),DC(t,a=>s(a))}}let i=tv("auth");return i&&xC(t,`http://${i}`),t}function gN(){return document.getElementsByTagName("head")?.[0]??document}GO({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Pr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",gN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dN("Browser");var zt={addQuiz:ge("[Quiz] Add Quiz",Xe()),addSession:ge("[Quiz] Add Session",Xe()),previousQuestion:ge("[Quiz] Previous Question"),nextQuestion:ge("[Quiz] Next Question"),answerCurrent:ge("[Quiz] Answer Current",Xe()),openQuiz:ge("[Quiz] Open Quiz",Xe()),createQuizSession:ge("[Quiz] Create Session",Xe()),goToNewSession:ge("[Quiz] Go To New Session"),goBack:ge("[Quiz] Go back"),openSession:ge("[Quiz] Open Session",Xe()),selectAnswer:ge("[Quiz] Select Answer",Xe()),updateQuestionSoundIndex:ge("[Quiz] Update Question Sound Played",Xe()),updateOptionSoundIndex:ge("[Quiz] Update Option Sound Played",Xe()),restoreState:ge("[App] Restore State",Xe()),practiceOpened:ge("[Quiz] Practice Opened",Xe())};var Ul=(r=>(r.Letter="letter",r.Sound="sound",r.Name="name",r))(Ul||{});function $l(n,e){if(n>e){let a=n;n=e,e=a}let t=Math.ceil(n),i=Math.floor(e)-t,s=Math.random()*i+t;return Math.floor(s)}function zC(n){let e=n.length;for(;e!==0;){let t=Math.floor(Math.random()*e);e--,[n[e],n[t]]=[n[t],n[e]]}}var pi=[{letter:"i",name:"Close front unrounded",symbol:{entities:["&#105;"],unicodes:["U+0069"],names:["Latin Small Letter I"]},id:"vowel-1"},{letter:"y",name:"Close front rounded",symbol:{entities:["&#121;"],unicodes:["U+0079"],names:["Latin Small Letter Y"]},id:"vowel-2"},{letter:"\u0268",name:"Close central unrounded",symbol:{entities:["&#616;"],unicodes:["U+0268"],names:["Latin Small Letter I with Stroke"]},id:"vowel-3"},{letter:"\u0289",name:"Close central rounded",symbol:{entities:["&#649;"],unicodes:["U+0289"],names:["Latin Small Letter U Bar"]},id:"vowel-4"},{letter:"\u026F",name:"Close back unrounded",symbol:{entities:["&#623;"],unicodes:["U+026f"],names:["Latin Small Letter Turned M"]},id:"vowel-5"},{letter:"u",name:"Close back rounded",symbol:{entities:["&#117;"],unicodes:["U+0075"],names:["Latin Small Letter U"]},id:"vowel-6"},{letter:"\u026A",name:"Near-close near-front unrounded",symbol:{entities:["&#618;"],unicodes:["U+026a"],names:["Latin Letter Small Capital I"]},id:"vowel-7"},{letter:"\u028F",name:"Near-close near-front rounded",symbol:{entities:["&#655;"],unicodes:["U+028f"],names:["Latin Letter Small Capital Y"]},id:"vowel-8"},{letter:"\u028A",name:"Near-close near-back rounded",symbol:{entities:["&#650;"],unicodes:["U+028a"],names:["Latin Small Letter Upsilon"]},id:"vowel-9"},{letter:"e",name:"Close-mid front unrounded",symbol:{entities:["&#101;"],unicodes:["U+0065"],names:["Latin Small Letter E"]},id:"vowel-10"},{letter:"\xF8",name:"Close-mid front rounded",symbol:{entities:["&#248;"],unicodes:["U+00f8"],names:["Latin Small Letter O with Stroke"]},id:"vowel-11"},{letter:"\u0258",name:"Close-mid central unrounded",symbol:{entities:["&#600;"],unicodes:["U+0258"],names:["Latin Small Letter Reversed E"]},id:"vowel-12"},{letter:"\u0275",name:"Close-mid central rounded",symbol:{entities:["&#629;"],unicodes:["U+0275"],names:["Latin Small Letter Barred O"]},id:"vowel-13"},{letter:"\u0264",name:"Close-mid back unrounded",symbol:{entities:["&#612;"],unicodes:["U+0264"],names:["Latin Small Letter Rams Horn"]},id:"vowel-14"},{letter:"o",name:"Close-mid back rounded",symbol:{entities:["&#111;"],unicodes:["U+006f"],names:["Latin Small Letter O"]},id:"vowel-15"},{letter:"e\u031E",name:"Mid front unrounded",symbol:{entities:["&#101;","&#798;"],unicodes:["U+0065","U+031e"],names:["Latin Small Letter E","Combining Down Tack Below"]},id:"vowel-16"},{letter:"\xF8\u031E",name:"Mid front rounded",symbol:{entities:["&#248;","&#798;"],unicodes:["U+00f8","U+031e"],names:["Latin Small Letter O with Stroke","Combining Down Tack Below"]},id:"vowel-17"},{letter:"\u0259",name:"Mid central",symbol:{entities:["&#601;"],unicodes:["U+0259"],names:["Latin Small Letter Schwa"]},id:"vowel-18"},{letter:"\u0264\u031E",name:"Mid back unrounded",symbol:{entities:["&#612;","&#798;"],unicodes:["U+0264","U+031e"],names:["Latin Small Letter Rams Horn","Combining Down Tack Below"]},id:"vowel-19"},{letter:"o\u031E",name:"Mid back rounded",symbol:{entities:["&#111;","&#798;"],unicodes:["U+006f","U+031e"],names:["Latin Small Letter O","Combining Down Tack Below"]},id:"vowel-20"},{letter:"\u025B",name:"Open-mid front unrounded",symbol:{entities:["&#603;"],unicodes:["U+025b"],names:["Latin Small Letter Open E"]},id:"vowel-21"},{letter:"\u0153",name:"Open-mid front rounded",symbol:{entities:["&#339;"],unicodes:["U+0153"],names:["Latin Small Ligature Oe"]},id:"vowel-22"},{letter:"\u025C",name:"Open-mid central unrounded",symbol:{entities:["&#604;"],unicodes:["U+025c"],names:["Latin Small Letter Reversed Open E"]},id:"vowel-23"},{letter:"\u025E",name:"Open-mid central rounded",symbol:{entities:["&#606;"],unicodes:["U+025e"],names:["Latin Small Letter Closed Reversed Open E"]},id:"vowel-24"},{letter:"\u028C",name:"Open-mid back unrounded",symbol:{entities:["&#652;"],unicodes:["U+028c"],names:["Latin Small Letter Turned V"]},id:"vowel-25"},{letter:"\u0254",name:"Open-mid back rounded",symbol:{entities:["&#596;"],unicodes:["U+0254"],names:["Latin Small Letter Open O"]},id:"vowel-26"},{letter:"\xE6",name:"Near-open front unrounded",symbol:{entities:["&#230;"],unicodes:["U+00e6"],names:["Latin Small Letter Ae"]},id:"vowel-27"},{letter:"\u0250",name:"Near-open central",symbol:{entities:["&#592;"],unicodes:["U+0250"],names:["Latin Small Letter Turned A"]},id:"vowel-28"},{letter:"a",name:"Open front unrounded",symbol:{entities:["&#97;"],unicodes:["U+0061"],names:["Latin Small Letter A"]},id:"vowel-29"},{letter:"\u0276",name:"Open front rounded",symbol:{entities:["&#630;"],unicodes:["U+0276"],names:["Latin Letter Small Capital Oe"]},id:"vowel-30"},{letter:"\xE4",name:"Open central unrounded",symbol:{entities:["&#228;"],unicodes:["U+00e4"],names:["Latin Small Letter A with Diaeresis"]},id:"vowel-31"},{letter:"\u0251",name:"Open back unrounded",symbol:{entities:["&#593;"],unicodes:["U+0251"],names:["Latin Small Letter Alpha"]},id:"vowel-32"},{letter:"\u0252",name:"Open back rounded",symbol:{entities:["&#594;"],unicodes:["U+0252"],names:["Latin Small Letter Turned Alpha"]},id:"vowel-33"}];function fN(){let t=new Set,r=new Map;for(;t.size<10;){let d=new Set,u=1,g=pi.length,w=`vowel-${$l(u,g+1)}`;for(t.add(w),d.add(w);d.size<5;){let D=`vowel-${$l(u,g+1)}`;d.add(D)}let k=[...d].map(D=>pi.find(F=>F.id===D)).filter(D=>D!==void 0);r.set(w,k)}let i=[...t].map(d=>pi.find(u=>u.id===d)).filter(d=>d!==void 0),o=["letter","sound","name"],s=0,a=2;return i.map((d,u)=>{let g=new Set;for(;g.size<3;){let T=$l(s,a+1);g.add(o[T])}let[w,...k]=[...g.values()],D=r.get(d.id).map(T=>ot(I({},T),{type:Math.random()<.5?k[0]:k[1]}));return zC(D),{vowel:d,answered:!1,type:w,index:u,selectedAnswer:void 0,options:Object.fromEntries(D.map(T=>[T.id,T]))}})}function mN(n){let e=new Map;for(let t of n)for(let r of Object.values(t.options??{}))e.set(r.id,r);return e}async function ew(n,e){let t=mN(n),r=new Map;for(let i of t.values()){let o=await e.listSoundsByChars(i.letter),s=o.length>0?o:await e.listSoundsByUnicodes(i.symbol.unicodes);r.set(i.id,s)}for(let i of n){if(i.type==="sound"){let o=r.get(i.vowel.id);o&&o.length>0&&(i.vowel.sounds=o,i.vowel.soundIndex??=$l(0,o.length))}for(let o of Object.values(i.options??{})){let s=r.get(o.id);s&&s?.length>0&&(o.sounds=s,o.soundIndex??=$l(0,s.length))}}}async function nw(n){let e=fN();try{await ew(e,n)}catch(t){console.warn("[createQuestionsWithSounds] Unable to preload sounds; continuing without sound metadata.",t)}return e}var HC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},UC={};var $i,rw;(function(){var n;function e(C,y){function M(){}M.prototype=y.prototype,C.F=y.prototype,C.prototype=new M,C.prototype.constructor=C,C.D=function(S,E,R){for(var x=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)x[cn-2]=arguments[cn];return y.prototype[E].apply(S,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,y,M){M||(M=0);let S=Array(16);if(typeof y=="string")for(var E=0;E<16;++E)S[E]=y.charCodeAt(M++)|y.charCodeAt(M++)<<8|y.charCodeAt(M++)<<16|y.charCodeAt(M++)<<24;else for(E=0;E<16;++E)S[E]=y[M++]|y[M++]<<8|y[M++]<<16|y[M++]<<24;y=C.g[0],M=C.g[1],E=C.g[2];let R=C.g[3],x;x=y+(R^M&(E^R))+S[0]+3614090360&4294967295,y=M+(x<<7&4294967295|x>>>25),x=R+(E^y&(M^E))+S[1]+3905402710&4294967295,R=y+(x<<12&4294967295|x>>>20),x=E+(M^R&(y^M))+S[2]+606105819&4294967295,E=R+(x<<17&4294967295|x>>>15),x=M+(y^E&(R^y))+S[3]+3250441966&4294967295,M=E+(x<<22&4294967295|x>>>10),x=y+(R^M&(E^R))+S[4]+4118548399&4294967295,y=M+(x<<7&4294967295|x>>>25),x=R+(E^y&(M^E))+S[5]+1200080426&4294967295,R=y+(x<<12&4294967295|x>>>20),x=E+(M^R&(y^M))+S[6]+2821735955&4294967295,E=R+(x<<17&4294967295|x>>>15),x=M+(y^E&(R^y))+S[7]+4249261313&4294967295,M=E+(x<<22&4294967295|x>>>10),x=y+(R^M&(E^R))+S[8]+1770035416&4294967295,y=M+(x<<7&4294967295|x>>>25),x=R+(E^y&(M^E))+S[9]+2336552879&4294967295,R=y+(x<<12&4294967295|x>>>20),x=E+(M^R&(y^M))+S[10]+4294925233&4294967295,E=R+(x<<17&4294967295|x>>>15),x=M+(y^E&(R^y))+S[11]+2304563134&4294967295,M=E+(x<<22&4294967295|x>>>10),x=y+(R^M&(E^R))+S[12]+1804603682&4294967295,y=M+(x<<7&4294967295|x>>>25),x=R+(E^y&(M^E))+S[13]+4254626195&4294967295,R=y+(x<<12&4294967295|x>>>20),x=E+(M^R&(y^M))+S[14]+2792965006&4294967295,E=R+(x<<17&4294967295|x>>>15),x=M+(y^E&(R^y))+S[15]+1236535329&4294967295,M=E+(x<<22&4294967295|x>>>10),x=y+(E^R&(M^E))+S[1]+4129170786&4294967295,y=M+(x<<5&4294967295|x>>>27),x=R+(M^E&(y^M))+S[6]+3225465664&4294967295,R=y+(x<<9&4294967295|x>>>23),x=E+(y^M&(R^y))+S[11]+643717713&4294967295,E=R+(x<<14&4294967295|x>>>18),x=M+(R^y&(E^R))+S[0]+3921069994&4294967295,M=E+(x<<20&4294967295|x>>>12),x=y+(E^R&(M^E))+S[5]+3593408605&4294967295,y=M+(x<<5&4294967295|x>>>27),x=R+(M^E&(y^M))+S[10]+38016083&4294967295,R=y+(x<<9&4294967295|x>>>23),x=E+(y^M&(R^y))+S[15]+3634488961&4294967295,E=R+(x<<14&4294967295|x>>>18),x=M+(R^y&(E^R))+S[4]+3889429448&4294967295,M=E+(x<<20&4294967295|x>>>12),x=y+(E^R&(M^E))+S[9]+568446438&4294967295,y=M+(x<<5&4294967295|x>>>27),x=R+(M^E&(y^M))+S[14]+3275163606&4294967295,R=y+(x<<9&4294967295|x>>>23),x=E+(y^M&(R^y))+S[3]+4107603335&4294967295,E=R+(x<<14&4294967295|x>>>18),x=M+(R^y&(E^R))+S[8]+1163531501&4294967295,M=E+(x<<20&4294967295|x>>>12),x=y+(E^R&(M^E))+S[13]+2850285829&4294967295,y=M+(x<<5&4294967295|x>>>27),x=R+(M^E&(y^M))+S[2]+4243563512&4294967295,R=y+(x<<9&4294967295|x>>>23),x=E+(y^M&(R^y))+S[7]+1735328473&4294967295,E=R+(x<<14&4294967295|x>>>18),x=M+(R^y&(E^R))+S[12]+2368359562&4294967295,M=E+(x<<20&4294967295|x>>>12),x=y+(M^E^R)+S[5]+4294588738&4294967295,y=M+(x<<4&4294967295|x>>>28),x=R+(y^M^E)+S[8]+2272392833&4294967295,R=y+(x<<11&4294967295|x>>>21),x=E+(R^y^M)+S[11]+1839030562&4294967295,E=R+(x<<16&4294967295|x>>>16),x=M+(E^R^y)+S[14]+4259657740&4294967295,M=E+(x<<23&4294967295|x>>>9),x=y+(M^E^R)+S[1]+2763975236&4294967295,y=M+(x<<4&4294967295|x>>>28),x=R+(y^M^E)+S[4]+1272893353&4294967295,R=y+(x<<11&4294967295|x>>>21),x=E+(R^y^M)+S[7]+4139469664&4294967295,E=R+(x<<16&4294967295|x>>>16),x=M+(E^R^y)+S[10]+3200236656&4294967295,M=E+(x<<23&4294967295|x>>>9),x=y+(M^E^R)+S[13]+681279174&4294967295,y=M+(x<<4&4294967295|x>>>28),x=R+(y^M^E)+S[0]+3936430074&4294967295,R=y+(x<<11&4294967295|x>>>21),x=E+(R^y^M)+S[3]+3572445317&4294967295,E=R+(x<<16&4294967295|x>>>16),x=M+(E^R^y)+S[6]+76029189&4294967295,M=E+(x<<23&4294967295|x>>>9),x=y+(M^E^R)+S[9]+3654602809&4294967295,y=M+(x<<4&4294967295|x>>>28),x=R+(y^M^E)+S[12]+3873151461&4294967295,R=y+(x<<11&4294967295|x>>>21),x=E+(R^y^M)+S[15]+530742520&4294967295,E=R+(x<<16&4294967295|x>>>16),x=M+(E^R^y)+S[2]+3299628645&4294967295,M=E+(x<<23&4294967295|x>>>9),x=y+(E^(M|~R))+S[0]+4096336452&4294967295,y=M+(x<<6&4294967295|x>>>26),x=R+(M^(y|~E))+S[7]+1126891415&4294967295,R=y+(x<<10&4294967295|x>>>22),x=E+(y^(R|~M))+S[14]+2878612391&4294967295,E=R+(x<<15&4294967295|x>>>17),x=M+(R^(E|~y))+S[5]+4237533241&4294967295,M=E+(x<<21&4294967295|x>>>11),x=y+(E^(M|~R))+S[12]+1700485571&4294967295,y=M+(x<<6&4294967295|x>>>26),x=R+(M^(y|~E))+S[3]+2399980690&4294967295,R=y+(x<<10&4294967295|x>>>22),x=E+(y^(R|~M))+S[10]+4293915773&4294967295,E=R+(x<<15&4294967295|x>>>17),x=M+(R^(E|~y))+S[1]+2240044497&4294967295,M=E+(x<<21&4294967295|x>>>11),x=y+(E^(M|~R))+S[8]+1873313359&4294967295,y=M+(x<<6&4294967295|x>>>26),x=R+(M^(y|~E))+S[15]+4264355552&4294967295,R=y+(x<<10&4294967295|x>>>22),x=E+(y^(R|~M))+S[6]+2734768916&4294967295,E=R+(x<<15&4294967295|x>>>17),x=M+(R^(E|~y))+S[13]+1309151649&4294967295,M=E+(x<<21&4294967295|x>>>11),x=y+(E^(M|~R))+S[4]+4149444226&4294967295,y=M+(x<<6&4294967295|x>>>26),x=R+(M^(y|~E))+S[11]+3174756917&4294967295,R=y+(x<<10&4294967295|x>>>22),x=E+(y^(R|~M))+S[2]+718787259&4294967295,E=R+(x<<15&4294967295|x>>>17),x=M+(R^(E|~y))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(E+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+E&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.v=function(C,y){y===void 0&&(y=C.length);let M=y-this.blockSize,S=this.C,E=this.h,R=0;for(;R<y;){if(E==0)for(;R<=M;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<y;)if(S[E++]=C.charCodeAt(R++),E==this.blockSize){i(this,S),E=0;break}}else for(;R<y;)if(S[E++]=C[R++],E==this.blockSize){i(this,S),E=0;break}}this.h=E,this.o+=y},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;y=this.o*8;for(var M=C.length-8;M<C.length;++M)C[M]=y&255,y/=256;for(this.v(C),C=Array(16),y=0,M=0;M<4;++M)for(let S=0;S<32;S+=8)C[y++]=this.g[M]>>>S&255;return C};function o(C,y){var M=a;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=y(C)}function s(C,y){this.h=y;let M=[],S=!0;for(let E=C.length-1;E>=0;E--){let R=C[E]|0;S&&R==y||(M[E]=R,S=!1)}this.g=M}var a={};function c(C){return-128<=C&&C<128?o(C,function(y){return new s([y|0],y<0?-1:0)}):new s([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return g;if(C<0)return T(d(-C));let y=[],M=1;for(let S=0;C>=M;S++)y[S]=C/M|0,M*=4294967296;return new s(y,0)}function u(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return T(u(C.substring(1),y));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');let M=d(Math.pow(y,8)),S=g;for(let R=0;R<C.length;R+=8){var E=Math.min(8,C.length-R);let x=parseInt(C.substring(R,R+E),y);E<8?(E=d(Math.pow(y,E)),S=S.j(E).add(d(x))):(S=S.j(M),S=S.add(d(x)))}return S}var g=c(0),w=c(1),k=c(16777216);n=s.prototype,n.m=function(){if(F(this))return-T(this).m();let C=0,y=1;for(let M=0;M<this.g.length;M++){let S=this.i(M);C+=(S>=0?S:4294967296+S)*y,y*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(F(this))return"-"+T(this).toString(C);let y=d(Math.pow(C,6));var M=this;let S="";for(;;){let E=dt(M,y).g;M=U(M,E.j(y));let R=((M.g.length>0?M.g[0]:M.h)>>>0).toString(C);if(M=E,D(M))return R+S;for(;R.length<6;)R="0"+R;S=R+S}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function F(C){return C.h==-1}n.l=function(C){return C=U(this,C),F(C)?-1:D(C)?0:1};function T(C){let y=C.g.length,M=[];for(let S=0;S<y;S++)M[S]=~C.g[S];return new s(M,~C.h).add(w)}n.abs=function(){return F(this)?T(this):this},n.add=function(C){let y=Math.max(this.g.length,C.g.length),M=[],S=0;for(let E=0;E<=y;E++){let R=S+(this.i(E)&65535)+(C.i(E)&65535),x=(R>>>16)+(this.i(E)>>>16)+(C.i(E)>>>16);S=x>>>16,R&=65535,x&=65535,M[E]=x<<16|R}return new s(M,M[M.length-1]&-2147483648?-1:0)};function U(C,y){return C.add(T(y))}n.j=function(C){if(D(this)||D(C))return g;if(F(this))return F(C)?T(this).j(T(C)):T(T(this).j(C));if(F(C))return T(this.j(T(C)));if(this.l(k)<0&&C.l(k)<0)return d(this.m()*C.m());let y=this.g.length+C.g.length,M=[];for(var S=0;S<2*y;S++)M[S]=0;for(S=0;S<this.g.length;S++)for(let E=0;E<C.g.length;E++){let R=this.i(S)>>>16,x=this.i(S)&65535,cn=C.i(E)>>>16,Wr=C.i(E)&65535;M[2*S+2*E]+=x*Wr,q(M,2*S+2*E),M[2*S+2*E+1]+=R*Wr,q(M,2*S+2*E+1),M[2*S+2*E+1]+=x*cn,q(M,2*S+2*E+1),M[2*S+2*E+2]+=R*cn,q(M,2*S+2*E+2)}for(C=0;C<y;C++)M[C]=M[2*C+1]<<16|M[2*C];for(C=y;C<2*y;C++)M[C]=0;return new s(M,0)};function q(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function W(C,y){this.g=C,this.h=y}function dt(C,y){if(D(y))throw Error("division by zero");if(D(C))return new W(g,g);if(F(C))return y=dt(T(C),y),new W(T(y.g),T(y.h));if(F(y))return y=dt(C,T(y)),new W(T(y.g),y.h);if(C.g.length>30){if(F(C)||F(y))throw Error("slowDivide_ only works with positive integers.");for(var M=w,S=y;S.l(C)<=0;)M=Ct(M),S=Ct(S);var E=Mt(M,1),R=Mt(S,1);for(S=Mt(S,2),M=Mt(M,2);!D(S);){var x=R.add(S);x.l(C)<=0&&(E=E.add(M),R=x),S=Mt(S,1),M=Mt(M,1)}return y=U(C,E.j(y)),new W(E,y)}for(E=g;C.l(y)>=0;){for(M=Math.max(1,Math.floor(C.m()/y.m())),S=Math.ceil(Math.log(M)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),R=d(M),x=R.j(y);F(x)||x.l(C)>0;)M-=S,R=d(M),x=R.j(y);D(R)&&(R=w),E=E.add(R),C=U(C,x)}return new W(E,C)}n.B=function(C){return dt(this,C).h},n.and=function(C){let y=Math.max(this.g.length,C.g.length),M=[];for(let S=0;S<y;S++)M[S]=this.i(S)&C.i(S);return new s(M,this.h&C.h)},n.or=function(C){let y=Math.max(this.g.length,C.g.length),M=[];for(let S=0;S<y;S++)M[S]=this.i(S)|C.i(S);return new s(M,this.h|C.h)},n.xor=function(C){let y=Math.max(this.g.length,C.g.length),M=[];for(let S=0;S<y;S++)M[S]=this.i(S)^C.i(S);return new s(M,this.h^C.h)};function Ct(C){let y=C.g.length+1,M=[];for(let S=0;S<y;S++)M[S]=C.i(S)<<1|C.i(S-1)>>>31;return new s(M,C.h)}function Mt(C,y){let M=y>>5;y%=32;let S=C.g.length-M,E=[];for(let R=0;R<S;R++)E[R]=y>0?C.i(R+M)>>>y|C.i(R+M+1)<<32-y:C.i(R+M);return new s(E,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rw=UC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=u,$i=UC.Integer=s}).apply(typeof HC<"u"?HC:typeof self<"u"?self:typeof window<"u"?window:{});var g2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={};var iw,vN,ql,ow,Mh,f2,sw,aw,lw;(function(){var n,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof g2=="object"&&g2];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)t:{var p=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var A=l[v];if(!(A in p))break t;p=p[A]}l=l[l.length-1],v=p[l],h=h(v),h!=v&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(h){var p=[],v;for(v in h)Object.prototype.hasOwnProperty.call(h,v)&&p.push([v,h[v]]);return p}});var o=o||{},s=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function c(l,h,p){return l.call.apply(l.bind,arguments)}function d(l,h,p){return d=c,d.apply(null,arguments)}function u(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function g(l,h){function p(){}p.prototype=h.prototype,l.Z=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(v,A,N){for(var K=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)K[Vt-2]=arguments[Vt];return h.prototype[A].apply(v,K)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function k(l){let h=l.length;if(h>0){let p=Array(h);for(let v=0;v<h;v++)p[v]=l[v];return p}return[]}function D(l,h){for(let v=1;v<arguments.length;v++){let A=arguments[v];var p=typeof A;if(p=p!="object"?p:A?Array.isArray(A)?"array":p:"null",p=="array"||p=="object"&&typeof A.length=="number"){p=l.length||0;let N=A.length||0;l.length=p+N;for(let K=0;K<N;K++)l[p+K]=A[K]}else l.push(A)}}class F{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function T(l){s.setTimeout(()=>{throw l},0)}function U(){var l=C;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class q{constructor(){this.h=this.g=null}add(h,p){let v=W.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var W=new F(()=>new dt,l=>l.reset());class dt{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,Mt=!1,C=new q,y=()=>{let l=Promise.resolve(void 0);Ct=()=>{l.then(M)}};function M(){for(var l;l=U();){try{l.h.call(l.g)}catch(p){T(p)}var h=W;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}Mt=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};s.addEventListener("test",p,h),s.removeEventListener("test",p,h)}catch{}return l})();function x(l){return/^[\s\xa0]*$/.test(l)}function cn(l,h){E.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}g(cn,E),cn.prototype.init=function(l,h){let p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&cn.Z.h.call(this)},cn.prototype.h=function(){cn.Z.h.call(this);let l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Wr="closure_listenable_"+(Math.random()*1e6|0),vu=0;function X1(l,h,p,v,A){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=A,this.key=++vu,this.da=this.fa=!1}function gs(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function xa(l,h,p){for(let v in l)h.call(p,l[v],v,l)}function J1(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function Yi(l){let h={};for(let p in l)h[p]=l[p];return h}let wu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ma(l,h){let p,v;for(let A=1;A<arguments.length;A++){v=arguments[A];for(p in v)l[p]=v[p];for(let N=0;N<wu.length;N++)p=wu[N],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function Ca(l){this.src=l,this.g={},this.h=0}Ca.prototype.add=function(l,h,p,v,A){let N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);let K=Ve(l,h,v,A);return K>-1?(h=l[K],p||(h.fa=!1)):(h=new X1(h,this.src,N,!!v,A),h.fa=p,l.push(h)),h};function Nc(l,h){let p=h.type;if(p in l.g){var v=l.g[p],A=Array.prototype.indexOf.call(v,h,void 0),N;(N=A>=0)&&Array.prototype.splice.call(v,A,1),N&&(gs(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ve(l,h,p,v){for(let A=0;A<l.length;++A){let N=l[A];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==v)return A}return-1}var br="closure_lm_"+(Math.random()*1e6|0),de={};function Je(l,h,p,v,A){if(v&&v.once)return Zi(l,h,p,v,A);if(Array.isArray(h)){for(let N=0;N<h.length;N++)Je(l,h[N],p,v,A);return null}return p=Ji(p),l&&l[Wr]?l.J(h,p,a(v)?!!v.capture:!!v,A):fs(l,h,p,!1,v,A)}function fs(l,h,p,v,A,N){if(!h)throw Error("Invalid event type");let K=a(A)?!!A.capture:!!A,Vt=Ea(l);if(Vt||(l[br]=Vt=new Ca(l)),p=Vt.add(h,p,v,K,N),p.proxy)return p;if(v=ms(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)R||(A=K),A===void 0&&(A=!1),l.addEventListener(h.toString(),v,A);else if(l.attachEvent)l.attachEvent(On(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ms(){function l(p){return h.call(l.src,l.listener,p)}let h=yi;return l}function Zi(l,h,p,v,A){if(Array.isArray(h)){for(let N=0;N<h.length;N++)Zi(l,h[N],p,v,A);return null}return p=Ji(p),l&&l[Wr]?l.K(h,p,a(v)?!!v.capture:!!v,A):fs(l,h,p,!0,v,A)}function Xi(l,h,p,v,A){if(Array.isArray(h))for(var N=0;N<h.length;N++)Xi(l,h[N],p,v,A);else v=a(v)?!!v.capture:!!v,p=Ji(p),l&&l[Wr]?(l=l.i,N=String(h).toString(),N in l.g&&(h=l.g[N],p=Ve(h,p,v,A),p>-1&&(gs(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete l.g[N],l.h--)))):l&&(l=Ea(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Ve(h,p,v,A)),(p=l>-1?h[l]:null)&&_i(p))}function _i(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Wr])Nc(h.i,l);else{var p=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(p,v,l.capture):h.detachEvent?h.detachEvent(On(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=Ea(h))?(Nc(p,l),p.h==0&&(p.src=null,h[br]=null)):gs(l)}}}function On(l){return l in de?de[l]:de[l]="on"+l}function yi(l,h){if(l.da)l=!0;else{h=new cn(h,this);let p=l.listener,v=l.ha||l.src;l.fa&&_i(l),l=p.call(v,h)}return l}function Ea(l){return l=l[br],l instanceof Ca?l:null}var Ia="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ji(l){return typeof l=="function"?l:(l[Ia]||(l[Ia]=function(h){return l.handleEvent(h)}),l[Ia])}function ee(){S.call(this),this.i=new Ca(this),this.M=this,this.G=null}g(ee,S),ee.prototype[Wr]=!0,ee.prototype.removeEventListener=function(l,h,p,v){Xi(this,l,h,p,v)};function tn(l,h){var p,v=l.G;if(v)for(p=[];v;v=v.G)p.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new E(h,l);else if(h instanceof E)h.target=h.target||l;else{var A=h;h=new E(v,l),Ma(h,A)}A=!0;let N,K;if(p)for(K=p.length-1;K>=0;K--)N=h.g=p[K],A=Sa(N,v,!0,h)&&A;if(N=h.g=l,A=Sa(N,v,!0,h)&&A,A=Sa(N,v,!1,h)&&A,p)for(K=0;K<p.length;K++)N=h.g=p[K],A=Sa(N,v,!1,h)&&A}ee.prototype.N=function(){if(ee.Z.N.call(this),this.i){var l=this.i;for(let h in l.g){let p=l.g[h];for(let v=0;v<p.length;v++)gs(p[v]);delete l.g[h],l.h--}}this.G=null},ee.prototype.J=function(l,h,p,v){return this.i.add(String(l),h,!1,p,v)},ee.prototype.K=function(l,h,p,v){return this.i.add(String(l),h,!0,p,v)};function Sa(l,h,p,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let A=!0;for(let N=0;N<h.length;++N){let K=h[N];if(K&&!K.da&&K.capture==p){let Vt=K.listener,Fe=K.ha||K.src;K.fa&&Nc(l.i,K),A=Vt.call(Fe,v)!==!1&&A}}return A&&!v.defaultPrevented}function tg(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:s.setTimeout(l,h||0)}function _u(l){l.g=tg(()=>{l.g=null,l.i&&(l.i=!1,_u(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class eg extends S{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(l){S.call(this),this.h=l,this.g={}}g(to,S);var Vc=[];function Fc(l){xa(l.g,function(h,p){this.g.hasOwnProperty(p)&&_i(h)},l),l.g={}}to.prototype.N=function(){to.Z.N.call(this),Fc(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Aa=s.JSON.stringify,Ta=s.JSON.parse,Lc=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function yu(){}function ku(){}var vs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jc(){E.call(this,"d")}g(jc,E);function zc(){E.call(this,"c")}g(zc,E);var er={},bu=null;function Da(){return bu=bu||new ee}er.Ia="serverreachability";function Hc(l){E.call(this,er.Ia,l)}g(Hc,E);function eo(l){let h=Da();tn(h,new Hc(h))}er.STAT_EVENT="statevent";function Ra(l,h){E.call(this,er.STAT_EVENT,l),this.stat=h}g(Ra,E);function en(l){let h=Da();tn(h,new Ra(h,l))}er.Ja="timingevent";function xu(l,h){E.call(this,er.Ja,l),this.size=h}g(xu,E);function ws(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},h)}function no(){this.g=!0}no.prototype.ua=function(){this.g=!1};function ng(l,h,p,v,A,N){l.info(function(){if(l.g)if(N){var K="",Vt=N.split("&");for(let se=0;se<Vt.length;se++){var Fe=Vt[se].split("=");if(Fe.length>1){let We=Fe[0];Fe=Fe[1];let Xr=We.split("_");K=Xr.length>=2&&Xr[1]=="type"?K+(We+"="+Fe+"&"):K+(We+"=redacted&")}}}else K=null;else K=N;return"XMLHTTP REQ ("+v+") [attempt "+A+"]: "+h+`
`+p+`
`+K})}function rg(l,h,p,v,A,N,K){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+A+"]: "+h+`
`+p+`
`+N+" "+K})}function ro(l,h,p,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+ig(l,p)+(v?" "+v:"")})}function Pa(l,h){l.info(function(){return"TIMEOUT: "+h})}no.prototype.info=function(){};function ig(l,h){if(!l.g)return h;if(!h)return null;try{let N=JSON.parse(h);if(N){for(l=0;l<N.length;l++)if(Array.isArray(N[l])){var p=N[l];if(!(p.length<2)){var v=p[1];if(Array.isArray(v)&&!(v.length<1)){var A=v[0];if(A!="noop"&&A!="stop"&&A!="close")for(let K=1;K<v.length;K++)v[K]=""}}}}return Aa(N)}catch{return h}}var Oa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ba;function $c(){}g($c,yu),$c.prototype.g=function(){return new XMLHttpRequest},Ba=new $c;function io(l){return encodeURIComponent(String(l))}function og(l){var h=1;l=l.split(":");let p=[];for(;h>0&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function xr(l,h,p,v){this.j=l,this.i=h,this.l=p,this.S=v||1,this.V=new to(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qc}function qc(){this.i=null,this.g="",this.h=!1}var Gc={},Na={};function _s(l,h,p){l.M=1,l.A=ja(An(h)),l.u=p,l.R=!0,Qr(l,null)}function Qr(l,h){l.F=Date.now(),so(l),l.B=An(l.A);var p=l.B,v=l.S;Array.isArray(v)||(v=[String(v)]),Te(p.i,"t",v),l.C=0,p=l.j.L,l.h=new qc,l.g=v4(l.j,p?h:null,!l.u),l.P>0&&(l.O=new eg(d(l.Y,l,l.g),l.P)),h=l.V,p=l.g,v=l.ba;var A="readystatechange";Array.isArray(A)||(A&&(Vc[0]=A.toString()),A=Vc);for(let N=0;N<A.length;N++){let K=Je(p,A[N],v||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=l.J?Yi(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),eo(),ng(l.i,l.v,l.B,l.l,l.S,l.u)}xr.prototype.ba=function(l){l=l.target;let h=this.O;h&&uo(l)==3?h.j():this.Y(l)},xr.prototype.Y=function(l){try{if(l==this.g)t:{let Vt=uo(this.g),Fe=this.g.ya(),se=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||s4(this.g)))){this.K||Vt!=4||Fe==7||(Fe==8||se<=0?eo(3):eo(2)),Wc(this);var h=this.g.ca();this.X=h;var p=ys(this);if(this.o=h==200,rg(this.i,this.v,this.B,this.l,this.S,Vt,h),this.o){if(this.U&&!this.L){e:{if(this.g){var v,A=this.g;if((v=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(v)){var N=v;break e}}N=null}if(l=N)ro(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yr(this,l);else{this.o=!1,this.m=3,en(12),Ae(this),Kr(this);break t}}if(this.R){l=!0;let We;for(;!this.K&&this.C<p.length;)if(We=Va(this,p),We==Na){Vt==4&&(this.m=4,en(14),l=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(We==Gc){this.m=4,en(15),ro(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else ro(this.i,this.l,We,null),Yr(this,We);if(oo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||p.length!=0||this.h.h||(this.m=1,en(16),l=!1),this.o=this.o&&l,!l)ro(this.i,this.l,p,"[Invalid Chunked Response]"),Ae(this),Kr(this);else if(p.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),dg(K),K.P=!0,en(11))}}else ro(this.i,this.l,p,null),Yr(this,p);Vt==4&&Ae(this),this.o&&!this.K&&(Vt==4?p4(this.j,this):(this.o=!1,so(this)))}else BI(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),Ae(this),Kr(this)}}}catch{}finally{}};function ys(l){if(!oo(l))return l.g.la();let h=s4(l.g);if(h==="")return"";let p="",v=h.length,A=uo(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Ae(l),Kr(l),"";l.h.i=new s.TextDecoder}for(let N=0;N<v;N++)l.h.h=!0,p+=l.h.i.decode(h[N],{stream:!(A&&N==v-1)});return h.length=0,l.h.g+=p,l.C=0,l.h.g}function oo(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Va(l,h){var p=l.C,v=h.indexOf(`
`,p);return v==-1?Na:(p=Number(h.substring(p,v)),isNaN(p)?Gc:(v+=1,v+p>h.length?Na:(h=h.slice(v,v+p),l.C=v+p,h)))}xr.prototype.cancel=function(){this.K=!0,Ae(this)};function so(l){l.T=Date.now()+l.H,Mu(l,l.H)}function Mu(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ws(d(l.aa,l),h)}function Wc(l){l.D&&(s.clearTimeout(l.D),l.D=null)}xr.prototype.aa=function(){this.D=null;let l=Date.now();l-this.T>=0?(Pa(this.i,this.B),this.M!=2&&(eo(),en(17)),Ae(this),this.m=2,Kr(this)):Mu(this,this.T-l)};function Kr(l){l.j.I==0||l.K||p4(l.j,l)}function Ae(l){Wc(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,Fc(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Yr(l,h){try{var p=l.j;if(p.I!=0&&(p.g==l||Nn(p.h,l))){if(!l.L&&Nn(p.h,l)&&p.I==3){try{var v=p.Ba.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var A=v;if(A[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)Ru(p),Tu(p);else break t;cg(p),en(18)}}else p.xa=A[1],0<p.xa-p.K&&A[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ws(d(p.Va,p),6e3));Bn(p.h)<=1&&p.ta&&(p.ta=void 0)}else bs(p,11)}else if((l.L||p.g==l)&&Ru(p),!x(h))for(A=p.Ba.g.parse(h),h=0;h<A.length;h++){let se=A[h],We=se[0];if(!(We<=p.K))if(p.K=We,se=se[1],p.I==2)if(se[0]=="c"){p.M=se[1],p.ba=se[2];let Xr=se[3];Xr!=null&&(p.ka=Xr,p.j.info("VER="+p.ka));let xs=se[4];xs!=null&&(p.za=xs,p.j.info("SVER="+p.za));let po=se[5];po!=null&&typeof po=="number"&&po>0&&(v=1.5*po,p.O=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let go=l.g;if(go){let Ou=go.g?go.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var N=v.h;N.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Fa(N,N.h),N.h=null))}if(v.G){let hg=go.g?go.g.getResponseHeader("X-HTTP-Session-Id"):null;hg&&(v.wa=hg,Ht(v.J,v.G,hg))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),v=p;var K=l;if(v.na=m4(v,v.L?v.ba:null,v.W),K.L){Qc(v.h,K);var Vt=K,Fe=v.O;Fe&&(Vt.H=Fe),Vt.D&&(Wc(Vt),so(Vt)),v.g=K}else h4(v);p.i.length>0&&Du(p)}else se[0]!="stop"&&se[0]!="close"||bs(p,7);else p.I==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?bs(p,7):lg(p):se[0]!="noop"&&p.l&&p.l.qa(se),p.A=0)}}eo(4)}catch{}}var Zr=class{constructor(l,h){this.g=l,this.map=h}};function nr(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ao(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Bn(l){return l.h?1:l.g?l.g.size:0}function Nn(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Fa(l,h){l.g?l.g.add(h):l.h=h}function Qc(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}nr.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function ks(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.G);return h}return k(l.i)}var Sn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(l,h){if(l){l=l.split("&");for(let p=0;p<l.length;p++){let v=l[p].indexOf("="),A,N=null;v>=0?(A=l[p].substring(0,v),N=l[p].substring(v+1)):A=l[p],h(A,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function rr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof rr?(this.l=l.l,ki(this,l.j),this.o=l.o,this.g=l.g,bi(this,l.u),this.h=l.h,lo(this,Ge(l.i)),this.m=l.m):l&&(h=String(l).match(Sn))?(this.l=!1,ki(this,h[1]||"",!0),this.o=co(h[2]||""),this.g=co(h[3]||"",!0),bi(this,h[4]),this.h=co(h[5]||"",!0),lo(this,h[6]||"",!0),this.m=co(h[7]||"")):(this.l=!1,this.i=new P(null,this.l))}rr.prototype.toString=function(){let l=[];var h=this.j;h&&l.push(xi(h,Eu,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(xi(h,Eu,!0),"@"),l.push(io(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(xi(p,p.charAt(0)=="/"?m:sg,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",xi(p,b)),l.join("")},rr.prototype.resolve=function(l){let h=An(this),p=!!l.j;p?ki(h,l.j):p=!!l.o,p?h.o=l.o:p=!!l.g,p?h.g=l.g:p=l.u!=null;var v=l.h;if(p)bi(h,l.u);else if(p=!!l.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var A=h.h.lastIndexOf("/");A!=-1&&(v=h.h.slice(0,A+1)+v)}if(A=v,A==".."||A==".")v="";else if(A.indexOf("./")!=-1||A.indexOf("/.")!=-1){v=A.lastIndexOf("/",0)==0,A=A.split("/");let N=[];for(let K=0;K<A.length;){let Vt=A[K++];Vt=="."?v&&K==A.length&&N.push(""):Vt==".."?((N.length>1||N.length==1&&N[0]!="")&&N.pop(),v&&K==A.length&&N.push("")):(N.push(Vt),v=!0)}v=N.join("/")}else v=A}return p?h.h=v:p=l.i.toString()!=="",p?lo(h,Ge(l.i)):p=!!l.m,p&&(h.m=l.m),h};function An(l){return new rr(l)}function ki(l,h,p){l.j=p?co(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function bi(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function lo(l,h,p){h instanceof P?(l.i=h,AI(l.i,l.l)):(p||(h=xi(h,_)),l.i=new P(h,l.l))}function Ht(l,h,p){l.i.set(h,p)}function ja(l){return Ht(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function co(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function xi(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,Cu),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Cu(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Eu=/[#\/\?@]/g,sg=/[#\?:]/g,m=/[#\?]/g,_=/[#\?@]/g,b=/#/g;function P(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function $(l){l.g||(l.g=new Map,l.h=0,l.i&&La(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=P.prototype,n.add=function(l,h){$(this),this.i=null,l=nn(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function X(l,h){$(l),h=nn(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Nt(l,h){return $(l),h=nn(l,h),l.g.has(h)}n.forEach=function(l,h){$(this),this.g.forEach(function(p,v){p.forEach(function(A){l.call(h,A,v,this)},this)},this)};function Me(l,h){$(l);let p=[];if(typeof h=="string")Nt(l,h)&&(p=p.concat(l.g.get(nn(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)p=p.concat(l[h]);return p}n.set=function(l,h){return $(this),this.i=null,l=nn(this,l),Nt(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=Me(this,l),l.length>0?String(l[0]):h):h};function Te(l,h,p){X(l,h),p.length>0&&(l.i=null,l.g.set(nn(l,h),k(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(let v=0;v<h.length;v++){var p=h[v];let A=io(p);p=Me(this,p);for(let N=0;N<p.length;N++){let K=A;p[N]!==""&&(K+="="+io(p[N])),l.push(K)}}return this.i=l.join("&")};function Ge(l){let h=new P;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function nn(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function AI(l,h){h&&!l.j&&($(l),l.i=null,l.g.forEach(function(p,v){let A=v.toLowerCase();v!=A&&(X(this,v),Te(this,A,p))},l)),l.j=h}function TI(l,h){let p=new no;if(s.Image){let v=new Image;v.onload=u(ho,p,"TestLoadImage: loaded",!0,h,v),v.onerror=u(ho,p,"TestLoadImage: error",!1,h,v),v.onabort=u(ho,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=u(ho,p,"TestLoadImage: timeout",!1,h,v),s.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function DI(l,h){let p=new no,v=new AbortController,A=setTimeout(()=>{v.abort(),ho(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(N=>{clearTimeout(A),N.ok?ho(p,"TestPingServer: ok",!0,h):ho(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),ho(p,"TestPingServer: error",!1,h)})}function ho(l,h,p,v,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),v(p)}catch{}}function RI(){this.g=new Lc}function Iu(l){this.i=l.Sb||null,this.h=l.ab||!1}g(Iu,yu),Iu.prototype.g=function(){return new Su(this.i,this.h)};function Su(l,h){ee.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Su,ee),n=Su.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Yc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||s).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=0},n.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;e4(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function e4(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}n.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Kc(this):Yc(this),this.readyState==3&&e4(this)}},n.Oa=function(l){this.g&&(this.response=this.responseText=l,Kc(this))},n.Na=function(l){this.g&&(this.response=l,Kc(this))},n.ga=function(){this.g&&Kc(this)};function Kc(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Yc(l)}n.setRequestHeader=function(l,h){this.A.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Yc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function n4(l){let h="";return xa(l,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function ag(l,h,p){t:{for(v in p){var v=!1;break t}v=!0}v||(p=n4(p),typeof l=="string"?p!=null&&io(p):Ht(l,h,p))}function ye(l){ee.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ye,ee);var PI=/^https?$/i,OI=["POST","PUT"];n=ye.prototype,n.Fa=function(l){this.H=l},n.ea=function(l,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ba.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){r4(this,N);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var A in v)p.set(A,v[A]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let N of v.keys())p.set(N,v.get(N));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),A=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(OI,h,void 0)>=0)||v||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,K]of p)this.g.setRequestHeader(N,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(N){r4(this,N)}};function r4(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,i4(l),Au(l)}function i4(l){l.A||(l.A=!0,tn(l,"complete"),tn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,tn(this,"complete"),tn(this,"abort"),Au(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?o4(this):this.Xa())},n.Xa=function(){o4(this)};function o4(l){if(l.h&&typeof o<"u"){if(l.v&&uo(l)==4)setTimeout(l.Ca.bind(l),0);else if(tn(l,"readystatechange"),uo(l)==4){l.h=!1;try{let N=l.ca();t:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var p;if(!(p=h)){var v;if(v=N===0){let K=String(l.D).match(Sn)[1]||null;!K&&s.self&&s.self.location&&(K=s.self.location.protocol.slice(0,-1)),v=!PI.test(K?K.toLowerCase():"")}p=v}if(p)tn(l,"complete"),tn(l,"success");else{l.o=6;try{var A=uo(l)>2?l.g.statusText:""}catch{A=""}l.l=A+" ["+l.ca()+"]",i4(l)}}finally{Au(l)}}}}function Au(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);let p=l.g;l.g=null,h||tn(l,"ready");try{p.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function uo(l){return l.g?l.g.readyState:0}n.ca=function(){try{return uo(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Ta(h)}};function s4(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function BI(l){let h={};l=(l.g&&uo(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(x(l[v]))continue;var p=og(l[v]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[A]||[];h[A]=N,N.push(p)}J1(h,function(v){return v.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zc(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function a4(l){this.za=0,this.i=[],this.j=new no,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zc("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zc("baseRetryDelayMs",5e3,l),this.Za=Zc("retryDelaySeedMs",1e4,l),this.Ta=Zc("forwardChannelMaxRetries",2,l),this.va=Zc("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new nr(l&&l.concurrentRequestLimit),this.Ba=new RI,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=a4.prototype,n.ka=8,n.I=1,n.connect=function(l,h,p,v){en(0),this.W=l,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.J=m4(this,null,this.W),Du(this)};function lg(l){if(l4(l),l.I==3){var h=l.V++,p=An(l.J);if(Ht(p,"SID",l.M),Ht(p,"RID",h),Ht(p,"TYPE","terminate"),Xc(l,p),h=new xr(l,l.j,h),h.M=2,h.A=ja(An(p)),p=!1,s.navigator&&s.navigator.sendBeacon)try{p=s.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&s.Image&&(new Image().src=h.A,p=!0),p||(h.g=v4(h.j,null),h.g.ea(h.A)),h.F=Date.now(),so(h)}f4(l)}function Tu(l){l.g&&(dg(l),l.g.cancel(),l.g=null)}function l4(l){Tu(l),l.v&&(s.clearTimeout(l.v),l.v=null),Ru(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function Du(l){if(!ao(l.h)&&!l.m){l.m=!0;var h=l.Ea;Ct||y(),Mt||(Ct(),Mt=!0),C.add(h,l),l.D=0}}function NI(l,h){return Bn(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ws(d(l.Ea,l,h),g4(l,l.D)),l.D++,!0)}n.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;let A=new xr(this,this.j,l),N=this.o;if(this.U&&(N?(N=Yi(N),Ma(N,this.U)):N=this.U),this.u!==null||this.R||(A.J=N,N=null),this.S)t:{for(var h=0,p=0;p<this.i.length;p++){e:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break e}v=void 0}if(v===void 0)break;if(h+=v,h>4096){h=p;break t}if(h===4096||p===this.i.length-1){h=p+1;break t}}h=1e3}else h=1e3;h=d4(this,A,h),p=An(this.J),Ht(p,"RID",l),Ht(p,"CVER",22),this.G&&Ht(p,"X-HTTP-Session-Id",this.G),Xc(this,p),N&&(this.R?h="headers="+io(n4(N))+"&"+h:this.u&&ag(p,this.u,N)),Fa(this.h,A),this.Ra&&Ht(p,"TYPE","init"),this.S?(Ht(p,"$req",h),Ht(p,"SID","null"),A.U=!0,_s(A,p,null)):_s(A,p,h),this.I=2}}else this.I==3&&(l?c4(this,l):this.i.length==0||ao(this.h)||c4(this))};function c4(l,h){var p;h?p=h.l:p=l.V++;let v=An(l.J);Ht(v,"SID",l.M),Ht(v,"RID",p),Ht(v,"AID",l.K),Xc(l,v),l.u&&l.o&&ag(v,l.u,l.o),p=new xr(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),h&&(l.i=h.G.concat(l.i)),h=d4(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Fa(l.h,p),_s(p,v,h)}function Xc(l,h){l.H&&xa(l.H,function(p,v){Ht(h,v,p)}),l.l&&xa({},function(p,v){Ht(h,v,p)})}function d4(l,h,p){p=Math.min(l.i.length,p);let v=l.l?d(l.l.Ka,l.l,l):null;t:{var A=l.i;let Vt=-1;for(;;){let Fe=["count="+p];Vt==-1?p>0?(Vt=A[0].g,Fe.push("ofs="+Vt)):Vt=0:Fe.push("ofs="+Vt);let se=!0;for(let We=0;We<p;We++){var N=A[We].g;let Xr=A[We].map;if(N-=Vt,N<0)Vt=Math.max(0,A[We].g-100),se=!1;else try{N="req"+N+"_"||"";try{var K=Xr instanceof Map?Xr:Object.entries(Xr);for(let[xs,po]of K){let go=po;a(po)&&(go=Aa(po)),Fe.push(N+xs+"="+encodeURIComponent(go))}}catch(xs){throw Fe.push(N+"type="+encodeURIComponent("_badmap")),xs}}catch{v&&v(Xr)}}if(se){K=Fe.join("&");break t}}K=void 0}return l=l.i.splice(0,p),h.G=l,K}function h4(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;Ct||y(),Mt||(Ct(),Mt=!0),C.add(h,l),l.A=0}}function cg(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ws(d(l.Da,l),g4(l,l.A)),l.A++,!0)}n.Da=function(){if(this.v=null,u4(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ws(d(this.Wa,this),l)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),Tu(this),u4(this))};function dg(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function u4(l){l.g=new xr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=An(l.na);Ht(h,"RID","rpc"),Ht(h,"SID",l.M),Ht(h,"AID",l.K),Ht(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ht(h,"TO",l.ia),Ht(h,"TYPE","xmlhttp"),Xc(l,h),l.u&&l.o&&ag(h,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=ja(An(h)),p.u=null,p.R=!0,Qr(p,l)}n.Va=function(){this.C!=null&&(this.C=null,Tu(this),cg(this),en(19))};function Ru(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function p4(l,h){var p=null;if(l.g==h){Ru(l),dg(l),l.g=null;var v=2}else if(Nn(l.h,h))p=h.G,Qc(l.h,h),v=1;else return;if(l.I!=0){if(h.o)if(v==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var A=l.D;v=Da(),tn(v,new xu(v,p)),Du(l)}else h4(l);else if(A=h.m,A==3||A==0&&h.X>0||!(v==1&&NI(l,h)||v==2&&cg(l)))switch(p&&p.length>0&&(h=l.h,h.i=h.i.concat(p)),A){case 1:bs(l,5);break;case 4:bs(l,10);break;case 3:bs(l,6);break;default:bs(l,2)}}}function g4(l,h){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*h}function bs(l,h){if(l.j.info("Error code "+h),h==2){var p=d(l.bb,l),v=l.Ua;let A=!v;v=new rr(v||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ki(v,"https"),ja(v),A?TI(v.toString(),p):DI(v.toString(),p)}else en(2);l.I=0,l.l&&l.l.pa(h),f4(l),l4(l)}n.bb=function(l){l?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function f4(l){if(l.I=0,l.ja=[],l.l){let h=ks(l.h);(h.length!=0||l.i.length!=0)&&(D(l.ja,h),D(l.ja,l.i),l.h.i.length=0,k(l.i),l.i.length=0),l.l.oa()}}function m4(l,h,p){var v=p instanceof rr?An(p):new rr(p);if(v.g!="")h&&(v.g=h+"."+v.g),bi(v,v.u);else{var A=s.location;v=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;let N=new rr(null);v&&ki(N,v),h&&(N.g=h),A&&bi(N,A),p&&(N.h=p),v=N}return p=l.G,h=l.wa,p&&h&&Ht(v,p,h),Ht(v,"VER",l.ka),Xc(l,v),v}function v4(l,h,p){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new ye(new Iu({ab:p})):new ye(l.ma),h.Fa(l.L),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function w4(){}n=w4.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Pu(){}Pu.prototype.g=function(l,h){return new Vn(l,h)};function Vn(l,h){ee.call(this),this.g=new a4(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!x(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new za(this)}g(Vn,ee),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){lg(this.g)},Vn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Aa(l),l=p);h.i.push(new Zr(h.Ya++,l)),h.I==3&&Du(h)},Vn.prototype.N=function(){this.g.l=null,delete this.j,lg(this.g),delete this.g,Vn.Z.N.call(this)};function _4(l){jc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){t:{for(let p in h){l=p;break t}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}g(_4,jc);function y4(){zc.call(this),this.status=1}g(y4,zc);function za(l){this.g=l}g(za,w4),za.prototype.ra=function(){tn(this.g,"a")},za.prototype.qa=function(l){tn(this.g,new _4(l))},za.prototype.pa=function(l){tn(this.g,new y4)},za.prototype.oa=function(){tn(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,lw=qi.createWebChannelTransport=function(){return new Pu},aw=qi.getStatEventTarget=function(){return Da()},sw=qi.Event=er,f2=qi.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oa.NO_ERROR=0,Oa.TIMEOUT=8,Oa.HTTP_ERROR=6,Mh=qi.ErrorCode=Oa,Uc.COMPLETE="complete",ow=qi.EventType=Uc,ku.EventType=vs,vs.OPEN="a",vs.CLOSE="b",vs.ERROR="c",vs.MESSAGE="d",ee.prototype.listen=ee.prototype.J,ql=qi.WebChannel=ku,vN=qi.FetchXmlHttpFactory=Iu,ye.prototype.listenOnce=ye.prototype.K,ye.prototype.getLastError=ye.prototype.Ha,ye.prototype.getLastErrorCode=ye.prototype.ya,ye.prototype.getStatus=ye.prototype.ca,ye.prototype.getResponseJson=ye.prototype.La,ye.prototype.getResponseText=ye.prototype.la,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Fa,iw=qi.XhrIo=ye}).apply(typeof g2<"u"?g2:typeof self<"u"?self:typeof window<"u"?window:{});var $C="@firebase/firestore",qC="4.9.3";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var Sc="12.7.0";var la=new Lo("@firebase/firestore");function Xl(){return la.logLevel}function G(n,...e){if(la.logLevel<=Lt.DEBUG){let t=e.map(hy);la.debug(`Firestore (${Sc}): ${n}`,...t)}}function Cn(n,...e){if(la.logLevel<=Lt.ERROR){let t=e.map(hy);la.error(`Firestore (${Sc}): ${n}`,...t)}}function ca(n,...e){if(la.logLevel<=Lt.WARN){let t=e.map(hy);la.warn(`Firestore (${Sc}): ${n}`,...t)}}function hy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function at(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,J8(n,r,t)}function J8(n,e,t){let r=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Cn(r),new Error(r)}function ht(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||J8(e,i,r)}function At(n,e){return n}var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},et=class extends Kn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var A2=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},mw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ze.UNAUTHENTICATED))}shutdown(){}},vw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ww=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new A2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new ze(e)}},_w=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},yw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _w(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},T2=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},kw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T2(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new T2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function wN(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Lh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=wN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function St(n,e){return n<e?-1:n>e?1:0}function bw(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return cw(i)===cw(o)?St(i,o):cw(i)?1:-1}return St(n.length,e.length)}var _N=55296,yN=57343;function cw(n){let e=n.charCodeAt(0);return e>=_N&&e<=yN}function ac(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function t6(n){return n+"\0"}var GC="__name__",D2=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&at(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&at(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return St(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):bw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}},le=class n extends D2{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new et(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},kN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,He=class n extends D2{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return kN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GC}static keyField(){return new n([GC])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new et(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new et(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new et(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new et(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(le.fromString(e))}static fromName(e){return new n(le.fromString(e).popFirst(5))}static empty(){return new n(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new le(e.slice()))}};function bN(n,e,t){if(!t)throw new et(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xN(n,e,t,r){if(e===!0&&r===!0)throw new et(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WC(n){if(!J.isDocumentKey(n))throw new et(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e6(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function uy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at(12329,{type:typeof n})}function lc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=uy(n);throw new et(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ne(n,e){let t={typeString:n};return e&&(t.value=e),t}function su(n,e){if(!e6(n))throw new et(H.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new et(H.INVALID_ARGUMENT,t);return!0}var QC=-62135596800,KC=1e6,me=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*KC);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<QC)throw new et(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KC}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-QC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Ne("string",me._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};var kt=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new me(0,0))}static max(){return new n(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jh=-1,cc=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function xw(n){return n.fields.find(e=>e.kind===2)}function Qs(n){return n.fields.filter(e=>e.kind!==2)}cc.UNKNOWN_ID=-1;var ic=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var zh=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,yr.min())}};function MN(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(r===1e9?new me(t+1,0):new me(t,r));return new yr(i,J.empty(),e)}function n6(n){return new yr(n.readTime,n.key,jh)}var yr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(kt.min(),J.empty(),jh)}static max(){return new n(kt.max(),J.empty(),jh)}};function py(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:St(n.largestBatchId,e.largestBatchId))}var r6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",R2=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ma(n){if(n.code!==H.FAILED_PRECONDITION||n.message!==r6)throw n;G("LocalStore","Unexpectedly lost primary lease")}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let d=c;t(e[d]).next(u=>{s[d]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var Yn="SimpleDb",P2=class n{static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new ra(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Fr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ra(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{let i=gy(r.target.error);this.S.reject(new ra(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(G(Yn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new Cw(t)}},dc=class n{static delete(e){return G(Yn,"Removing database:",e),Ys(Jm().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!U0())return!1;if(n.F())return!0;let e=Se(),t=n.M(e),r=0<t&&t<10,i=i6(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,n.M(Se())===12.2&&Cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(G(Yn,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new ra(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new et(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new et(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ra(e,s))},i.onupgradeneeded=o=>{G(Yn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.N.k(s,i.transaction,o.oldVersion,this.version).next(()=>{G(Yn,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){let o=t==="readonly",s=0;for(;;){++s;try{this.db=await this.L(e);let a=P2.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(d=>(a.C(),d)).catch(d=>(a.abort(d),O.reject(d))).toPromise();return c.catch(()=>{}),await a.D,c}catch(a){let c=a,d=c.name!=="FirebaseError"&&s<3;if(G(Yn,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}};function i6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var Mw=class{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ys(this.U.delete())}},ra=class extends et{constructor(e,t){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function hs(n){return n.name==="IndexedDbTransactionError"}var Cw=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(G(Yn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(G(Yn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ys(r)}add(e){return G(Yn,"ADD",this.store.name,e,e),Ys(this.store.add(e))}get(e){return Ys(this.store.get(e)).next(t=>(t===void 0&&(t=null),G(Yn,"GET",this.store.name,e,t),t))}delete(e){return G(Yn,"DELETE",this.store.name,e),Ys(this.store.delete(e))}count(){return G(Yn,"COUNT",this.store.name),Ys(this.store.count())}J(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new O((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.H(o,(a,c)=>{s.push(c)}).next(()=>s)}}Y(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new O((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Z(e,t){G(Yn,"DELETE ALL",this.store.name);let r=this.options(e,t);r.X=!1;let i=this.cursor(r);return this.H(i,(o,s,a)=>a.delete())}ee(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.H(i,t)}te(e){let t=this.cursor({});return new O((r,i)=>{t.onerror=o=>{let s=gy(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}H(e,t){let r=[];return new O((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new Mw(a),d=t(a.primaryKey,a.value,c);if(d instanceof O){let u=d.catch(g=>(c.done(),O.reject(g)));r.push(u)}c.isDone?i():c.G===null?a.continue():a.continue(c.G)}}).next(()=>O.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Ys(n){return new O((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=gy(r.target.error);t(i)}})}var YC=!1;function gy(n){let e=dc.M(Se());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YC||(YC=!0,setTimeout(()=>{throw r},0)),r}}return n}var Dh="IndexBackfiller",Ew=class{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){G(Dh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let t=await this.ne.ie();G(Dh,`Documents written: ${t}`)}catch(t){hs(t)?G(Dh,"Ignoring IndexedDB error during index backfill: ",t):await ma(t)}await this.re(6e4)})}},Iw=class{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){let r=new Set,i=t,o=!0;return O.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return G(Dh,`Processing collection: ${s}`),this.oe(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,o)).next(a=>(G(Dh,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}_e(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=n6(o);py(s,r)>0&&(r=s)}),new yr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Br=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),ia=-1;function C1(n){return n==null}function Hh(n){return n===0&&1/n==-1/0}function CN(n){return typeof n=="number"&&Number.isInteger(n)&&!Hh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var O2="";function wn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZC(e)),e=EN(n.get(t),e);return ZC(e)}function EN(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case O2:t+="";break;default:t+=o}}return t}function ZC(n){return n+O2+""}function gi(n){let e=n.length;if(ht(e>=2,64408,{path:n}),e===2)return ht(n.charAt(0)===O2&&n.charAt(1)==="",56145,{path:n}),le.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf(O2,o);switch((s<0||s>t)&&at(50515,{path:n}),n.charAt(s+1)){case"":let a=n.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:at(61167,{path:n})}o=s+2}return new le(r)}var Ks="remoteDocuments",au="owner",Gl="owner",Uh="mutationQueues",IN="userId",Or="mutations",XC="batchId",ta="userMutationsIndex",JC=["userId","batchId"];function k2(n,e){return[n,wn(e)]}function o6(n,e,t){return[n,wn(e),t]}var SN={},hc="documentMutations",B2="remoteDocumentsV14",AN=["prefixPath","collectionGroup","readTime","documentId"],b2="documentKeyIndex",TN=["prefixPath","collectionGroup","documentId"],s6="collectionGroupIndex",DN=["collectionGroup","readTime","prefixPath","documentId"],$h="remoteDocumentGlobal",Sw="remoteDocumentGlobalKey",uc="targets",a6="queryTargetsIndex",RN=["canonicalId","targetId"],pc="targetDocuments",PN=["targetId","path"],fy="documentTargetsIndex",ON=["path","targetId"],N2="targetGlobalKey",oa="targetGlobal",qh="collectionParents",BN=["collectionId","parent"],gc="clientMetadata",NN="clientId",E1="bundles",VN="bundleId",I1="namedQueries",FN="name",my="indexConfiguration",LN="indexId",Aw="collectionGroupIndex",jN="collectionGroup",Rh="indexState",zN=["indexId","uid"],l6="sequenceNumberIndex",HN=["uid","sequenceNumber"],Ph="indexEntries",UN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],c6="documentKeyIndex",$N=["indexId","uid","orderedDocumentKey"],S1="documentOverlays",qN=["userId","collectionPath","documentId"],Tw="collectionPathOverlayIndex",GN=["userId","collectionPath","largestBatchId"],d6="collectionGroupOverlayIndex",WN=["userId","collectionGroup","largestBatchId"],vy="globals",QN="name",h6=[Uh,Or,hc,Ks,uc,au,oa,pc,gc,$h,qh,E1,I1],KN=[...h6,S1],u6=[Uh,Or,hc,B2,uc,au,oa,pc,gc,$h,qh,E1,I1,S1],p6=u6,wy=[...p6,my,Rh,Ph],YN=wy,g6=[...wy,vy],ZN=g6;var Gh=class extends R2{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}};function $e(n,e){let t=At(n);return dc.O(t.le,e)}function t8(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function f6(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var _e=class n{constructor(e,t){this.comparator=e,this.root=t||mi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}},rc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}};mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1;mi.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new mi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var oe=class n{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new V2(this.data.getIterator())}getIteratorFrom(e){return new V2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},V2=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Wl(n){return n.hasNext()?n.getNext():void 0}var Nr=class n{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new n([])}unionWith(e){let t=new oe(He.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var F2=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ue=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new F2("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ue.EMPTY_BYTE_STRING=new Ue("");var XN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(n){if(ht(!!n,39018),typeof n=="string"){let e=0,t=XN.exec(n);if(ht(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fe(n.seconds),nanos:fe(n.nanos)}}function fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qi(n){return typeof n=="string"?Ue.fromBase64String(n):Ue.fromUint8Array(n)}var m6="server_timestamp",v6="__type__",w6="__previous_value__",_6="__local_write_time__";function _y(n){return(n?.mapValue?.fields||{})[v6]?.stringValue===m6}function A1(n){let e=n.mapValue.fields[w6];return _y(e)?A1(e):e}function Wh(n){let e=Wi(n.mapValue.fields[_6].timestampValue);return new me(e.seconds,e.nanos)}var Dw=class{constructor(e,t,r,i,o,s,a,c,d,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=u}},L2="(default)",fc=class n{constructor(e,t){this.projectId=e,this.database=t||L2}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===L2}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var yy="__type__",y6="__max__",Jo={mapValue:{fields:{__type__:{stringValue:y6}}}},ky="__vector__",mc="value",x2={nullValue:"NULL_VALUE"};function rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_y(n)?4:k6(n)?9007199254740991:T1(n)?10:11:at(28295,{value:n})}function vi(n,e){if(n===e)return!0;let t=rs(n);if(t!==rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wh(n).isEqual(Wh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Wi(i.timestampValue),a=Wi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Qi(i.bytesValue).isEqual(Qi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return fe(i.geoPointValue.latitude)===fe(o.geoPointValue.latitude)&&fe(i.geoPointValue.longitude)===fe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return fe(i.integerValue)===fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=fe(i.doubleValue),a=fe(o.doubleValue);return s===a?Hh(s)===Hh(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return ac(n.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(t8(s)!==t8(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!vi(s[c],a[c])))return!1;return!0})(n,e);default:return at(52216,{left:n})}}function Qh(n,e){return(n.values||[]).find(t=>vi(t,e))!==void 0}function is(n,e){if(n===e)return 0;let t=rs(n),r=rs(e);if(t!==r)return St(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return St(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=fe(o.integerValue||o.doubleValue),c=fe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return e8(n.timestampValue,e.timestampValue);case 4:return e8(Wh(n),Wh(e));case 5:return bw(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Qi(o),c=Qi(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){let u=St(a[d],c[d]);if(u!==0)return u}return St(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=St(fe(o.latitude),fe(s.latitude));return a!==0?a:St(fe(o.longitude),fe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return n8(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},c=s.fields||{},d=a[mc]?.arrayValue,u=c[mc]?.arrayValue,g=St(d?.values?.length||0,u?.values?.length||0);return g!==0?g:n8(d,u)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Jo.mapValue&&s===Jo.mapValue)return 0;if(o===Jo.mapValue)return 1;if(s===Jo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),d=s.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let g=0;g<c.length&&g<u.length;++g){let w=bw(c[g],u[g]);if(w!==0)return w;let k=is(a[c[g]],d[u[g]]);if(k!==0)return k}return St(c.length,u.length)})(n.mapValue,e.mapValue);default:throw at(23264,{he:t})}}function e8(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return St(n,e);let t=Wi(n),r=Wi(e),i=St(t.seconds,r.seconds);return i!==0?i:St(t.nanos,r.nanos)}function n8(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=is(t[i],r[i]);if(o)return o}return St(t.length,r.length)}function vc(n){return Rw(n)}function Rw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Wi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Qi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return J.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Rw(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Rw(t.fields[s])}`;return i+"}"})(n.mapValue):at(61005,{value:n})}function M2(n){switch(rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=A1(n);return e?16+M2(e):16;case 5:return 2*n.stringValue.length;case 6:return Qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+M2(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return va(r.fields,(o,s)=>{i+=o.length+M2(s)}),i})(n.mapValue);default:throw at(13486,{value:n})}}function by(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Pw(n){return!!n&&"integerValue"in n}function Kh(n){return!!n&&"arrayValue"in n}function r8(n){return!!n&&"nullValue"in n}function i8(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function C2(n){return!!n&&"mapValue"in n}function T1(n){return(n?.mapValue?.fields||{})[yy]?.stringValue===ky}function Oh(n){if(n.geoPointValue)return{geoPointValue:I({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:I({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oh(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oh(n.arrayValue.values[t]);return e}return I({},n)}function k6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===y6}var b6={mapValue:{fields:{[yy]:{stringValue:ky},[mc]:{arrayValue:{}}}}};function JN(n){return"nullValue"in n?x2:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?by(fc.empty(),J.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?T1(n)?b6:{mapValue:{}}:at(35942,{value:n})}function tV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?by(fc.empty(),J.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?b6:"mapValue"in n?T1(n)?{mapValue:{}}:Jo:at(61959,{value:n})}function o8(n,e){let t=is(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function s8(n,e){let t=is(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Zn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!C2(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(t)}setAll(e){let t=He.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Oh(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());C2(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];C2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){va(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Oh(this.value))}};function x6(n){let e=[];return va(n.fields,(t,r)=>{let i=new He([t]);if(C2(r)){let o=x6(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Nr(e)}var an=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,kt.min(),kt.min(),kt.min(),Zn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,kt.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,kt.min(),kt.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,kt.min(),kt.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var os=class{constructor(e,t){this.position=e,this.inclusive=t}};function a8(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=is(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function l8(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vi(n.position[t],e.position[t]))return!1;return!0}var wc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function eV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var j2=class{},qt=class n extends j2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Nw(e,t,r):t==="array-contains"?new Lw(e,r):t==="in"?new z2(e,r):t==="not-in"?new jw(e,r):t==="array-contains-any"?new zw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Vw(e,r):new Fw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(is(t,this.value)):t!==null&&rs(this.value)===rs(t)&&this.matchesComparison(is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ie=class n extends j2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return _c(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function _c(n){return n.op==="and"}function Ow(n){return n.op==="or"}function xy(n){return M6(n)&&_c(n)}function M6(n){for(let e of n.filters)if(e instanceof ie)return!1;return!0}function Bw(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+vc(n.value);if(xy(n))return n.filters.map(e=>Bw(e)).join(",");{let e=n.filters.map(t=>Bw(t)).join(",");return`${n.op}(${e})`}}function C6(n,e){return n instanceof qt?(function(r,i){return i instanceof qt&&r.op===i.op&&r.field.isEqual(i.field)&&vi(r.value,i.value)})(n,e):n instanceof ie?(function(r,i){return i instanceof ie&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&C6(s,i.filters[a]),!0):!1})(n,e):void at(19439)}function E6(n,e){let t=n.filters.concat(e);return ie.create(t,n.op)}function I6(n){return n instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${vc(t.value)}`})(n):n instanceof ie?(function(t){return t.op.toString()+" {"+t.getFilters().map(I6).join(" ,")+"}"})(n):"Filter"}var Nw=class extends qt{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},Vw=class extends qt{constructor(e,t){super(e,"in",t),this.keys=S6("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Fw=class extends qt{constructor(e,t){super(e,"not-in",t),this.keys=S6("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function S6(n,e){return(e.arrayValue?.values||[]).map(t=>J.fromName(t.referenceValue))}var Lw=class extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Kh(t)&&Qh(t.arrayValue,this.value)}},z2=class extends qt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qh(this.value.arrayValue,t)}},jw=class extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qh(this.value.arrayValue,t)}},zw=class extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Kh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qh(this.value.arrayValue,r))}};var Hw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function Uw(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Hw(n,e,t,r,i,o,s)}function da(n){let e=At(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Bw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),C1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vc(r)).join(",")),e.Te=t}return e.Te}function lu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l8(n.startAt,e.startAt)&&l8(n.endAt,e.endAt)}function H2(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function U2(n,e){return n.filters.filter(t=>t instanceof qt&&t.field.isEqual(e))}function c8(n,e,t){let r=x2,i=!0;for(let o of U2(n,e)){let s=x2,a=!0;switch(o.op){case"<":case"<=":s=JN(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=x2}o8({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];o8({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function d8(n,e,t){let r=Jo,i=!0;for(let o of U2(n,e)){let s=Jo,a=!0;switch(o.op){case">=":case">":s=tV(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Jo}s8({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];s8({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var yc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function nV(n,e,t,r,i,o,s,a){return new yc(n,e,t,r,i,o,s,a)}function D1(n){return new yc(n)}function h8(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rV(n){return n.collectionGroup!==null}function Bh(n){let e=At(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new oe(He.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wc(o,r))}),t.has(He.keyField().canonicalString())||e.Ie.push(new wc(He.keyField(),r))}return e.Ie}function _r(n){let e=At(n);return e.Ee||(e.Ee=iV(e,Bh(n))),e.Ee}function iV(n,e){if(n.limitType==="F")return Uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new wc(i.field,o)});let t=n.endAt?new os(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new os(n.startAt.position,n.startAt.inclusive):null;return Uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $w(n,e,t){return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function R1(n,e){return lu(_r(n),_r(e))&&n.limitType===e.limitType}function A6(n){return`${da(_r(n))}|lt:${n.limitType}`}function Jl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>I6(i)).join(", ")}]`),C1(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vc(i)).join(",")),`Target(${r})`})(_r(n))}; limitType=${n.limitType})`}function cu(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Bh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let d=a8(s,a,c);return s.inclusive?d<=0:d<0})(r.startAt,Bh(r),i)||r.endAt&&!(function(s,a,c){let d=a8(s,a,c);return s.inclusive?d>=0:d>0})(r.endAt,Bh(r),i))})(n,e)}function oV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T6(n){return(e,t)=>{let r=!1;for(let i of Bh(n)){let o=sV(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function sV(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),d=a.data.field(o);return c!==null&&d!==null?is(c,d):at(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at(19790,{direction:n.dir})}}var Lr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return f6(this.inner)}size(){return this.innerSize}};var aV=new _e(J.comparator);function Xn(){return aV}var D6=new _e(J.comparator);function Ah(...n){let e=D6;for(let t of n)e=e.insert(t.key,t);return e}function R6(n){let e=D6;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fi(){return Nh()}function P6(){return Nh()}function Nh(){return new Lr(n=>n.toString(),(n,e)=>n.isEqual(e))}var lV=new _e(J.comparator),cV=new oe(J.comparator);function Ft(...n){let e=cV;for(let t of n)e=e.add(t);return e}var dV=new oe(St);function hV(){return dV}function My(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function O6(n){return{integerValue:""+n}}function uV(n,e){return CN(e)?O6(e):My(n,e)}var kc=class{constructor(){this._=void 0}};function pV(n,e,t){return n instanceof ha?(function(i,o){let s={fields:{[v6]:{stringValue:m6},[_6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_y(o)&&(o=A1(o)),o&&(s.fields[w6]=o),{mapValue:s}})(t,e):n instanceof ss?N6(n,e):n instanceof as?V6(n,e):(function(i,o){let s=B6(i,o),a=u8(s)+u8(i.Ae);return Pw(s)&&Pw(i.Ae)?O6(a):My(i.serializer,a)})(n,e)}function gV(n,e,t){return n instanceof ss?N6(n,e):n instanceof as?V6(n,e):t}function B6(n,e){return n instanceof ua?(function(r){return Pw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ha=class extends kc{},ss=class extends kc{constructor(e){super(),this.elements=e}};function N6(n,e){let t=F6(e);for(let r of n.elements)t.some(i=>vi(i,r))||t.push(r);return{arrayValue:{values:t}}}var as=class extends kc{constructor(e){super(),this.elements=e}};function V6(n,e){let t=F6(e);for(let r of n.elements)t=t.filter(i=>!vi(i,r));return{arrayValue:{values:t}}}var ua=class extends kc{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function u8(n){return fe(n.integerValue||n.doubleValue)}function F6(n){return Kh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var qw=class{constructor(e,t){this.field=e,this.transform=t}};function fV(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ss&&i instanceof ss||r instanceof as&&i instanceof as?ac(r.elements,i.elements,vi):r instanceof ua&&i instanceof ua?vi(r.Ae,i.Ae):r instanceof ha&&i instanceof ha})(n.transform,e.transform)}var Gw=class{constructor(e,t){this.version=e,this.transformResults=t}},Vr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function E2(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var bc=class{};function L6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yh(n.key,Vr.none()):new ls(n.key,n.data,Vr.none());{let t=n.data,r=Zn.empty(),i=new oe(He.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new wi(n.key,r,new Nr(i.toArray()),Vr.none())}}function mV(n,e,t){n instanceof ls?(function(i,o,s){let a=i.value.clone(),c=g8(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof wi?(function(i,o,s){if(!E2(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=g8(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(j6(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Vh(n,e,t,r){return n instanceof ls?(function(o,s,a,c){if(!E2(o.precondition,s))return a;let d=o.value.clone(),u=f8(o.fieldTransforms,c,s);return d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof wi?(function(o,s,a,c){if(!E2(o.precondition,s))return a;let d=f8(o.fieldTransforms,c,s),u=s.data;return u.setAll(j6(o)),u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(n,e,t,r):(function(o,s,a){return E2(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function vV(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=B6(r.transform,i||null);o!=null&&(t===null&&(t=Zn.empty()),t.set(r.field,o))}return t||null}function p8(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ac(r,i,(o,s)=>fV(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ls=class extends bc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wi=class extends bc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function j6(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function g8(n,e,t){let r=new Map;ht(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,gV(s,a,t[i]))}return r}function f8(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,pV(o,s,e))}return r}var Yh=class extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},$2=class extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zh=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&mV(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Vh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=P6();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=L6(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(kt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ft())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(t,r)=>p8(t,r))&&ac(this.baseMutations,e.baseMutations,(t,r)=>p8(t,r))}},Ww=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return lV})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Xh=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Qw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,Xt;function wV(n){switch(n){case H.OK:return at(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return at(15467,{code:n})}}function z6(n){if(n===void 0)return Cn("GRPC error has no .code"),H.UNKNOWN;switch(n){case Oe.OK:return H.OK;case Oe.CANCELLED:return H.CANCELLED;case Oe.UNKNOWN:return H.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return H.INTERNAL;case Oe.UNAVAILABLE:return H.UNAVAILABLE;case Oe.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Oe.NOT_FOUND:return H.NOT_FOUND;case Oe.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Oe.ABORTED:return H.ABORTED;case Oe.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Oe.DATA_LOSS:return H.DATA_LOSS;default:return at(39323,{code:n})}}(Xt=Oe||(Oe={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";var _V=null;function yV(){return new TextEncoder}var kV=new $i([4294967295,4294967295],0);function m8(n){let e=yV().encode(n),t=new rw;return t.update(e),new Uint8Array(t.digest())}function v8(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $i([t,r],0),new $i([i,o],0)]}var Kw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ea(`Invalid padding: ${t}`);if(r<0)throw new ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ea(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ea(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=$i.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply($i.fromNumber(r)));return i.compare(kV)===1&&(i=new $i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=m8(e),[r,i]=v8(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=m8(e),[r,i]=v8(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ea=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var q2=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(kt.min(),i,new _e(St),Xn(),Ft())}},Jh=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ft(),Ft(),Ft())}};var oc=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},G2=class{constructor(e,t){this.targetId=e,this.Ce=t}},W2=class{constructor(e,t,r=Ue.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Q2=class{constructor(){this.ve=0,this.Fe=w8(),this.Me=Ue.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ft(),t=Ft(),r=Ft();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at(38017,{changeType:o})}}),new Jh(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=w8()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Yw=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=m2(),this.He=m2(),this.Ye=new _e(St)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:at(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(H2(o))if(r===0){let s=new J(o.path);this.et(t,s,an.newNoDocument(s,kt.min()))}else ht(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),c=a?this.ct(a,e,s):1;if(c!==0){this.it(t);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}_V?.lt((function(u,g,w,k,D){let F={localCacheCount:u,existenceFilterCount:g.count,databaseId:w.database,projectId:w.projectId},T=g.unchangedNames;return T&&(F.bloomFilter={applied:D===0,hashCount:T?.hashCount??0,bitmapLength:T?.bits?.bitmap?.length??0,padding:T?.bits?.padding??0,mightContain:U=>k?.mightContain(U)??!1}),F})(s,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Qi(r).toUint8Array()}catch(c){if(c instanceof F2)return ca("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Kw(s,i,o)}catch(c){return ca(c instanceof ea?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&H2(a.target)){let c=new J(a.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,an.newNoDocument(c,e))}o.Be&&(t.set(s,o.ke()),o.qe())}});let r=Ft();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new q2(e,t,this.Ye,this.je,r);return this.je=Xn(),this.Je=m2(),this.He=m2(),this.Ye=new _e(St),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Q2,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new oe(St),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new oe(St),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q2),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function m2(){return new _e(J.comparator)}function w8(){return new _e(J.comparator)}var bV={asc:"ASCENDING",desc:"DESCENDING"},xV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MV={and:"AND",or:"OR"},Zw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Xw(n,e){return n.useProto3Json||C1(e)?e:{value:e}}function xc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CV(n,e){return xc(n,e.toTimestamp())}function En(n){return ht(!!n,49232),kt.fromTimestamp((function(t){let r=Wi(t);return new me(r.seconds,r.nanos)})(n))}function Cy(n,e){return Jw(n,e).canonicalString()}function Jw(n,e){let t=(function(i){return new le(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function U6(n){let e=le.fromString(n);return ht(X6(e),10190,{key:e.toString()}),e}function K2(n,e){return Cy(n.databaseId,e.path)}function sa(n,e){let t=U6(e);if(t.get(1)!==n.databaseId.projectId)throw new et(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(G6(t))}function $6(n,e){return Cy(n.databaseId,e)}function q6(n){let e=U6(n);return e.length===4?le.emptyPath():G6(e)}function t_(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function G6(n){return ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _8(n,e,t){return{name:K2(n,e),fields:t.value.mapValue.fields}}function EV(n,e,t){let r=sa(n,e.name),i=En(e.updateTime),o=e.createTime?En(e.createTime):kt.min(),s=new Zn({mapValue:{fields:e.fields}}),a=an.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function IV(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:at(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,u){return d.useProto3Json?(ht(u===void 0||typeof u=="string",58123),Ue.fromBase64String(u||"")):(ht(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ue.fromUint8Array(u||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(d){let u=d.code===void 0?H.UNKNOWN:z6(d.code);return new et(u,d.message||"")})(s);t=new W2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=sa(n,r.document.name),o=En(r.document.updateTime),s=r.document.createTime?En(r.document.createTime):kt.min(),a=new Zn({mapValue:{fields:r.document.fields}}),c=an.newFoundDocument(i,o,s,a),d=r.targetIds||[],u=r.removedTargetIds||[];t=new oc(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=sa(n,r.document),o=r.readTime?En(r.readTime):kt.min(),s=an.newNoDocument(i,o),a=r.removedTargetIds||[];t=new oc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=sa(n,r.document),o=r.removedTargetIds||[];t=new oc([],o,i,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Qw(i,o),a=r.targetId;t=new G2(a,s)}}return t}function Y2(n,e){let t;if(e instanceof ls)t={update:_8(n,e.key,e.value)};else if(e instanceof Yh)t={delete:K2(n,e.key)};else if(e instanceof wi)t={update:_8(n,e.key,e.data),updateMask:PV(e.fieldMask)};else{if(!(e instanceof $2))return at(16599,{Vt:e.type});t={verify:K2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof as)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ua)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw at(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:CV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:at(27497)})(n,e.precondition)),t}function e_(n,e){let t=e.currentDocument?(function(o){return o.updateTime!==void 0?Vr.updateTime(En(o.updateTime)):o.exists!==void 0?Vr.exists(o.exists):Vr.none()})(e.currentDocument):Vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>(function(s,a){let c=null;if("setToServerValue"in a)ht(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),c=new ha;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new ss(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new as(u)}else"increment"in a?c=new ua(s,a.increment):at(16584,{proto:a});let d=He.fromServerFormat(a.fieldPath);return new qw(d,c)})(n,i)):[];if(e.update){e.update.name;let i=sa(n,e.update.name),o=new Zn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=(function(c){let d=c.fieldPaths||[];return new Nr(d.map(u=>He.fromServerFormat(u)))})(e.updateMask);return new wi(i,o,s,t,r)}return new ls(i,o,t,r)}if(e.delete){let i=sa(n,e.delete);return new Yh(i,t)}if(e.verify){let i=sa(n,e.verify);return new $2(i,t)}return at(1463,{proto:e})}function SV(n,e){return n&&n.length>0?(ht(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?En(i.updateTime):En(o);return s.isEqual(kt.min())&&(s=En(o)),new Gw(s,i.transformResults||[])})(t,e))):[]}function W6(n,e){return{documents:[$6(n,e.path)]}}function Q6(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$6(n,i);let o=(function(d){if(d.length!==0)return Z6(ie.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(d){if(d.length!==0)return d.map(u=>(function(w){return{field:tc(w.field),direction:TV(w.dir)}})(u))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Xw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function K6(n){let e=q6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ht(r===1,65062);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=(function(g){let w=Y6(g);return w instanceof ie&&xy(w)?w.getFilters():[w]})(t.where));let s=[];t.orderBy&&(s=(function(g){return g.map(w=>(function(D){return new wc(ec(D.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w))})(t.orderBy));let a=null;t.limit&&(a=(function(g){let w;return w=typeof g=="object"?g.value:g,C1(w)?null:w})(t.limit));let c=null;t.startAt&&(c=(function(g){let w=!!g.before,k=g.values||[];return new os(k,w)})(t.startAt));let d=null;return t.endAt&&(d=(function(g){let w=!g.before,k=g.values||[];return new os(k,w)})(t.endAt)),nV(e,i,s,o,a,"F",c,d)}function AV(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Y6(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ec(t.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ec(t.unaryFilter.field);return qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ec(t.unaryFilter.field);return qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ec(t.unaryFilter.field);return qt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qt.create(ec(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ie.create(t.compositeFilter.filters.map(r=>Y6(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(t.compositeFilter.op))})(n):at(30097,{filter:n})}function TV(n){return bV[n]}function DV(n){return xV[n]}function RV(n){return MV[n]}function tc(n){return{fieldPath:n.canonicalString()}}function ec(n){return He.fromServerFormat(n.fieldPath)}function Z6(n){return n instanceof qt?(function(t){if(t.op==="=="){if(i8(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NAN"}};if(r8(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(i8(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NAN"}};if(r8(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(t.field),op:DV(t.op),value:t.value}}})(n):n instanceof ie?(function(t){let r=t.getFilters().map(i=>Z6(i));return r.length===1?r[0]:{compositeFilter:{op:RV(t.op),filters:r}}})(n):at(54877,{filter:n})}function PV(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function X6(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Mc=class n{constructor(e,t,r,i,o=kt.min(),s=kt.min(),a=Ue.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Z2=class{constructor(e){this.yt=e}};function OV(n,e){let t;if(e.document)t=EV(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=J.fromSegments(e.noDocument.path),i=ga(e.noDocument.readTime);t=an.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at(56709);{let r=J.fromSegments(e.unknownDocument.path),i=ga(e.unknownDocument.version);t=an.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){let o=new me(i[0],i[1]);return kt.fromTimestamp(o)})(e.readTime)),t}function y8(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:X2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,s){return{name:K2(o,s.key),fields:s.data.value.mapValue.fields,updateTime:xc(o,s.version.toTimestamp()),createTime:xc(o,s.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:pa(e.version)};else{if(!e.isUnknownDocument())return at(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:pa(e.version)}}return r}function X2(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pa(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ga(n){let e=new me(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function Zs(n,e){let t=(e.baseMutations||[]).map(o=>e_(n.yt,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>e_(n.yt,o)),i=me.fromMillis(e.localWriteTimeMs);return new Zh(e.batchId,i,t,r)}function Th(n){let e=ga(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ga(n.lastLimboFreeSnapshotVersion):kt.min(),r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){let s=o.documents.length;return ht(s===1,1966,{count:s}),_r(D1(q6(o.documents[0])))})(n.query):(function(o){return _r(K6(o))})(n.query),new Mc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ue.fromBase64String(n.resumeToken))}function J6(n,e){let t=pa(e.snapshotVersion),r=pa(e.lastLimboFreeSnapshotVersion),i;i=H2(e.target)?W6(n.yt,e.target):Q6(n.yt,e.target).ft;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:da(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tE(n){let e=K6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$w(e,e.limit,"L"):e}function dw(n,e){return new Xh(e.largestBatchId,e_(n.yt,e.overlayMutation))}function k8(n,e){let t=e.path.lastSegment();return[n,wn(e.path.popLast()),t]}function b8(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:pa(r.readTime),documentKey:wn(r.documentKey.path),largestBatchId:r.largestBatchId}}var n_=class{getBundleMetadata(e,t){return x8(e).get(t).next(r=>{if(r)return(function(o){return{id:o.bundleId,createTime:ga(o.createTime),version:o.version}})(r)})}saveBundleMetadata(e,t){return x8(e).put((function(i){return{bundleId:i.id,createTime:pa(En(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return M8(e).get(t).next(r=>{if(r)return(function(o){return{name:o.name,query:tE(o.bundledQuery),readTime:ga(o.readTime)}})(r)})}saveNamedQuery(e,t){return M8(e).put((function(i){return{name:i.name,readTime:pa(En(i.readTime)),bundledQuery:i.bundledQuery}})(t))}};function x8(n){return $e(n,E1)}function M8(n){return $e(n,I1)}var J2=class n{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Ch(e).get(k8(this.userId,t)).next(r=>r?dw(this.serializer,r):null)}getOverlays(e,t){let r=fi();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new Xh(t,s);i.push(this.St(e,a))}),O.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(wn(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ch(e).Z(Tw,a))}),O.waitFor(o)}getOverlaysForCollection(e,t,r){let i=fi(),o=wn(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ch(e).J(Tw,s).next(a=>{for(let c of a){let d=dw(this.serializer,c);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=fi(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ch(e).ee({index:d6,range:a},(c,d,u)=>{let g=dw(this.serializer,d);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):u.done()}).next(()=>o)}St(e,t){return Ch(e).put((function(i,o,s){let[a,c,d]=k8(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Y2(i.yt,s.mutation)}})(this.serializer,this.userId,t))}};function Ch(n){return $e(n,S1)}var r_=class{bt(e){return $e(e,vy)}getSessionToken(e){return this.bt(e).get("sessionToken").next(t=>{let r=t?.value;return r?Ue.fromUint8Array(r):Ue.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Gi=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(fe(e.integerValue));else if("doubleValue"in e){let r=fe(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Hh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Wi(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Qi(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?k6(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):T1(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):at(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=mc,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(fe(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),J.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Gi.Kt=new Gi;var Ql=255;function BV(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function C8(n){let e=64-(function(r){let i=0;for(let o=0;o<8;++o){let s=BV(255&r[o]);if(i+=s,s!==8)break}return i})(n);return Math.ceil(e/8)}var i_=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{let i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{let i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){let t=this.en(e),r=C8(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){let t=this.en(e),r=C8(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Ql),this.sn(255)}_n(){this.an(Ql),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t=(function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){let t=255&e;t===0?(this.sn(0),this.sn(255)):t===Ql?(this.sn(Ql),this.sn(0)):this.sn(t)}Jt(e){let t=255&e;t===0?(this.an(0),this.an(255)):t===Ql?(this.an(Ql),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},o_=class{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}},s_=class{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}},Xs=class{constructor(){this.cn=new i_,this.ln=new o_(this.cn),this.hn=new s_(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}};var Js=class n{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){let e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new n(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:I2(this.En),directionalValue:I2(this.dn),orderedDocumentKey:I2(t),documentKey:r.path.toArray()}}Vn(e,t,r){let i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}};function Ko(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=E8(n.En,e.En),t!==0?t:(t=E8(n.dn,e.dn),t!==0?t:J.comparator(n.In,e.In)))}function E8(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function I2(n){return iv()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function I8(n){return typeof n!="string"?n:(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}var t1=class{constructor(e){this.mn=new oe((t,r)=>He.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(let t of e.filters){let r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(ht(e.collectionGroup===this.collectionId,49279),this.pn)return!1;let t=xw(e);if(t!==void 0&&!this.wn(t))return!1;let r=Qs(e),i=new Set,o=0,s=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){let a=this.mn.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.Sn(a,c)||!this.bn(this.fn[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.fn.length||!this.bn(this.fn[s++],a))return!1}return!0}Dn(){if(this.pn)return null;let e=new oe(He.comparator),t=[];for(let r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new ic(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new ic(r.field,0))}for(let r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new ic(r.field,r.dir==="asc"?0:1)));return new cc(cc.UNKNOWN_ID,this.collectionId,t,zh.empty())}wn(e){for(let t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function eE(n){if(ht(n instanceof qt||n instanceof ie,20012),n instanceof qt){if(n instanceof z2){let t=n.value.arrayValue?.values?.map(r=>qt.create(n.field,"==",r))||[];return ie.create(t,"or")}return n}let e=n.filters.map(t=>eE(t));return ie.create(e,n.op)}function NV(n){if(n.getFilters().length===0)return[];let e=c_(eE(n));return ht(nE(e),7391),a_(e)||l_(e)?[e]:e.getFilters()}function a_(n){return n instanceof qt}function l_(n){return n instanceof ie&&xy(n)}function nE(n){return a_(n)||l_(n)||(function(t){if(t instanceof ie&&Ow(t)){for(let r of t.getFilters())if(!a_(r)&&!l_(r))return!1;return!0}return!1})(n)}function c_(n){if(ht(n instanceof qt||n instanceof ie,34018),n instanceof qt)return n;if(n.filters.length===1)return c_(n.filters[0]);let e=n.filters.map(r=>c_(r)),t=ie.create(e,n.op);return t=e1(t),nE(t)?t:(ht(t instanceof ie,64498),ht(_c(t),40251),ht(t.filters.length>1,57927),t.filters.reduce((r,i)=>Ey(r,i)))}function Ey(n,e){let t;return ht(n instanceof qt||n instanceof ie,38388),ht(e instanceof qt||e instanceof ie,25473),t=n instanceof qt?e instanceof qt?(function(i,o){return ie.create([i,o],"and")})(n,e):S8(n,e):e instanceof qt?S8(e,n):(function(i,o){if(ht(i.filters.length>0&&o.filters.length>0,48005),_c(i)&&_c(o))return E6(i,o.getFilters());let s=Ow(i)?i:o,a=Ow(i)?o:i,c=s.filters.map(d=>Ey(d,a));return ie.create(c,"or")})(n,e),e1(t)}function S8(n,e){if(_c(e))return E6(e,n.getFilters());{let t=e.filters.map(r=>Ey(n,r));return ie.create(t,"or")}}function e1(n){if(ht(n instanceof qt||n instanceof ie,11850),n instanceof qt)return n;let e=n.getFilters();if(e.length===1)return e1(e[0]);if(M6(n))return n;let t=e.map(i=>e1(i)),r=[];return t.forEach(i=>{i instanceof qt?r.push(i):i instanceof ie&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ie.create(r,n.op)}var d_=class{constructor(){this.Cn=new tu}addToCollectionParentIndex(e,t){return this.Cn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(yr.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},tu=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new oe(le.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new oe(le.comparator)).toArray()}};var A8="IndexedDbIndexManager",v2=new Uint8Array(0),h_=class{constructor(e,t){this.databaseId=t,this.vn=new tu,this.Fn=new Lr(r=>da(r),(r,i)=>lu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});let o={collectionId:r,parent:wn(i)};return T8(e).put(o)}return O.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[t6(t),""],!1,!0);return T8(e).J(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(gi(s.parent))}return r})}addFieldIndex(e,t){let r=Eh(e),i=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}})(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=Yl(e);return o.next(a=>{s.put(b8(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=Eh(e),i=Yl(e),o=Kl(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Eh(e),r=Kl(e),i=Yl(e);return t.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,t){return O.forEach(this.Mn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new t1(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=Kl(e),i=!0,o=new Map;return O.forEach(this.Mn(t),s=>this.xn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Ft(),a=[];return O.forEach(o,(c,d)=>{G(A8,`Using index ${(function(W){return`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map(dt=>`${dt.fieldPath}:${dt.kind}`).join(",")}`})(c)} to execute ${da(t)}`);let u=(function(W,dt){let Ct=xw(dt);if(Ct===void 0)return null;for(let Mt of U2(W,Ct.fieldPath))switch(Mt.op){case"array-contains-any":return Mt.value.arrayValue.values||[];case"array-contains":return[Mt.value]}return null})(d,c),g=(function(W,dt){let Ct=new Map;for(let Mt of Qs(dt))for(let C of U2(W,Mt.fieldPath))switch(C.op){case"==":case"in":Ct.set(Mt.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return Ct.set(Mt.fieldPath.canonicalString(),C.value),Array.from(Ct.values())}return null})(d,c),w=(function(W,dt){let Ct=[],Mt=!0;for(let C of Qs(dt)){let y=C.kind===0?c8(W,C.fieldPath,W.startAt):d8(W,C.fieldPath,W.startAt);Ct.push(y.value),Mt&&(Mt=y.inclusive)}return new os(Ct,Mt)})(d,c),k=(function(W,dt){let Ct=[],Mt=!0;for(let C of Qs(dt)){let y=C.kind===0?d8(W,C.fieldPath,W.endAt):c8(W,C.fieldPath,W.endAt);Ct.push(y.value),Mt&&(Mt=y.inclusive)}return new os(Ct,Mt)})(d,c),D=this.On(c,d,w),F=this.On(c,d,k),T=this.Nn(c,d,g),U=this.Bn(c.indexId,u,D,w.inclusive,F,k.inclusive,T);return O.forEach(U,q=>r.Y(q,t.limit).next(W=>{W.forEach(dt=>{let Ct=J.fromSegments(dt.documentKey);s.has(Ct)||(s=s.add(Ct),a.push(Ct))})}))}).next(()=>a)}return O.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=NV(ie.create(e.filters,"and")).map(r=>Uw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,r,i,o,s,a){let c=(t!=null?t.length:1)*Math.max(r.length,o.length),d=c/(t!=null?t.length:1),u=[];for(let g=0;g<c;++g){let w=t?this.Ln(t[g/d]):v2,k=this.kn(e,w,r[g%d],i),D=this.qn(e,w,o[g%d],s),F=a.map(T=>this.kn(e,w,T,!0));u.push(...this.createRange(k,D,F))}return u}kn(e,t,r,i){let o=new Js(e,J.empty(),t,r);return i?o:o.An()}qn(e,t,r,i){let o=new Js(e,J.empty(),t,r);return i?o.An():o}xn(e,t){let r=new t1(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.yn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.Mn(t);return O.forEach(i,o=>this.xn(e,o).next(s=>{s?r!==0&&s.fields.length<(function(c){let d=new oe(He.comparator),u=!1;for(let g of c.filters)for(let w of g.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?u=!0:d=d.add(w.field));for(let g of c.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(u?1:0)})(o)&&(r=1):r=0})).next(()=>(function(s){return s.limit!==null})(t)&&i.length>1&&r===2?1:r)}Qn(e,t){let r=new Xs;for(let i of Qs(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.Pn(i.kind);Gi.Kt.Dt(o,s)}return r.un()}Ln(e){let t=new Xs;return Gi.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){let r=new Xs;return Gi.Kt.Dt(by(this.databaseId,t),r.Pn((function(o){let s=Qs(o);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Xs);let o=0;for(let s of Qs(e)){let a=r[o++];for(let c of i)if(this.Un(t,s.fieldPath)&&Kh(a))i=this.Kn(i,s,a);else{let d=c.Pn(s.kind);Gi.Kt.Dt(a,d)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new Xs;c.seed(a.un()),Gi.Kt.Dt(s,c.Pn(t.kind)),o.push(c)}return o}Un(e,t){return!!e.filters.find(r=>r instanceof qt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Eh(e),i=Yl(e);return(t?r.J(Aw,IDBKeyRange.bound(t,t)):r.J()).next(o=>{let s=[];return O.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push((function(u,g){let w=g?new zh(g.sequenceNumber,new yr(ga(g.readTime),new J(gi(g.documentKey)),g.largestBatchId)):zh.empty(),k=u.fields.map(([D,F])=>new ic(He.fromServerFormat(D),F));return new cc(u.indexId,u.collectionGroup,k,w)})(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:St(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Eh(e),o=Yl(e);return this.Gn(e).next(s=>i.J(Aw,IDBKeyRange.bound(t,t)).next(a=>O.forEach(a,c=>o.put(b8(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return O.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?O.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),O.forEach(a,c=>this.zn(e,i,c).next(d=>{let u=this.jn(o,c);return d.isEqual(u)?O.resolve():this.Jn(e,o,c,d,u)}))))})}Hn(e,t,r,i){return Kl(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return Kl(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){let i=Kl(e),o=new oe(Ko);return i.ee({index:c6,range:IDBKeyRange.only([r.indexId,this.uid,I2(this.$n(r,t))])},(s,a)=>{o=o.add(new Js(r.indexId,t,I8(a.arrayValue),I8(a.directionalValue)))}).next(()=>o)}jn(e,t){let r=new oe(Ko),i=this.Qn(t,e);if(i==null)return r;let o=xw(t);if(o!=null){let s=e.data.field(o.fieldPath);if(Kh(s))for(let a of s.arrayValue.values||[])r=r.add(new Js(t.indexId,e.key,this.Ln(a),i))}else r=r.add(new Js(t.indexId,e.key,v2,i));return r}Jn(e,t,r,i,o){G(A8,"Updating index entries for document '%s'",t.key);let s=[];return(function(c,d,u,g,w){let k=c.getIterator(),D=d.getIterator(),F=Wl(k),T=Wl(D);for(;F||T;){let U=!1,q=!1;if(F&&T){let W=u(F,T);W<0?q=!0:W>0&&(U=!0)}else F!=null?q=!0:U=!0;U?(g(T),T=Wl(D)):q?(w(F),F=Wl(k)):(F=Wl(k),T=Wl(D))}})(i,o,Ko,a=>{s.push(this.Hn(e,t,r,a))},a=>{s.push(this.Yn(e,t,r,a))}),O.waitFor(s)}Gn(e){let t=1;return Yl(e).ee({index:l6,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Ko(s,a)).filter((s,a,c)=>!a||Ko(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Ko(s,e),c=Ko(s,t);if(a===0)i[0]=e.An();else if(a>0&&c<0)i.push(s),i.push(s.An());else if(c>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];let a=i[s].Vn(this.uid,v2,J.empty()),c=i[s+1].Vn(this.uid,v2,J.empty());o.push(IDBKeyRange.bound(a,c))}return o}Zn(e,t){return Ko(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(D8)}getMinOffset(e,t){return O.mapArray(this.Mn(t),r=>this.xn(e,r).next(i=>i||at(44426))).next(D8)}};function T8(n){return $e(n,qh)}function Kl(n){return $e(n,Ph)}function Eh(n){return $e(n,my)}function Yl(n){return $e(n,Rh)}function D8(n){ht(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;py(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new yr(e.readTime,e.documentKey,t)}var R8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040,Pn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};function iE(n,e,t){let r=n.store(Or),i=n.store(hc),o=[],s=IDBKeyRange.only(t.batchId),a=0,c=r.ee({range:s},(u,g,w)=>(a++,w.delete()));o.push(c.next(()=>{ht(a===1,47070,{batchId:t.batchId})}));let d=[];for(let u of t.mutations){let g=o6(e,u.key.path,t.batchId);o.push(i.delete(g)),d.push(u.key)}return O.waitFor(o).next(()=>d)}function n1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at(14731);e=n.noDocument}return JSON.stringify(e).length}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(rE,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);var r1=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){ht(e.uid!=="",64387);let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yo(e).ee({index:ta,range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=nc(e),s=Yo(e);return s.add({}).next(a=>{ht(typeof a=="number",49019);let c=new Zh(a,t,r,i),d=(function(k,D,F){let T=F.baseMutations.map(q=>Y2(k.yt,q)),U=F.mutations.map(q=>Y2(k.yt,q));return{userId:D,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:T,mutations:U}})(this.serializer,this.userId,c),u=[],g=new oe((w,k)=>St(w.canonicalString(),k.canonicalString()));for(let w of i){let k=o6(this.userId,w.key.path,a);g=g.add(w.key.path.popLast()),u.push(s.put(d)),u.push(o.put(k,SN))}return g.forEach(w=>{u.push(this.indexManager.addToCollectionParentIndex(e,w))}),e.addOnCommittedListener(()=>{this.Xn[a]=c.keys()}),O.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return Yo(e).get(t).next(r=>r?(ht(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Zs(this.serializer,r)):null)}er(e,t){return this.Xn[t]?O.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yo(e).ee({index:ta,range:i},(s,a,c)=>{a.userId===this.userId&&(ht(a.batchId>=r,47524,{tr:r}),o=Zs(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=ia;return Yo(e).ee({index:ta,range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,ia],[this.userId,Number.POSITIVE_INFINITY]);return Yo(e).J(ta,t).next(r=>r.map(i=>Zs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=k2(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return nc(e).ee({range:i},(s,a,c)=>{let[d,u,g]=s,w=gi(u);if(d===this.userId&&t.path.isEqual(w))return Yo(e).get(g).next(k=>{if(!k)throw at(61480,{nr:s,batchId:g});ht(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:g}),o.push(Zs(this.serializer,k))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new oe(St),i=[];return t.forEach(o=>{let s=k2(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=nc(e).ee({range:a},(d,u,g)=>{let[w,k,D]=d,F=gi(k);w===this.userId&&o.path.isEqual(F)?r=r.add(D):g.done()});i.push(c)}),O.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=k2(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new oe(St);return nc(e).ee({range:s},(c,d,u)=>{let[g,w,k]=c,D=gi(w);g===this.userId&&r.isPrefixOf(D)?D.length===i&&(a=a.add(k)):u.done()}).next(()=>this.rr(e,a))}rr(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Yo(e).get(o).next(s=>{if(s===null)throw at(35274,{batchId:o});ht(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),r.push(Zs(this.serializer,s))}))}),O.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return iE(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),O.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return O.resolve();let r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return nc(e).ee({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=gi(o[1]);i.push(c)}else a.done()}).next(()=>{ht(i.length===0,56720,{sr:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return oE(e,this.userId,t)}_r(e){return sE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:ia,lastStreamToken:""})}};function oE(n,e,t){let r=k2(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return nc(n).ee({range:o,X:!0},(a,c,d)=>{let[u,g,w]=a;u===e&&g===i&&(s=!0),d.done()}).next(()=>s)}function Yo(n){return $e(n,Or)}function nc(n){return $e(n,hc)}function sE(n){return $e(n,Uh)}var Cc=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var u_=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{let r=new Cc(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(t=>kt.fromTimestamp(new me(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Zl(e).delete(t.targetId)).next(()=>this.lr(e)).next(r=>(ht(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,t,r){let i=0,o=[];return Zl(e).ee((s,a)=>{let c=Th(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>O.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Zl(e).ee((r,i)=>{let o=Th(i);t(o)})}lr(e){return P8(e).get(N2).next(t=>(ht(t!==null,2888),t))}hr(e,t){return P8(e).put(N2,t)}Pr(e,t){return Zl(e).put(J6(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(t=>t.targetCount)}getTargetData(e,t){let r=da(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Zl(e).ee({range:i,index:a6},(s,a,c)=>{let d=Th(a);lu(t,d.target)&&(o=d,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=Xo(e);return t.forEach(s=>{let a=wn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),O.waitFor(i)}removeMatchingKeys(e,t,r){let i=Xo(e);return O.forEach(t,o=>{let s=wn(o.path);return O.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=Xo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Xo(e),o=Ft();return i.ee({range:r,X:!0},(s,a,c)=>{let d=gi(s[1]),u=new J(d);o=o.add(u)}).next(()=>o)}containsKey(e,t){let r=wn(t.path),i=IDBKeyRange.bound([r],[t6(r)],!1,!0),o=0;return Xo(e).ee({index:fy,X:!0,range:i},([s,a],c,d)=>{s!==0&&(o++,d.done())}).next(()=>o>0)}At(e,t){return Zl(e).get(t).next(r=>r?Th(r):null)}};function Zl(n){return $e(n,uc)}function P8(n){return $e(n,oa)}function Xo(n){return $e(n,pc)}var O8="LruGarbageCollector",VV=1048576;function B8([n,e],[t,r]){let i=St(n,t);return i===0?St(e,r):i}var p_=class{constructor(e){this.Ir=e,this.buffer=new oe(B8),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();B8(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},i1=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(O8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hs(t)?G(O8,"Ignoring IndexedDB error during garbage collection: ",t):await ma(t)}await this.Vr(3e5)})}},g_=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(Br.ce);let r=new p_(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(R8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R8):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,s,a,c,d,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),Xl()<=Lt.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function aE(n,e){return new g_(n,e)}var f_=class{constructor(e,t){this.db=e,this.garbageCollector=aE(this,t)}gr(e){let t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(r,i)=>t(i))}addReference(e,t,r){return w2(e,r)}removeReference(e,t,r){return w2(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return w2(e,t)}br(e,t){return(function(i,o){let s=!1;return sE(i).te(a=>oE(i,a,o).next(c=>(c&&(s=!0),O.resolve(!c)))).next(()=>s)})(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Sr(e,(s,a)=>{if(a<=t){let c=this.br(e,s).next(d=>{if(!d)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,kt.min()),Xo(e).delete((function(g){return[0,wn(g.path)]})(s))))});i.push(c)}}).next(()=>O.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return w2(e,t)}Sr(e,t){let r=Xo(e),i,o=Br.ce;return r.ee({index:fy},([s,a],{path:c,sequenceNumber:d})=>{s===0?(o!==Br.ce&&t(new J(gi(i)),o),o=d,i=c):o=Br.ce}).next(()=>{o!==Br.ce&&t(new J(gi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function w2(n,e){return Xo(n).put((function(r,i){return{targetId:0,path:wn(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}var o1=class{constructor(){this.changes=new Lr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var m_=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ws(e).put(r)}removeEntry(e,t,r){return Ws(e).delete((function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],X2(s),a[a.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Dr(e,r)))}getEntry(e,t){let r=an.newInvalidDocument(t);return Ws(e).ee({index:b2,range:IDBKeyRange.only(Ih(t))},(i,o)=>{r=this.Cr(t,o)}).next(()=>r)}vr(e,t){let r={size:0,document:an.newInvalidDocument(t)};return Ws(e).ee({index:b2,range:IDBKeyRange.only(Ih(t))},(i,o)=>{r={document:this.Cr(t,o),size:n1(o)}}).next(()=>r)}getEntries(e,t){let r=Xn();return this.Fr(e,t,(i,o)=>{let s=this.Cr(i,o);r=r.insert(i,s)}).next(()=>r)}Mr(e,t){let r=Xn(),i=new _e(J.comparator);return this.Fr(e,t,(o,s)=>{let a=this.Cr(o,s);r=r.insert(o,a),i=i.insert(o,n1(s))}).next(()=>({documents:r,Or:i}))}Fr(e,t,r){if(t.isEmpty())return O.resolve();let i=new oe(F8);t.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(Ih(i.first()),Ih(i.last())),s=i.getIterator(),a=s.getNext();return Ws(e).ee({index:b2,range:o},(c,d,u)=>{let g=J.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&F8(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,d),a=s.hasNext()?s.getNext():null),a?u.j(Ih(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),X2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ws(e).J(IDBKeyRange.bound(a,c,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let u=Xn();for(let g of d){let w=this.Cr(J.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);w.isFoundDocument()&&(cu(t,w)||i.has(w.key))&&(u=u.insert(w.key,w))}return u})}getAllFromCollectionGroup(e,t,r,i){let o=Xn(),s=V8(t,r),a=V8(t,yr.max());return Ws(e).ee({index:s6,range:IDBKeyRange.bound(s,a,!0)},(c,d,u)=>{let g=this.Cr(J.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(g.key,g),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new v_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return N8(e).get(Sw).next(t=>(ht(!!t,20021),t))}Dr(e,t){return N8(e).put(Sw,t)}Cr(e,t){if(t){let r=OV(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(kt.min())))return r}return an.newInvalidDocument(e)}};function lE(n){return new m_(n)}var v_=class extends o1{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Lr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new oe((o,s)=>St(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=y8(this.Nr.serializer,s);i=i.add(o.path.popLast());let d=n1(c);r+=d-a.size,t.push(this.Nr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=y8(this.Nr.serializer,s.convertToNoDocument(kt.min()));t.push(this.Nr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Nr.updateMetadata(e,r)),O.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(({documents:r,Or:i})=>(i.forEach((o,s)=>{this.Br.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function N8(n){return $e(n,$h)}function Ws(n){return $e(n,B2)}function Ih(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function V8(n,e){let t=e.documentKey.path.toArray();return[n,X2(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function F8(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=St(t[o],r[o]),i)return i;return i=St(t.length,r.length),i||(i=St(t[t.length-2],r[r.length-2]),i||St(t[t.length-1],r[r.length-1]))}var w_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var s1=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Vh(r.mutation,i,Nr.empty(),me.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ft()){let i=fi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ah();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=fi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ft()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Xn(),s=Nh(),a=(function(){return Nh()})();return t.forEach((c,d)=>{let u=r.get(d.key);i.has(d.key)&&(u===void 0||u.mutation instanceof wi)?o=o.insert(d.key,d):u!==void 0?(s.set(d.key,u.mutation.getFieldMask()),Vh(u.mutation,d,u.mutation.getFieldMask(),me.now())):s.set(d.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((d,u)=>s.set(d,u)),t.forEach((d,u)=>a.set(d,new w_(u,s.get(d)??null))),a))}recalculateAndSaveOverlays(e,t){let r=Nh(),i=new _e((s,a)=>s-a),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let u=r.get(c)||Nr.empty();u=a.applyToLocalView(d,u),r.set(c,u);let g=(i.get(a.batchId)||Ft()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,u=c.value,g=P6();u.forEach(w=>{if(!o.has(w)){let k=L6(t.get(w),r.get(w));k!==null&&g.set(w,k),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(fi()),a=jh,c=o;return s.next(d=>O.forEach(d,(u,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(u)?O.resolve():this.remoteDocumentCache.getEntry(e,u).next(w=>{c=c.insert(u,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,c,d,Ft())).next(u=>({batchId:a,changes:R6(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=Ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ah();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{let d=(function(g,w){return new yc(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(u=>{u.forEach((g,w)=>{s=s.insert(g,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,d)=>{let u=d.getKey();s.get(u)===null&&(s=s.insert(u,an.newInvalidDocument(u)))});let a=Ah();return s.forEach((c,d)=>{let u=o.get(c);u!==void 0&&Vh(u.mutation,d,Nr.empty(),me.now()),cu(t,d)&&(a=a.insert(c,d))}),a})}};var __=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return O.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:En(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:tE(i.bundledQuery),readTime:En(i.readTime)}})(t)),O.resolve()}};var y_=class{constructor(){this.overlays=new _e(J.comparator),this.qr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=fi();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=fi(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new _e((d,u)=>d-u),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let u=o.get(d.largestBatchId);u===null&&(u=fi(),o=o.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}let a=fi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>a.set(d,u)),!(a.size()>=i)););return O.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Xh(t,r));let o=this.qr.get(t);o===void 0&&(o=Ft(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var k_=class{constructor(){this.sessionToken=Ue.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var eu=class{constructor(){this.Qr=new oe(Be.$r),this.Ur=new oe(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Be(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Be(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new J(new le([])),r=new Be(t,e),i=new Be(t,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new J(new le([])),r=new Be(t,e),i=new Be(t,e+1),o=Ft();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Be(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return J.comparator(e.key,t.key)||St(e.Yr,t.Yr)}static Kr(e,t){return St(e.Yr,t.Yr)||J.comparator(e.key,t.key)}};var b_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new oe(Be.$r)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Zh(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?ia:this.tr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Be(t,0),i=new Be(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new oe(St);return t.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),O.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Be(new J(o),0),a=new oe(St);return this.Zr.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Yr)),!0)},s),O.resolve(this.ti(a))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ht(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return O.forEach(t.mutations,i=>{let o=new Be(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Be(t,0),i=this.Zr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var x_=class{constructor(e){this.ri=e,this.docs=(function(){return new _e(J.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=Xn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():an.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Xn(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:u}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||py(n6(u),r)<=0||(i.has(u.key)||cu(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){at(9500)}ii(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new M_(this)}getSize(e){return O.resolve(this.size)}},M_=class extends o1{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var C_=class{constructor(e){this.persistence=e,this.si=new Lr(t=>da(t),lu),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.oi=0,this._i=new eu,this.targetCount=0,this.ai=Cc.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),O.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Cc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.Pr(t),O.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this._i.containsKey(t))}};var nu=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Br(0),this.li=!1,this.li=!0,this.hi=new k_,this.referenceDelegate=e(this),this.Pi=new C_(this),this.indexManager=new d_,this.remoteDocumentCache=(function(i){return new x_(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new Z2(t),this.Ii=new __(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new b_(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new E_(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return O.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},E_=class extends R2{constructor(e){super(),this.currentSequenceNumber=e}},a1=class n{constructor(e){this.persistence=e,this.Ri=new eu,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.fi,r=>{let i=J.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,kt.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return O.or([()=>O.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},l1=class n{constructor(e,t){this.persistence=e,this.pi=new Lr(r=>wn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aE(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return O.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(a=>{a||(r++,o.removeEntry(s,kt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),O.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=M2(e.data.value)),t}br(e,t,r){return O.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var I_=class{constructor(e){this.serializer=e}k(e,t,r,i){let o=new P2("createOrUpgrade",t);r<1&&i>=1&&((function(c){c.createObjectStore(au)})(e),(function(c){c.createObjectStore(Uh,{keyPath:IN}),c.createObjectStore(Or,{keyPath:XC,autoIncrement:!0}).createIndex(ta,JC,{unique:!0}),c.createObjectStore(hc)})(e),L8(e),(function(c){c.createObjectStore(Ks)})(e));let s=O.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(pc),c.deleteObjectStore(uc),c.deleteObjectStore(oa)})(e),L8(e)),s=s.next(()=>(function(c){let d=c.store(oa),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return d.put(N2,u)})(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>(function(c,d){return d.store(Or).J().next(g=>{c.deleteObjectStore(Or),c.createObjectStore(Or,{keyPath:XC,autoIncrement:!0}).createIndex(ta,JC,{unique:!0});let w=d.store(Or),k=g.map(D=>w.put(D));return O.waitFor(k)})})(e,o))),s=s.next(()=>{(function(c){c.createObjectStore(gc,{keyPath:NN})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.yi(o))),r<6&&i>=6&&(s=s.next(()=>((function(c){c.createObjectStore($h)})(e),this.wi(o)))),r<7&&i>=7&&(s=s.next(()=>this.Si(o))),r<8&&i>=8&&(s=s.next(()=>this.bi(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Di(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore(E1,{keyPath:VN})})(e),(function(c){c.createObjectStore(I1,{keyPath:FN})})(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let d=c.createObjectStore(S1,{keyPath:qN});d.createIndex(Tw,GN,{unique:!1}),d.createIndex(d6,WN,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>(function(c){let d=c.createObjectStore(B2,{keyPath:AN});d.createIndex(b2,TN),d.createIndex(s6,DN)})(e)).next(()=>this.Ci(e,o)).next(()=>e.deleteObjectStore(Ks))),r<14&&i>=14&&(s=s.next(()=>this.Fi(e,o))),r<15&&i>=15&&(s=s.next(()=>(function(c){c.createObjectStore(my,{keyPath:LN,autoIncrement:!0}).createIndex(Aw,jN,{unique:!1}),c.createObjectStore(Rh,{keyPath:zN}).createIndex(l6,HN,{unique:!1}),c.createObjectStore(Ph,{keyPath:UN}).createIndex(c6,$N,{unique:!1})})(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore(Rh).clear()}).next(()=>{t.objectStore(Ph).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(c){c.createObjectStore(vy,{keyPath:QN})})(e)})),r<18&&i>=18&&iv()&&(s=s.next(()=>{t.objectStore(Rh).clear()}).next(()=>{t.objectStore(Ph).clear()})),s}wi(e){let t=0;return e.store(Ks).ee((r,i)=>{t+=n1(i)}).next(()=>{let r={byteSize:t};return e.store($h).put(Sw,r)})}yi(e){let t=e.store(Uh),r=e.store(Or);return t.J().next(i=>O.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,ia],[o.userId,o.lastAcknowledgedBatchId]);return r.J(ta,s).next(a=>O.forEach(a,c=>{ht(c.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});let d=Zs(this.serializer,c);return iE(e,o.userId,d).next(()=>{})}))}))}Si(e){let t=e.store(pc),r=e.store(Ks);return e.store(oa).get(N2).next(i=>{let o=[];return r.ee((s,a)=>{let c=new le(s),d=(function(g){return[0,wn(g)]})(c);o.push(t.get(d).next(u=>u?O.resolve():(g=>t.put({targetId:0,path:wn(g),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>O.waitFor(o))})}bi(e,t){e.createObjectStore(qh,{keyPath:BN});let r=t.store(qh),i=new tu,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:wn(c)})}};return t.store(Ks).ee({X:!0},(s,a)=>{let c=new le(s);return o(c.popLast())}).next(()=>t.store(hc).ee({X:!0},([s,a,c],d)=>{let u=gi(a);return o(u.popLast())}))}Di(e){let t=e.store(uc);return t.ee((r,i)=>{let o=Th(i),s=J6(this.serializer,o);return t.put(s)})}Ci(e,t){let r=t.store(Ks),i=[];return r.ee((o,s)=>{let a=t.store(B2),c=(function(g){return g.document?new J(le.fromString(g.document.name).popFirst(5)):g.noDocument?J.fromSegments(g.noDocument.path):g.unknownDocument?J.fromSegments(g.unknownDocument.path):at(36783)})(s).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(d))}).next(()=>O.waitFor(i))}Fi(e,t){let r=t.store(Or),i=lE(this.serializer),o=new nu(a1.mi,this.serializer.yt);return r.J().next(s=>{let a=new Map;return s.forEach(c=>{let d=a.get(c.userId)??Ft();Zs(this.serializer,c).keys().forEach(u=>d=d.add(u)),a.set(c.userId,d)}),O.forEach(a,(c,d)=>{let u=new ze(d),g=J2.wt(this.serializer,u),w=o.getIndexManager(u),k=r1.wt(u,this.serializer,w,o.referenceDelegate);return new s1(i,k,g,w).recalculateAndSaveOverlaysForDocumentKeys(new Gh(t,Br.ce),c).next()})})}};function L8(n){n.createObjectStore(pc,{keyPath:PN}).createIndex(fy,ON,{unique:!0}),n.createObjectStore(uc,{keyPath:"targetId"}).createIndex(a6,RN,{unique:!0}),n.createObjectStore(oa)}var Zo="IndexedDbPersistence",hw=18e5,uw=5e3,pw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",FV="main",S_=class n{constructor(e,t,r,i,o,s,a,c,d,u,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=o,this.window=s,this.document=a,this.xi=d,this.Oi=u,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!n.v())throw new et(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f_(this,i),this.$i=t+FV,this.serializer=new Z2(c),this.Ui=new dc(this.$i,this.Ni,new I_(this.serializer)),this.hi=new r_,this.Pi=new u_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lE(this.serializer),this.Ii=new n_,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&Cn(Zo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(H.FAILED_PRECONDITION,pw);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Br(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_2(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(hs(e))return G(Zo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G(Zo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Sh(e).get(Gl).next(t=>O.resolve(this.es(t)))}ts(e){return _2(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,hw)){this.qi=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=$e(t,gc);return r.J().next(i=>{let o=this.ss(i,hw),s=i.filter(a=>o.indexOf(a)===-1);return O.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(let t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?O.resolve(!0):Sh(e).get(Gl).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,uw)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new et(H.FAILED_PRECONDITION,pw);return!1}}return!(!this.networkEnabled||!this.inForeground)||_2(e).J().next(r=>this.ss(r,uw).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&G(Zo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[au,gc],e=>{let t=new Gh(e,Br.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>_2(e).J().next(t=>this.ss(t,hw).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return r1.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h_(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return J2.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){G(Zo,"Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=(function(c){return c===18?ZN:c===17?g6:c===16?YN:c===15?wy:c===14?p6:c===13?u6:c===12?KN:c===11?h6:void at(60245)})(this.Ni),s;return this.Ui.runTransaction(e,i,o,a=>(s=new Gh(a,this.ci?this.ci.next():Br.ce),t==="readwrite-primary"?this.Hi(s).next(c=>!!c||this.Yi(s)).next(c=>{if(!c)throw Cn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new et(H.FAILED_PRECONDITION,r6);return r(s)}).next(c=>this.Xi(s).next(()=>c)):this.Is(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Is(e){return Sh(e).get(Gl).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,uw)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(H.FAILED_PRECONDITION,pw)})}Xi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sh(e).put(Gl,t)}static v(){return dc.v()}Zi(e){let t=Sh(e);return t.get(Gl).next(r=>this.es(r)?(G(Zo,"Releasing primary lease."),t.delete(Gl)):O.resolve())}rs(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(Cn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();let e=/(?:Version|Mobile)\/1[456]/;rv()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{let t=this.Ki?.getItem(this._s(e))!==null;return G(Zo,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Cn(Zo,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Cn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Sh(n){return $e(n,au)}function _2(n){return $e(n,gc)}function LV(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var A_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Ft(),i=Ft();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var T_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var c1=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rv()?8:i6(Se())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new T_;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,t,s,a.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(Xl()<=Lt.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Jl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),O.resolve()):(Xl()<=Lt.DEBUG&&G("QueryEngine","Query:",Jl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Xl()<=Lt.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Jl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):O.resolve())}ys(e,t){if(h8(t))return O.resolve(null);let r=_r(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$w(t,null,"F"),r=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ft(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.Ds(t,a);return this.Cs(t,d,s,c.readTime)?this.ys(e,$w(t,null,"F")):this.vs(e,d,t,c)}))})))}ws(e,t,r,i){return h8(t)||i.isEqual(kt.min())?O.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(t,o);return this.Cs(t,s,r,i)?O.resolve(null):(Xl()<=Lt.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jl(t)),this.vs(e,s,t,MN(i,jh)).next(a=>a))})}Ds(e,t){let r=new oe(T6(e));return t.forEach((i,o)=>{cu(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Xl()<=Lt.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Jl(t)),this.ps.getDocumentsMatchingQuery(e,t,yr.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Iy="LocalStore",jV=3e8,D_=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new _e(St),this.xs=new Lr(o=>da(o),lu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function cE(n,e,t,r){return new D_(n,e,t,r)}async function dE(n,e){let t=At(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ft();for(let d of i){s.push(d.batchId);for(let u of d.mutations)c=c.add(u.key)}for(let d of o){a.push(d.batchId);for(let u of d.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:s,addedBatchIds:a}))})})}function zV(n,e){let t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,d,u){let g=d.batch,w=g.keys(),k=O.resolve();return w.forEach(D=>{k=k.next(()=>u.getEntry(c,D)).next(F=>{let T=d.docVersions.get(D);ht(T!==null,48541),F.version.compareTo(T)<0&&(g.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),u.addEntry(F)))})}),k.next(()=>a.mutationQueue.removeMutationBatch(c,g))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Ft();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hE(n){let e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function HV(n,e){let t=At(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let a=[];e.targetChanges.forEach((u,g)=>{let w=i.get(g);if(!w)return;a.push(t.Pi.removeMatchingKeys(o,u.removedDocuments,g).next(()=>t.Pi.addMatchingKeys(o,u.addedDocuments,g)));let k=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(Ue.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):u.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(u.resumeToken,r)),i=i.insert(g,k),(function(F,T,U){return F.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=jV?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(w,k,u)&&a.push(t.Pi.updateTargetData(o,k))});let c=Xn(),d=Ft();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(UV(o,s,e.documentUpdates).next(u=>{c=u.ks,d=u.qs})),!r.isEqual(kt.min())){let u=t.Pi.getLastRemoteSnapshotVersion(o).next(g=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,d)).next(()=>c)}).then(o=>(t.Ms=i,o))}function UV(n,e,t){let r=Ft(),i=Ft();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Xn();return t.forEach((a,c)=>{let d=o.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(kt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):G(Iy,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:s,qs:i}})}function $V(n,e){let t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ia),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qV(n,e){let t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.Pi.allocateTargetId(r).next(s=>(i=new Mc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function R_(n,e,t){let r=At(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!hs(s))throw s;G(Iy,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function j8(n,e,t){let r=At(n),i=kt.min(),o=Ft();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,d,u){let g=At(c),w=g.xs.get(u);return w!==void 0?O.resolve(g.Ms.get(w)):g.Pi.getTargetData(d,u)})(r,s,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:kt.min(),t?o:Ft())).next(a=>(GV(r,oV(e),a),{documents:a,Qs:o})))}function GV(n,e,t){let r=n.Os.get(e)||kt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}var d1=class{constructor(){this.activeTargetIds=hV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var h1=class{constructor(){this.Mo=new d1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var P_=class{Oo(e){}shutdown(){}};var z8="ConnectivityMonitor",u1=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(z8,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){G(z8,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var y2=null;function O_(){return y2===null?y2=(function(){return 268435456+Math.round(2147483648*Math.random())})():y2++,"0x"+y2.toString(16)}var gw="RestConnection",WV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},B_=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===L2?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){let s=O_(),a=this.zo(e,t.toUriEncodedString());G(gw,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);let{host:d}=new URL(a),u=Fo(d);return this.Jo(e,a,c,r,u).then(g=>(G(gw,`Received RPC '${e}' ${s}: `,g),g),g=>{throw ca(gw,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,t,r,i,o,s){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){let r=WV[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var N_=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var vn="WebChannelConnection",V_=class extends B_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=O_();return new Promise((a,c)=>{let d=new iw;d.setWithCredentials(!0),d.listenOnce(ow.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Mh.NO_ERROR:let g=d.getResponseJson();G(vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Mh.TIMEOUT:G(vn,`RPC '${e}' ${s} timed out`),c(new et(H.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:let w=d.getStatus();if(G(vn,`RPC '${e}' ${s} failed with status:`,w,"response text:",d.getResponseText()),w>0){let k=d.getResponseJson();Array.isArray(k)&&(k=k[0]);let D=k?.error;if(D&&D.status&&D.message){let F=(function(U){let q=U.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(q)>=0?q:H.UNKNOWN})(D.status);c(new et(F,D.message))}else c(new et(H.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new et(H.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{G(vn,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);G(vn,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",u,r,15)})}T_(e,t,r){let i=O_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lw(),a=aw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let u=o.join("");G(vn,`Creating RPC '${e}' stream ${i}: ${u}`,c);let g=s.createWebChannel(u,c);this.I_(g);let w=!1,k=!1,D=new N_({Yo:T=>{k?G(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(w||(G(vn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),G(vn,`RPC '${e}' stream ${i} sending:`,T),g.send(T))},Zo:()=>g.close()}),F=(T,U,q)=>{T.listen(U,W=>{try{q(W)}catch(dt){setTimeout(()=>{throw dt},0)}})};return F(g,ql.EventType.OPEN,()=>{k||(G(vn,`RPC '${e}' stream ${i} transport opened.`),D.o_())}),F(g,ql.EventType.CLOSE,()=>{k||(k=!0,G(vn,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(g))}),F(g,ql.EventType.ERROR,T=>{k||(k=!0,ca(vn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),D.a_(new et(H.UNAVAILABLE,"The operation could not be completed")))}),F(g,ql.EventType.MESSAGE,T=>{if(!k){let U=T.data[0];ht(!!U,16349);let q=U,W=q?.error||q[0]?.error;if(W){G(vn,`RPC '${e}' stream ${i} received error:`,W);let dt=W.status,Ct=(function(y){let M=Oe[y];if(M!==void 0)return z6(M)})(dt),Mt=W.message;Ct===void 0&&(Ct=H.INTERNAL,Mt="Unknown error status: "+dt+" with message "+W.message),k=!0,D.a_(new et(Ct,Mt)),g.close()}else G(vn,`RPC '${e}' stream ${i} received:`,U),D.u_(U)}}),F(a,sw.STAT_EVENT,T=>{T.stat===f2.PROXY?G(vn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===f2.NOPROXY&&G(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function QV(){return typeof window<"u"?window:null}function S2(){return typeof document<"u"?document:null}function P1(n){return new Zw(n,!0)}var p1=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var H8="PersistentStream",g1=class{constructor(e,t,r,i,o,s,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Cn(t.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new et(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(H8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(G(H8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},F_=class extends g1{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=IV(this.serializer,e),r=(function(o){if(!("targetChange"in o))return kt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?kt.min():s.readTime?En(s.readTime):kt.min()})(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=t_(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=H2(c)?{documents:W6(o,c)}:{query:Q6(o,c).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=H6(o,s.resumeToken);let d=Xw(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(kt.min())>0){a.readTime=xc(o,s.snapshotVersion.toTimestamp());let d=Xw(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a})(this.serializer,e);let r=AV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=t_(this.serializer),t.removeTarget=e,this.q_(t)}},L_=class extends g1{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=SV(e.writeResults,e.commitTime),r=En(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=t_(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Y2(this.serializer,r))};this.q_(t)}};var j_=class{},z_=class extends j_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new et(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,Jw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(H.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,Jw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new et(H.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},H_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cn(t),this.aa=!1):G("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var fa="RemoteStore",U_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{wa(this)&&(G(fa,"Restarting streams for network reachability change."),await(async function(c){let d=At(c);d.Ea.add(4),await du(d),d.Ra.set("Unknown"),d.Ea.delete(4),await O1(d)})(this))})}),this.Ra=new H_(r,i)}};async function O1(n){if(wa(n))for(let e of n.da)await e(!0)}async function du(n){for(let e of n.da)await e(!1)}function uE(n,e){let t=At(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dy(t)?Ty(t):Ac(t).O_()&&Ay(t,e))}function Sy(n,e){let t=At(n),r=Ac(t);t.Ia.delete(e),r.O_()&&pE(t,e),t.Ia.size===0&&(r.O_()?r.L_():wa(t)&&t.Ra.set("Unknown"))}function Ay(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ac(n).Y_(e)}function pE(n,e){n.Va.Ue(e),Ac(n).Z_(e)}function Ty(n){n.Va=new Yw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ac(n).start(),n.Ra.ua()}function Dy(n){return wa(n)&&!Ac(n).x_()&&n.Ia.size>0}function wa(n){return At(n).Ea.size===0}function gE(n){n.Va=void 0}async function KV(n){n.Ra.set("Online")}async function YV(n){n.Ia.forEach((e,t)=>{Ay(n,e)})}async function ZV(n,e){gE(n),Dy(n)?(n.Ra.ha(e),Ty(n)):n.Ra.set("Unknown")}async function XV(n,e,t){if(n.Ra.set("Online"),e instanceof W2&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(n,e)}catch(r){G(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await f1(n,r)}else if(e instanceof oc?n.Va.Ze(e):e instanceof G2?n.Va.st(e):n.Va.tt(e),!t.isEqual(kt.min()))try{let r=await hE(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.Ia.get(d);u&&o.Ia.set(d,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,d)=>{let u=o.Ia.get(c);if(!u)return;o.Ia.set(c,u.withResumeToken(Ue.EMPTY_BYTE_STRING,u.snapshotVersion)),pE(o,c);let g=new Mc(u.target,c,d,u.sequenceNumber);Ay(o,g)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){G(fa,"Failed to raise snapshot:",r),await f1(n,r)}}async function f1(n,e,t){if(!hs(e))throw e;n.Ea.add(1),await du(n),n.Ra.set("Offline"),t||(t=()=>hE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{G(fa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await O1(n)})}function fE(n,e){return e().catch(t=>f1(n,t,e))}async function hu(n){let e=At(n),t=cs(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ia;for(;JV(e);)try{let i=await $V(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,tF(e,i)}catch(i){await f1(e,i)}mE(e)&&vE(e)}function JV(n){return wa(n)&&n.Ta.length<10}function tF(n,e){n.Ta.push(e);let t=cs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function mE(n){return wa(n)&&!cs(n).x_()&&n.Ta.length>0}function vE(n){cs(n).start()}async function eF(n){cs(n).ra()}async function nF(n){let e=cs(n);for(let t of n.Ta)e.ea(t.mutations)}async function rF(n,e,t){let r=n.Ta.shift(),i=Ww.from(r,e,t);await fE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await hu(n)}async function iF(n,e){e&&cs(n).X_&&await(async function(r,i){if((function(s){return wV(s)&&s!==H.ABORTED})(i.code)){let o=r.Ta.shift();cs(r).B_(),await fE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await hu(r)}})(n,e),mE(n)&&vE(n)}async function U8(n,e){let t=At(n);t.asyncQueue.verifyOperationInProgress(),G(fa,"RemoteStore received new credentials");let r=wa(t);t.Ea.add(3),await du(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await O1(t)}async function oF(n,e){let t=At(n);e?(t.Ea.delete(2),await O1(t)):e||(t.Ea.add(2),await du(t),t.Ra.set("Unknown"))}function Ac(n){return n.ma||(n.ma=(function(t,r,i){let o=At(t);return o.sa(),new F_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:KV.bind(null,n),t_:YV.bind(null,n),r_:ZV.bind(null,n),H_:XV.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Dy(n)?Ty(n):n.Ra.set("Unknown")):(await n.ma.stop(),gE(n))})),n.ma}function cs(n){return n.fa||(n.fa=(function(t,r,i){let o=At(t);return o.sa(),new L_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:eF.bind(null,n),r_:iF.bind(null,n),ta:nF.bind(null,n),na:rF.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await hu(n)):(await n.fa.stop(),n.Ta.length>0&&(G(fa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var $_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ry(n,e){if(Cn("AsyncQueue",`${e}: ${n}`),hs(n))return new et(H.UNAVAILABLE,`${e}: ${n}`);throw n}var m1=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=Ah(),this.sortedSet=new _e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var v1=class{constructor(){this.ga=new _e(J.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Ec=class n{constructor(e,t,r,i,o,s,a,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,m1.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var q_=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},G_=class{constructor(){this.queries=$8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=At(t),o=i.queries;i.queries=$8(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new et(H.ABORTED,"Firestore shutting down"))}};function $8(){return new Lr(n=>A6(n),R1)}async function sF(n,e){let t=At(n),r=3,i=e.query,o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new q_,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=Ry(s,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Py(t)}async function aF(n,e){let t=At(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function lF(n,e){let t=At(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&Py(t)}function cF(n,e,t){let r=At(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function Py(n){n.Ca.forEach(e=>{e.next()})}var W_,q8;(q8=W_||(W_={})).Ma="default",q8.Cache="cache";var Q_=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==W_.Cache}};var w1=class{constructor(e){this.key=e}},_1=class{constructor(e){this.key=e}},K_=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=T6(e),this.tu=new m1(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new v1,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,g)=>{let w=i.get(u),k=cu(this.query,g)?g:null,D=!!w&&this.mutatedKeys.has(w.key),F=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations),T=!1;w&&k?w.data.isEqual(k.data)?D!==F&&(r.track({type:3,doc:k}),T=!0):this.su(w,k)||(r.track({type:2,doc:k}),T=!0,(c&&this.eu(k,c)>0||d&&this.eu(k,d)<0)&&(a=!0)):!w&&k?(r.track({type:0,doc:k}),T=!0):w&&!k&&(r.track({type:1,doc:w}),T=!0,(c||d)&&(a=!0)),T&&(k?(s=s.add(k),o=F?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((u,g)=>(function(k,D){let F=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:T})}};return F(k)-F(D)})(u.type,g.type)||this.eu(u.doc,g.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new Ec(this.query,e.tu,o,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=Ft(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new _1(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new w1(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ft();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ec.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Oy="SyncEngine",Y_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Z_=class{constructor(e){this.key=e,this.hu=!1}},X_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Lr(a=>A6(a),R1),this.Iu=new Map,this.Eu=new Set,this.du=new _e(J.comparator),this.Au=new Map,this.Ru=new eu,this.Vu={},this.mu=new Map,this.fu=Cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function dF(n,e,t=!0){let r=xE(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await wE(r,e,t,!0),i}async function hF(n,e){let t=xE(n);await wE(t,e,!0,!1)}async function wE(n,e,t,r){let i=await qV(n.localStore,_r(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await uF(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&uE(n.remoteStore,i),a}async function uF(n,e,t,r,i){n.pu=(g,w,k)=>(async function(F,T,U,q){let W=T.view.ru(U);W.Cs&&(W=await j8(F.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,W)));let dt=q&&q.targetChanges.get(T.targetId),Ct=q&&q.targetMismatches.get(T.targetId)!=null,Mt=T.view.applyChanges(W,F.isPrimaryClient,dt,Ct);return W8(F,T.targetId,Mt.au),Mt.snapshot})(n,g,w,k);let o=await j8(n.localStore,e,!0),s=new K_(e,o.Qs),a=s.ru(o.documents),c=Jh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,c);W8(n,t,d.au);let u=new Y_(e,t,s);return n.Tu.set(e,u),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function pF(n,e,t){let r=At(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!R1(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await R_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Sy(r.remoteStore,i.targetId),J_(r,i.targetId)}).catch(ma)):(J_(r,i.targetId),await R_(r.localStore,i.targetId,!0))}async function gF(n,e){let t=At(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(t.remoteStore,r.targetId))}async function fF(n,e,t){let r=ME(n);try{let i=await(function(s,a){let c=At(s),d=me.now(),u=a.reduce((k,D)=>k.add(D.key),Ft()),g,w;return c.persistence.runTransaction("Locally write mutations","readwrite",k=>{let D=Xn(),F=Ft();return c.Ns.getEntries(k,u).next(T=>{D=T,D.forEach((U,q)=>{q.isValidDocument()||(F=F.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(k,D)).next(T=>{g=T;let U=[];for(let q of a){let W=vV(q,g.get(q.key).overlayedDocument);W!=null&&U.push(new wi(q.key,W,x6(W.value.mapValue),Vr.exists(!0)))}return c.mutationQueue.addMutationBatch(k,d,U,a)}).next(T=>{w=T;let U=T.applyToLocalDocumentSet(g,F);return c.documentOverlayCache.saveOverlays(k,T.batchId,U)})}).then(()=>({batchId:w.batchId,changes:R6(g)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new _e(St)),d=d.insert(a,c),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,t),await uu(r,i.changes),await hu(r.remoteStore)}catch(i){let o=Ry(i,"Failed to persist write");t.reject(o)}}async function _E(n,e){let t=At(n);try{let r=await HV(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ht(s.hu,14607):i.removedDocuments.size>0&&(ht(s.hu,42227),s.hu=!1))}),await uu(t,r,e)}catch(r){await ma(r)}}function G8(n,e,t){let r=At(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=At(s);c.onlineState=a;let d=!1;c.queries.forEach((u,g)=>{for(let w of g.Sa)w.va(a)&&(d=!0)}),d&&Py(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mF(n,e,t){let r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new _e(J.comparator);s=s.insert(o,an.newNoDocument(o,kt.min()));let a=Ft().add(o),c=new q2(kt.min(),new Map,new _e(St),s,a);await _E(r,c),r.du=r.du.remove(o),r.Au.delete(e),By(r)}else await R_(r.localStore,e,!1).then(()=>J_(r,e,t)).catch(ma)}async function vF(n,e){let t=At(n),r=e.batch.batchId;try{let i=await zV(t.localStore,e);kE(t,r,null),yE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await uu(t,i)}catch(i){await ma(i)}}async function wF(n,e,t){let r=At(n);try{let i=await(function(s,a){let c=At(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,a).next(g=>(ht(g!==null,37113),u=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})})(r.localStore,e);kE(r,e,t),yE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await uu(r,i)}catch(i){await ma(i)}}function yE(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function kE(n,e,t){let r=At(n),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function J_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||bE(n,r)})}function bE(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Sy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),By(n))}function W8(n,e,t){for(let r of t)r instanceof w1?(n.Ru.addReference(r.key,e),_F(n,r)):r instanceof _1?(G(Oy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||bE(n,r.key)):at(19791,{wu:r})}function _F(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(G(Oy,"New document in limbo: "+t),n.Eu.add(r),By(n))}function By(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new J(le.fromString(e)),r=n.fu.next();n.Au.set(r,new Z_(t)),n.du=n.du.insert(t,r),uE(n.remoteStore,new Mc(_r(D1(t.path)),r,"TargetPurposeLimboResolution",Br.ce))}}async function uu(n,e,t){let r=At(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{s.push(r.pu(c,e,t).then(d=>{if((d||t)&&r.isPrimaryClient){let u=d?!d.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,u?"current":"not-current")}if(d){i.push(d);let u=A_.As(c.targetId,d);o.push(u)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(c,d){let u=At(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>O.forEach(d,w=>O.forEach(w.Es,k=>u.persistence.referenceDelegate.addReference(g,w.targetId,k)).next(()=>O.forEach(w.ds,k=>u.persistence.referenceDelegate.removeReference(g,w.targetId,k)))))}catch(g){if(!hs(g))throw g;G(Iy,"Failed to update sequence numbers: "+g)}for(let g of d){let w=g.targetId;if(!g.fromCache){let k=u.Ms.get(w),D=k.snapshotVersion,F=k.withLastLimboFreeSnapshotVersion(D);u.Ms=u.Ms.insert(w,F)}}})(r.localStore,o))}async function yF(n,e){let t=At(n);if(!t.currentUser.isEqual(e)){G(Oy,"User change. New user:",e.toKey());let r=await dE(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(c=>{c.reject(new et(H.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(t,r.Ls)}}function kF(n,e){let t=At(n),r=t.Au.get(e);if(r&&r.hu)return Ft().add(r.key);{let i=Ft(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function xE(n){let e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mF.bind(null,e),e.Pu.H_=lF.bind(null,e.eventManager),e.Pu.yu=cF.bind(null,e.eventManager),e}function ME(n){let e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wF.bind(null,e),e}var Ny=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=P1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return cE(this.persistence,new c1,t.initialUser,this.serializer)}Cu(t){return new nu(a1.mi,this.serializer)}Du(t){return new h1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),ty=class extends Ny{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof l1,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new i1(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new nu(r=>l1.mi(r,t),this.serializer)}},ey=class extends Ny{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await ME(this.xu.syncEngine),await hu(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return cE(this.persistence,new c1,e.initialUser,this.serializer)}Fu(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new i1(r,e.asyncQueue,t)}Mu(e,t){let r=new Iw(t,this.persistence);return new Ew(e.asyncQueue,r)}Cu(e){let t=LV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new S_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,QV(),S2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new h1}};var CE=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>G8(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yF.bind(null,this.syncEngine),await oF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new G_})()}createDatastore(t){let r=P1(t.databaseInfo.databaseId),i=(function(s){return new V_(s)})(t.databaseInfo);return(function(s,a,c,d){return new z_(s,a,c,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new U_(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>G8(this.syncEngine,r,0),(function(){return u1.v()?new u1:new P_})())}createSyncEngine(t,r){return(function(o,s,a,c,d,u,g){let w=new X_(o,s,a,c,d,u);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=At(r);G(fa,"RemoteStore shutting down."),i.Ea.add(5),await du(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var ny=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ds="FirestoreClient",ry=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=Lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{G(ds,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G(ds,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Ry(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function fw(n,e){n.asyncQueue.verifyOperationInProgress(),G(ds,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Q8(n,e){n.asyncQueue.verifyOperationInProgress();let t=await bF(n);G(ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>U8(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>U8(e.remoteStore,i)),n._onlineComponents=e}async function bF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(ds,"Using user provided OfflineComponentProvider");try{await fw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),await fw(n,new Ny)}}else G(ds,"Using default OfflineComponentProvider"),await fw(n,new ty(void 0));return n._offlineComponents}async function EE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(ds,"Using user provided OnlineComponentProvider"),await Q8(n,n._uninitializedComponentsProvider._online)):(G(ds,"Using default OnlineComponentProvider"),await Q8(n,new CE))),n._onlineComponents}function xF(n){return EE(n).then(e=>e.syncEngine)}async function MF(n){let e=await EE(n),t=e.eventManager;return t.onListen=dF.bind(null,e.syncEngine),t.onUnlisten=pF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gF.bind(null,e.syncEngine),t}function CF(n,e,t={}){let r=new Fr;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,d){let u=new ny({next:w=>{u.Nu(),s.enqueueAndForget(()=>aF(o,g));let k=w.docs.has(a);!k&&w.fromCache?d.reject(new et(H.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&c&&c.source==="server"?d.reject(new et(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),g=new Q_(D1(a.path),u,{includeMetadataChanges:!0,qa:!0});return sF(o,g)})(await MF(n),n.asyncQueue,e,t,r)),r.promise}function IE(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var K8=new Map;var SE="firestore.googleapis.com",Y8=!0,y1=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SE,this.ssl=Y8}else this.host=e.host,this.ssl=e.ssl??Y8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VV)throw new et(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new et(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new et(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new et(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ru=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mw;switch(r.type){case"firstParty":return new yw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new et(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=K8.get(t);r&&(G("ComponentProvider","Removing Datastore"),K8.delete(t),r.terminate())})(this),Promise.resolve()}};function EF(n,e,t,r={}){n=lc(n,ru);let i=Fo(e),o=n._getSettings(),s=ot(I({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(z0(`https://${a}`),H0("Firestore",!0)),o.host!==SE&&o.host!==a&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=ot(I({},o),{host:a,ssl:i,emulatorOptions:r});if(!ci(c,s)&&(n._setSettings(c),r.mockUserToken)){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=ze.MOCK_USER;else{d=vM(r.mockUserToken,n._app?.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new et(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ze(g)}n._authCredentials=new vw(new A2(d,u))}}var iy=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},In=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(su(t,n._jsonSchema))return new n(e,r||null,new J(le.fromString(t.referencePath)))}};In._jsonSchemaVersion="firestore/documentReference/1.0",In._jsonSchema={type:Ne("string",In._jsonSchemaVersion),referencePath:Ne("string")};var iu=class n extends iy{constructor(e,t,r){super(e,t,D1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Vy(n,e,...t){if(n=Mn(n),arguments.length===1&&(e=Lh.newId()),bN("doc","path",e),n instanceof ru){let r=le.fromString(e,...t);return WC(r),new In(n,null,new J(r))}{if(!(n instanceof In||n instanceof iu))throw new et(H.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(le.fromString(e,...t));return WC(r),new In(n.firestore,n instanceof iu?n.converter:null,new J(r))}}var Z8="AsyncQueue",k1=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p1(this,"async_queue_retry"),this._c=()=>{let r=S2();r&&G(Z8,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=S2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=S2();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Fr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hs(e))throw e;G(Z8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cn("INTERNAL UNHANDLED ERROR: ",X8(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=$_.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&at(47125,{Pc:X8(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function X8(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Ic=class extends ru{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new k1,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new k1(e),this._firestoreClient=void 0,await e}}};function Fy(n,e){let t=typeof n=="object"?n:jl(),r=typeof n=="string"?n:e||L2,i=gh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=mM("firestore");o&&EF(i,...o)}return i}function AE(n){if(n._terminated)throw new et(H.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TE(n),n._firestoreClient}function TE(n){let e=n._freezeSettings(),t=(function(i,o,s,a){return new Dw(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,IE(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new ry(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}function DE(n,e){ca("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return IF(n,CE.provider,{build:r=>new ey(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function IF(n,e,t){if((n=lc(n,Ic))._firestoreClient||n._terminated)throw new et(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new et(H.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},TE(n)}var ts=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ue.fromBase64String(e))}catch(t){throw new et(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ue.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ts._jsonSchemaVersion="firestore/bytes/1.0",ts._jsonSchema={type:Ne("string",ts._jsonSchemaVersion),bytes:Ne("string")};var ou=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new et(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var b1=class{constructor(e){this._methodName=e}};var es=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(su(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:Ne("string",es._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};var ns=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new et(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:Ne("string",ns._jsonSchemaVersion),vectorValues:Ne("object")};var SF=/^__.*__$/,oy=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wi(e,this.data,this.fieldMask,t,this.fieldTransforms):new ls(e,this.data,t,this.fieldTransforms)}};function RE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{Ac:n})}}var sy=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n(I(I({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return x1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RE(this.Ac)&&SF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},ay=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||P1(e)}Cc(e,t,r,i=!1){return new sy({Ac:e,methodName:t,Dc:r,path:He.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function AF(n){let e=n._freezeSettings(),t=P1(n._databaseId);return new ay(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TF(n,e,t,r,i,o={}){let s=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);NE("Data must be an object, but it was:",s,r);let a=OE(r,s),c,d;if(o.merge)c=new Nr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let g of o.mergeFields){let w=DF(e,g,t);if(!s.contains(w))throw new et(H.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);PF(u,w)||u.push(w)}c=new Nr(u),d=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=s.fieldTransforms;return new oy(new Zn(a),c,d)}function PE(n,e){if(BE(n=Mn(n)))return NE("Unsupported field value:",e,n),OE(n,e);if(n instanceof b1)return(function(r,i){if(!RE(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=PE(a,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=me.fromDate(r);return{timestampValue:xc(i.serializer,o)}}if(r instanceof me){let o=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xc(i.serializer,o)}}if(r instanceof es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ts)return{bytesValue:H6(i.serializer,r._byteString)};if(r instanceof In){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ns)return(function(s,a){return{mapValue:{fields:{[yy]:{stringValue:ky},[mc]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return My(a.serializer,d)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${uy(r)}`)})(n,e)}function OE(n,e){let t={};return f6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(r,i)=>{let o=PE(i,e.mc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function BE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof me||n instanceof es||n instanceof ts||n instanceof In||n instanceof b1||n instanceof ns)}function NE(n,e,t){if(!BE(t)||!e6(t)){let r=uy(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function DF(n,e,t){if((e=Mn(e))instanceof ou)return e._internalPath;if(typeof e=="string")return VE(n,e);throw x1("Field path arguments must be of type string or ",n,!1,void 0,t)}var RF=new RegExp("[~\\*/\\[\\]]");function VE(n,e,t){if(e.search(RF)>=0)throw x1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ou(...e.split("."))._internalPath}catch{throw x1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function x1(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new et(H.INVALID_ARGUMENT,a+n+c)}function PF(n,e){return n.some(t=>t.isEqual(e))}var M1=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ly(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(FE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ly=class extends M1{data(){return super.data()}};function FE(n,e){return typeof e=="string"?VE(n,e):e instanceof ou?e._internalPath:e._delegate._internalPath}var cy=class{convertValue(e,t="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return va(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[mc].arrayValue?.values?.map(r=>fe(r.doubleValue));return new ns(t)}convertGeoPoint(e){return new es(fe(e.latitude),fe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=A1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wh(e));default:return null}}convertTimestamp(e){let t=Wi(e);return new me(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=le.fromString(e);ht(X6(r),9688,{name:e});let i=new fc(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||Cn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function OF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var na=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},aa=class n extends M1{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(FE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Ne("string",aa._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};var sc=class extends aa{data(e={}){return super.data(e)}},Fh=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sc(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,u=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:BF(a.type),doc:c,oldIndex:d,newIndex:u}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function BF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:n})}}function LE(n){n=lc(n,In);let e=lc(n.firestore,Ic);return CF(AE(e),n._key).then(t=>VF(e,n,t))}Fh._jsonSchemaVersion="firestore/querySnapshot/1.0",Fh._jsonSchema={type:Ne("string",Fh._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};var dy=class extends cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ts(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}};function jE(n,e,t){n=lc(n,In);let r=lc(n.firestore,Ic),i=OF(n.converter,e,t);return NF(r,[TF(AF(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Vr.none())])}function NF(n,e){return(function(r,i){let o=new Fr;return r.asyncQueue.enqueueAndForget(async()=>fF(await xF(r),i,o)),o.promise})(AE(n),e)}function VF(n,e,t){let r=t.docs.get(e._key),i=new dy(n);return new aa(n,i,e._key,r,new na(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Sc=i})(Ho),zo(new vr("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ic(new ww(r.getProvider("auth-internal")),new kw(s,r.getProvider("app-check-internal")),(function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new et(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(d.options.projectId,u)})(s,i),s);return o=I({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Rr($C,qC,e),Rr($C,qC,"esm2020")})();var FF="Cloud Sync",Ly="#0b63ff";function zE(n,e,t,r){try{let i=Object.keys(e||{});console.groupCollapsed(`%c\u2601\uFE0F ${FF} %c${i.length} Change(s) in ${n}`,`color: ${Ly}; font-weight: bold;`,"color: gray; font-weight: normal;");for(let o of i){let s=t?.[o],a=e[o];console.log(`%c${o}%c`,`color: ${Ly}; font-weight: bold; border-left: 3px solid ${Ly}; padding-left: 5px;`,"color: inherit;",{from:s,to:a})}console.groupEnd()}catch(i){console.warn("Cloud logger error",i)}}var LF="firebase",jF="12.7.0";Rr(LF,jF,"app");var HE={firebaseConfig:{apiKey:"AIzaSyAFDN_nVGHhAxiQAFSKYxeqIeI6xyBVF_s",authDomain:"ipa-quiz-83cb6.firebaseapp.com",projectId:"ipa-quiz-83cb6",storageBucket:"ipa-quiz-83cb6.firebasestorage.app",messagingSenderId:"33326350668",appId:"1:33326350668:web:c88840af1599ca04fd4fe9",measurementId:"G-K6KZGBVETG"}};var Tc=class n{app;db;init(){if(this.app)return this.app;let e=HE.firebaseConfig;if(e)try{this.app=_v(e);try{this.db=Fy(this.app);try{DE(this.db).catch(()=>{})}catch{}}catch{}return this.app}catch(t){try{return this.app=jl(),this.app}catch{console.warn("Firebase init failed",t);return}}}getFirestore(){if(this.db)return this.db;let e=this.init();if(e)try{return this.db=Fy(e),this.db}catch{return}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function UE(n){if(n.length===0)return;let e=Math.floor(Math.random()*n.length);return n[e]}function zF(n){let e=n.map(t=>t.trim()).map(t=>t.replace(/^U\+?/i,"").replace(/^0x/i,"")).map(t=>t?Number.parseInt(t,16):Number.NaN).filter(t=>Number.isFinite(t));if(e.length!==0)try{return String.fromCodePoint(...e)}catch{return}}var us=class n{indexPromise;voiceManifestPromises=new Map;async pickSoundByChars(e){return UE(await this.listSoundsByChars(e))}async listSoundsByChars(e){let t=await this.loadIndex(),r=t.sources.flatMap(d=>d.voices.map(u=>u.manifestUrl)),i=new Map(t.sources.filter(d=>!!d.logoUrl).map(d=>[d.sourceId,d.logoUrl])),o=new Map(t.sources.filter(d=>!!d.title).map(d=>[d.sourceId,d.title])),s=new Map(t.sources.flatMap(d=>d.voices.map(u=>[`${d.sourceId}/${u.voiceId}`,{author:u.author}])).filter(([,d])=>d.author));return(await Promise.all(r.map(d=>this.loadVoiceManifest(d)))).flatMap(d=>d.files.filter(u=>u.chars===e).map(u=>I(I(I({url:u.url,sourceId:d.sourceId,voiceId:d.voiceId},i.get(d.sourceId)?{logoUrl:i.get(d.sourceId)}:{}),o.get(d.sourceId)?{sourceTitle:o.get(d.sourceId)}:{}),s.get(`${d.sourceId}/${d.voiceId}`)?s.get(`${d.sourceId}/${d.voiceId}`):{})))}async pickSoundByUnicodes(e){return UE(await this.listSoundsByUnicodes(e))}async listSoundsByUnicodes(e){let t=zF(e);return t?this.listSoundsByChars(t):[]}async pickSoundUrlByChars(e){return(await this.pickSoundByChars(e))?.url}async pickSoundUrlByUnicodes(e){return(await this.pickSoundByUnicodes(e))?.url}loadIndex(){return this.indexPromise??=this.fetchJson("sounds/manifest.json"),this.indexPromise}loadVoiceManifest(e){let t=e,r=this.voiceManifestPromises.get(t);if(r)return r;let i=this.fetchJson(e);return this.voiceManifestPromises.set(t,i),i}async fetchJson(e){let t=new URL(e,document.baseURI).toString(),r=await fetch(t);if(!r.ok)throw new Error(`Failed to load sound manifest: ${r.status} ${r.statusText} (${e})`);return await r.json()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var pu={"quiz-1":{id:"quiz-1",name:"IPA Vowels",description:"Learn the International Phonetic Alphabet (IPA) symbols for vowels.",sessions:{}},"quiz-2":{sessions:{},id:"quiz-2",name:"IPA Consonants",description:"Learn the International Phonetic Alphabet (IPA) symbols for consonants."}};var $E=new Map(pi.map(n=>[n.id,n]));function qE(n){let e={};for(let[t,r]of Object.entries(n.quizzes)){let i={};for(let[o,s]of Object.entries(r.sessions??{})){let a={};for(let[c,d]of Object.entries(s.questions??{})){let u={};for(let[g,w]of Object.entries(d.options??{}))u[g]={vowelId:w.id,type:w.type,soundIndex:w.soundIndex};a[c]={vowelId:d.vowel.id,vowelSoundIndex:d.vowel.soundIndex,type:d.type,index:d.index,options:u,selectedAnswer:d.selectedAnswer,answered:d.answered,answeredDate:d.answeredDate}}i[o]={quizId:s.quizId,id:s.id,creationDate:s.creationDate,questions:a,currentQuestionIndex:s.currentQuestionIndex}}e[t]={id:r.id,currentSessionId:r.currentSessionId,sessions:i}}return{quizzes:e,currentQuizId:n.currentQuizId,version:n.version}}function GE(n){let e={};for(let[t,r]of Object.entries(n.quizzes)){let i=pu[t];if(!i)continue;let o={};for(let[s,a]of Object.entries(r.sessions??{})){let c={};for(let[d,u]of Object.entries(a.questions??{})){let g=$E.get(u.vowelId);if(!g)continue;let w={};for(let[D,F]of Object.entries(u.options??{})){let T=$E.get(F.vowelId);T&&(w[D]=ot(I({},T),{type:F.type,soundIndex:F.soundIndex}))}let k={vowel:ot(I({},g),{soundIndex:u.vowelSoundIndex}),type:u.type,index:u.index,options:w};u.answered?c[d]=ot(I({},k),{answered:!0,selectedAnswer:u.selectedAnswer,answeredDate:u.answeredDate}):c[d]=ot(I({},k),{answered:!1,selectedAnswer:void 0})}o[s]={quizId:a.quizId,id:a.id,creationDate:a.creationDate,questions:c,currentQuestionIndex:a.currentQuestionIndex}}e[t]=ot(I({},i),{id:r.id,currentSessionId:r.currentSessionId,sessions:o})}for(let[t,r]of Object.entries(pu))e[t]||(e[t]=I({},r));return{quizzes:e,currentQuizId:n.currentQuizId,version:n.version}}var Dc=class n{lastSentState;uid;idToken;firebaseService=f(Tc);phonemeService=f(us);setUser(e,t){this.uid=e,this.idToken=t}async fetchRemoteState(e){let t=e??this.uid;if(!t)return;let r=this.firebaseService.getFirestore();if(r)try{let i=Vy(r,"users",t),o=await LE(i);if(console.info("[CloudSync] fetched user doc",{uid:t,exists:o.exists()}),!o.exists())return;let s=o.data();if(console.info("[CloudSync] user doc data keys",Object.keys(s??{})),!s)return;try{this.lastSentState=this.clone(s)}catch{}try{return GE(s)}catch(a){console.warn("Failed to denormalize remote state",a);return}}catch(i){console.warn("Failed to fetch remote state",i);return}}async sync(e){try{if(!this.uid)return;console.info("[CloudSync] preparing sync for",this.uid);let t=qE(e),r=this.computeDiff(this.lastSentState,t);if(!r||Object.keys(r).length===0)return;try{zE(this.constructor.name,r,this.lastSentState,t)}catch{}let i=this.firebaseService.getFirestore();if(i){let o=Vy(i,"users",this.uid);console.info("[CloudSync] writing changes for",this.uid,Object.keys(r)),await jE(o,r,{merge:!0}),console.info("[CloudSync] write complete for",this.uid)}this.lastSentState=this.clone(t)}catch(t){console.warn("Cloud sync failed:",t)}}computeDiff(e,t){if(e===void 0)return this.clone(t)??{};if(e===t)return{};if(!this.isObject(e)||!this.isObject(t))return this.clone(t);let r={},i=new Set([...Object.keys(e),...Object.keys(t)]);for(let o of i){let s=e?.[o],a=t?.[o];if(this.isObject(s)&&this.isObject(a)){let c=this.computeDiff(s,a);c&&Object.keys(c).length>0&&(r[o]=c)}else Array.isArray(s)&&Array.isArray(a)?(s.length!==a.length||JSON.stringify(s)!==JSON.stringify(a))&&(r[o]=this.clone(a)):s!==a&&(r[o]=this.clone(a))}return r}isObject(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}clone(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rc=class n{firebaseService=f(Tc);cloudSync=f(Dc);phonemeSoundsService=f(us);store=f(Gn);authInitialized=!1;user$=new Ce(null);init(){if(this.authInitialized)return;let e=this.firebaseService.init();if(!e)return;let t=Qo(e);Yv(t,async r=>this.handleUser(r)),this.authInitialized=!0}async signInAnonymously(){this.init();let e=this.firebaseService.init();if(!e)return;let t=Qo(e);await Wv(t)}async signInWithGoogle(){this.init();let e=this.firebaseService.init();if(!e)return;let t=Qo(e);await tw(t,new Gv)}async signInWithEmail(e,t){this.init();let r=this.firebaseService.init();if(!r)return;let i=Qo(r);await Kv(i,e,t)}async signUpWithEmail(e,t){this.init();let r=this.firebaseService.init();if(!r)return;let i=Qo(r);await Qv(i,e,t)}async signOut(){let e=this.firebaseService.init();if(!e)return;let t=Qo(e);await Zv(t),this.cloudSync.setUser(void 0,void 0)}async handleUser(e){if(this.user$.next(e),!e){this.cloudSync.setUser(void 0,void 0);return}let t;try{t=await e.getIdToken()}catch(r){console.warn("Failed to obtain ID token for cloud sync",r),t=void 0}console.info("[FirebaseAuth] detected user",{uid:e.uid,anonymous:e.isAnonymous});try{console.info("[FirebaseAuth] attempting to fetch remote state for",e.uid);let r=await this.cloudSync.fetchRemoteState(e.uid);if(r){let i=[];for(let o of Object.values(r.quizzes))for(let s of Object.values(o.sessions??{}))i.push(...Object.values(s.questions??{}));i.length>0&&await ew(i,this.phonemeSoundsService),console.info("[FirebaseAuth] remote state fetched, dispatching restoreState"),this.store.dispatch(zt.restoreState({restoring:r}))}else console.info("[FirebaseAuth] no remote state found for",e.uid)}catch(r){console.warn("Failed to restore remote state",r)}try{this.cloudSync.setUser(e.uid,t)}catch{}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function HF(n,e){if(n&1){let t=Wt();Za(0),B(1,"p"),Q(2," Signed in as: "),bt(3,"br"),B(4,"strong"),Q(5),V()(),B(6,"p",5),Q(7),V(),B(8,"button",6),ut("click",function(){gt(t);let i=Z();return ft(i.logout())}),Q(9," Sign Out "),V(),Xa()}if(n&2){let t=e.ngIf;j(5),Ee(t.email||"Anonymous"),j(2),zn("UID: ",t.uid)}}function UF(n,e){n&1&&(B(0,"mat-error"),Q(1,"Invalid email"),V())}function $F(n,e){n&1&&(B(0,"mat-error"),Q(1,"Min 6 chars"),V())}function qF(n,e){n&1&&(B(0,"mat-error"),Q(1,"Invalid email"),V())}function GF(n,e){n&1&&(B(0,"mat-error"),Q(1,"Min 6 chars"),V())}function WF(n,e){if(n&1){let t=Wt();B(0,"button",7),ut("click",function(){gt(t);let i=Z();return ft(i.googleLogin())}),B(1,"mat-icon"),Q(2,"login"),V(),Q(3," Sign in with Google "),V(),B(4,"button",8),ut("click",function(){gt(t);let i=Z();return ft(i.continueAnonymous())}),Q(5," Continue anonymously "),V(),B(6,"div",9),Q(7,"OR"),V(),B(8,"mat-tab-group")(9,"mat-tab",10)(10,"form",11),ut("ngSubmit",function(){gt(t);let i=Z();return ft(i.onLogin())}),B(11,"mat-form-field",12)(12,"mat-label"),Q(13,"Email"),V(),bt(14,"input",13),pn(15,UF,2,0,"mat-error",14),V(),B(16,"mat-form-field",12)(17,"mat-label"),Q(18,"Password"),V(),bt(19,"input",15),pn(20,$F,2,0,"mat-error",14),V(),B(21,"button",16),Q(22," Log In "),V()()(),B(23,"mat-tab",17)(24,"form",11),ut("ngSubmit",function(){gt(t);let i=Z();return ft(i.onRegister())}),B(25,"mat-form-field",12)(26,"mat-label"),Q(27,"Email"),V(),bt(28,"input",13),pn(29,qF,2,0,"mat-error",14),V(),B(30,"mat-form-field",12)(31,"mat-label"),Q(32,"Password"),V(),bt(33,"input",15),pn(34,GF,2,0,"mat-error",14),V(),B(35,"button",18),Q(36," Sign Up "),V()()()()}if(n&2){let t,r,i,o,s=Z();j(10),it("formGroup",s.loginForm),j(5),it("ngIf",(t=s.loginForm.get("email"))==null?null:t.hasError("email")),j(5),it("ngIf",(r=s.loginForm.get("password"))==null?null:r.hasError("minlength")),j(),it("disabled",s.loginForm.invalid),j(3),it("formGroup",s.registerForm),j(5),it("ngIf",(i=s.registerForm.get("email"))==null?null:i.hasError("email")),j(5),it("ngIf",(o=s.registerForm.get("password"))==null?null:o.hasError("minlength")),j(),it("disabled",s.registerForm.invalid)}}var B1=class n{auth=f(Rc);fb=f(h5);snackBar=f(Um);router=f(qn);user$=this.auth.user$;loginForm=this.fb.group({email:["",[Qn.required,Qn.email]],password:["",[Qn.required,Qn.minLength(6)]]});registerForm=this.fb.group({email:["",[Qn.required,Qn.email]],password:["",[Qn.required,Qn.minLength(6)]]});async googleLogin(){try{await this.auth.signInWithGoogle(),this.router.navigate(["/"])}catch(e){this.snackBar.open(e.message,"Close",{duration:3e3})}}async continueAnonymous(){try{await this.auth.signInAnonymously(),this.router.navigate(["/"])}catch(e){this.snackBar.open(e.message,"Close",{duration:3e3})}}async onLogin(){if(this.loginForm.invalid)return;let{email:e,password:t}=this.loginForm.value;try{await this.auth.signInWithEmail(e,t),this.router.navigate(["/"])}catch(r){this.snackBar.open(r.message,"Close",{duration:3e3})}}async onRegister(){if(this.registerForm.invalid)return;let{email:e,password:t}=this.registerForm.value;try{await this.auth.signUpWithEmail(e,t),this.router.navigate(["/"])}catch(r){this.snackBar.open(r.message,"Close",{duration:3e3})}}async logout(){await this.auth.signOut()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-login"]],decls:10,vars:4,consts:[["loginView",""],[1,"container","container-login"],[1,"login-card"],[1,"pt-3"],[4,"ngIf","ngIfElse"],[1,"text-secondary","small"],["color","warn","mat-stroked-button","",3,"click"],["mat-flat-button","",1,"w-100","mb-3",3,"click"],["mat-stroked-button","",1,"w-100","mb-3",3,"click"],[1,"divider"],["label","Sign In"],[1,"d-flex","flex-column","gap-2","pt-3",3,"ngSubmit","formGroup"],["appearance","outline"],["formControlName","email","matInput","","type","email"],[4,"ngIf"],["formControlName","password","matInput","","type","password"],["color","primary","mat-raised-button","","type","submit",3,"disabled"],["label","Register"],["color","accent","mat-raised-button","","type","submit",3,"disabled"]],template:function(t,r){if(t&1&&(B(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title"),Q(4,"Account"),V()(),B(5,"mat-card-content",3),pn(6,HF,10,2,"ng-container",4),ni(7,"async"),pn(8,WF,37,8,"ng-template",null,0,$u),V()()()),t&2){let i=ei(9);j(6),it("ngIf",ko(7,2,r.user$))("ngIfElse",i)}},dependencies:[Ku,Ng,y0,l5,m0,e5,n5,rh,Am,gr,So,k0,p5,f5,m5,g5,oh,M0,ih,Rm,O5,P5,dM,Km,cM,kp,yp,nM,Lg],styles:[".container-login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;padding-top:2rem;height:100%}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px}.divider[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;color:#ccc;font-size:.8rem}.w-100[_ngcontent-%COMP%]{width:100%}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.pt-3[_ngcontent-%COMP%]{padding-top:1rem}.d-flex[_ngcontent-%COMP%]{display:flex}.flex-column[_ngcontent-%COMP%]{flex-direction:column}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.text-secondary[_ngcontent-%COMP%]{color:#6c757d}.small[_ngcontent-%COMP%]{font-size:.875em}"]})};var WE="mat-badge-content",QF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["ng-component"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return n})(),QE=(()=>{class n{_ngZone=f(ct);_elementRef=f(vt);_ariaDescriber=f(hp);_renderer=f(ae);_animationsDisabled=xe();_idGenerator=f(Pe);get color(){return this._color}set color(t){this._setColor(t),this._color=t}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(t){this._updateRenderedContent(t)}_content;get description(){return this._description}set description(t){this._updateDescription(t)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=f(cf);_document=f(yt);constructor(){let t=f(Ye);t.load(QF),t.load(bd)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),r="mat-badge-active";return t.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),t.setAttribute("aria-hidden","true"),t.classList.add(WE),this._animationsDisabled&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&!this._animationsDisabled?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(r)})}):t.classList.add(r),t}_updateRenderedContent(t){let r=`${t??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),t&&r.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${WE}`);for(let r of Array.from(t))r!==this._badgeElement&&r.remove()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(r,i){r&2&&Et("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small",i.size==="small")("mat-badge-medium",i.size==="medium")("mat-badge-large",i.size==="large")("mat-badge-hidden",i.hidden||!i.content)("mat-badge-disabled",i.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",It],disabled:[2,"matBadgeDisabled","disabled",It],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",It]}})}return n})(),N1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[Md,ne]})}return n})();var ZF=["tooltip"],XF=20;var JF=new L("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(Tt);return()=>B0(n,{scrollThrottle:XF})}}),tL=new L("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var KE="tooltip-panel",YE=Mo({passive:!0}),eL=8,nL=8,rL=24,iL=200,_a=(()=>{class n{_elementRef=f(vt);_ngZone=f(ct);_platform=f($t);_ariaDescriber=f(hp);_focusMonitor=f(Di);_dir=f(pr);_injector=f(Tt);_viewContainerRef=f(Dn);_animationsDisabled=xe();_defaultOptions=f(tL,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=ZE;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ur(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let r=ur(t);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Co(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Co(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let r=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new nt;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=eL}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(re(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,YE)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(r);this._detach(),this._portal=this._portal||new No(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(re(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(t):(r._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof vt)return this._overlayRef;this._detach()}let r=this._injector.get(Hs).getAncestorScrollContainers(this._elementRef),i=`${this._cssClassPrefix}-${KE}`,o=N0(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r).withPopoverLocation("global");return o.positionChanges.pipe(re(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Bl(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,i]:i,scrollStrategy:this._injector.get(JF)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(re(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(re(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(re(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!il(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(re(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset(I(I({},i.main),o.main)),this._addOffset(I(I({},i.fallback),o.fallback))])}_addOffset(t){let r=nL,i=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-r:t.originY==="bottom"?t.offsetY=r:t.originX==="start"?t.offsetX=i?-r:r:t.originX==="end"&&(t.offsetX=i?r:-r),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"||r=="below"?i={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&t||r=="right"&&!t?i={originX:"start",originY:"center"}:(r=="after"||r=="right"&&t||r=="left"&&!t)&&(i={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"?i={overlayX:"center",overlayY:"bottom"}:r=="below"?i={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&t||r=="right"&&!t?i={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&t||r=="left"&&!t)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),je(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){let{overlayY:r,originX:i,originY:o}=t,s;if(r==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=r==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${KE}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let r;t.x!==void 0&&t.y!==void 0&&(r=t),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{let i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,YE)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let r=this._injector.get(yt).elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let r=this._elementRef.nativeElement,i=r.style;(t==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||je({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){r&2&&Et("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),ZE=(()=>{class n{_changeDetectorRef=f(Re);_elementRef=f(vt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=xe();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new nt;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>rL&&t.width>=iL}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(t?o:i),r.classList.add(t?i:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(r);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(r,i){if(r&1&&kn(ZF,7),r&2){let o;Rt(o=Pt())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){r&1&&ut("mouseleave",function(s){return i._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,i){if(r&1){let o=Wt();B(0,"div",1,0),ut("animationend",function(a){return gt(o),ft(i._handleAnimationEnd(a))}),B(2,"div",2),Q(3),V()()}r&2&&(Et("mdc-tooltip--multiline",i._isMultiline),it("ngClass",i.tooltipClass),j(3),Ee(i.message))},dependencies:[As],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var ps=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[Md,ch,ne,ah]})}return n})();var rI=Symbol.for("immer-nothing"),XE=Symbol.for("immer-draftable"),Jn=Symbol.for("immer-state");function jr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Pc=Object.getPrototypeOf;function Oc(n){return!!n&&!!n[Jn]}function ka(n){return n?iI(n)||Array.isArray(n)||!!n[XE]||!!n.constructor?.[XE]||z1(n)||H1(n):!1}var oL=Object.prototype.constructor.toString();function iI(n){if(!n||typeof n!="object")return!1;let e=Pc(n);if(e===null)return!0;let t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===oL}function V1(n,e){j1(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function j1(n){let e=n[Jn];return e?e.type_:Array.isArray(n)?1:z1(n)?2:H1(n)?3:0}function Uy(n,e){return j1(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function oI(n,e,t){let r=j1(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function sL(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function z1(n){return n instanceof Map}function H1(n){return n instanceof Set}function ya(n){return n.copy_||n.base_}function $y(n,e){if(z1(n))return new Map(n);if(H1(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);let t=iI(n);if(e===!0||e==="class_only"&&!t){let r=Object.getOwnPropertyDescriptors(n);delete r[Jn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){let s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[s]})}return Object.create(Pc(n),r)}else{let r=Pc(n);if(r!==null&&t)return I({},n);let i=Object.create(r);return Object.assign(i,n)}}function Ky(n,e=!1){return U1(n)||Oc(n)||!ka(n)||(j1(n)>1&&(n.set=n.add=n.clear=n.delete=aL),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>Ky(r,!0))),n}function aL(){jr(2)}function U1(n){return Object.isFrozen(n)}var lL={};function ba(n){let e=lL[n];return e||jr(0,n),e}var gu;function sI(){return gu}function cL(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JE(n,e){e&&(ba("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function qy(n){Gy(n),n.drafts_.forEach(dL),n.drafts_=null}function Gy(n){n===gu&&(gu=n.parent_)}function tI(n){return gu=cL(gu,n)}function dL(n){let e=n[Jn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function eI(n,e){e.unfinalizedDrafts_=e.drafts_.length;let t=e.drafts_[0];return n!==void 0&&n!==t?(t[Jn].modified_&&(qy(e),jr(4)),ka(n)&&(n=F1(e,n),e.parent_||L1(e,n)),e.patches_&&ba("Patches").generateReplacementPatches_(t[Jn].base_,n,e.patches_,e.inversePatches_)):n=F1(e,t,[]),qy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==rI?n:void 0}function F1(n,e,t){if(U1(e))return e;let r=e[Jn];if(!r)return V1(e,(i,o)=>nI(n,r,e,i,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return L1(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;let i=r.copy_,o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),V1(o,(a,c)=>nI(n,r,i,a,c,t,s)),L1(n,i,!1),t&&n.patches_&&ba("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function nI(n,e,t,r,i,o,s){if(Oc(i)){let a=o&&e&&e.type_!==3&&!Uy(e.assigned_,r)?o.concat(r):void 0,c=F1(n,i,a);if(oI(t,r,c),Oc(c))n.canAutoFreeze_=!1;else return}else s&&t.add(i);if(ka(i)&&!U1(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;F1(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&L1(n,i)}}function L1(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Ky(e,t)}function hL(n,e){let t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:sI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,o=Yy;t&&(i=[r],o=fu);let{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var Yy={get(n,e){if(e===Jn)return n;let t=ya(n);if(!Uy(t,e))return uL(n,t,e);let r=t[e];return n.finalized_||!ka(r)?r:r===zy(n.base_,e)?(Hy(n),n.copy_[e]=Qy(r,n)):r},has(n,e){return e in ya(n)},ownKeys(n){return Reflect.ownKeys(ya(n))},set(n,e,t){let r=aI(ya(n),e);if(r?.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){let i=zy(ya(n),e),o=i?.[Jn];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(sL(t,i)&&(t!==void 0||Uy(n.base_,e)))return!0;Hy(n),Wy(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return zy(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Hy(n),Wy(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){let t=ya(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){jr(11)},getPrototypeOf(n){return Pc(n.base_)},setPrototypeOf(){jr(12)}},fu={};V1(Yy,(n,e)=>{fu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fu.deleteProperty=function(n,e){return fu.set.call(this,n,e,void 0)};fu.set=function(n,e,t){return Yy.set.call(this,n[0],e,t,n[0])};function zy(n,e){let t=n[Jn];return(t?ya(t):n)[e]}function uL(n,e,t){let r=aI(e,t);return r?"value"in r?r.value:r.get?.call(n.draft_):void 0}function aI(n,e){if(!(e in n))return;let t=Pc(n);for(;t;){let r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Pc(t)}}function Wy(n){n.modified_||(n.modified_=!0,n.parent_&&Wy(n.parent_))}function Hy(n){n.copy_||(n.copy_=$y(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var pL=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){let o=t;t=e;let s=this;return function(c=o,...d){return s.produce(c,u=>t.call(this,u,...d))}}typeof t!="function"&&jr(6),r!==void 0&&typeof r!="function"&&jr(7);let i;if(ka(e)){let o=tI(this),s=Qy(e,void 0),a=!0;try{i=t(s),a=!1}finally{a?qy(o):Gy(o)}return JE(o,r),eI(i,o)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===rI&&(i=void 0),this.autoFreeze_&&Ky(i,!0),r){let o=[],s=[];ba("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else jr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,c=>e(c,...a));let r,i;return[this.produce(e,t,(s,a)=>{r=s,i=a}),r,i]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){ka(n)||jr(8),Oc(n)&&(n=gL(n));let e=tI(this),t=Qy(n,void 0);return t[Jn].isManual_=!0,Gy(e),t}finishDraft(n,e){let t=n&&n[Jn];(!t||!t.isManual_)&&jr(9);let{scope_:r}=t;return JE(r,e),eI(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){let i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));let r=ba("Patches").applyPatches_;return Oc(n)?r(n,e):this.produce(n,i=>r(i,e))}};function Qy(n,e){let t=z1(n)?ba("MapSet").proxyMap_(n,e):H1(n)?ba("MapSet").proxySet_(n,e):hL(n,e);return(e?e.scope_:sI()).drafts_.push(t),t}function gL(n){return Oc(n)||jr(10,n),lI(n)}function lI(n){if(!ka(n)||U1(n))return n;let e=n[Jn],t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=$y(n,e.scope_.immer_.useStrictShallowCopy_)}else t=$y(n,!0);return V1(t,(r,i)=>{oI(t,r,lI(i))}),e&&(e.finalized_=!1),t}var tr=new pL,cI=tr.produce,Ant=tr.produceWithPatches.bind(tr),Tnt=tr.setAutoFreeze.bind(tr),Dnt=tr.setUseStrictShallowCopy.bind(tr),Rnt=tr.applyPatches.bind(tr),Pnt=tr.createDraft.bind(tr),Ont=tr.finishDraft.bind(tr);function dI(n){return(e,t)=>cI(e,r=>n(r,t))}function Ki(...n){let e=n.pop();return js(...n,dI(e))}var hI={type:i0},uI={type:Kd};var mu=(n,...e)=>e.reduce((t,r)=>I(I({},t),r),I({},n));function pI(n){return n.charAt(0).toUpperCase()+n.substring(1)}function Zy(n,e,t){return Object.keys(t).reduce((i,o)=>ot(I({},i),{[`select${pI(n)}${pI(o)}`]:Wn(e,s=>s?.[o])}),{})}var fL=Object.freeze({quizzes:I({},pu),currentQuizId:void 0,version:1}),ln=vx({name:"quiz",reducer:cm(fL,js(zt.addQuiz,(n,{quiz:e})=>mu(n,{quizzes:ot(I({},n.quizzes),{[e.id]:e})})),Ki(zt.addSession,(n,{session:e})=>{let t=n.quizzes[e.quizId];return t.sessions[e.id]=e,n}),js(zt.openQuiz,(n,{quizId:e})=>mu(n,{currentQuizId:e})),Ki(zt.openSession,(n,{quizId:e,sessionId:t})=>{let r=n.quizzes[e];return r&&(r.currentSessionId=t),n}),Ki(zt.selectAnswer,(n,{selectedAnswer:e})=>{let t=n.currentQuizId;if(!t)return n;let r=n.quizzes[t],i=r?.currentSessionId;if(!i)return n;let o=r.sessions[i],s=o?.currentQuestionIndex,a=o?.questions;return s!==void 0&&a[s]!==void 0&&(a[s].selectedAnswer=e),n}),Ki(zt.updateQuestionSoundIndex,(n,{soundIndex:e})=>{let t=n.currentQuizId;if(!t)return n;let r=n.quizzes[t],i=r?.currentSessionId;if(!i)return n;let o=r.sessions[i],s=o?.currentQuestionIndex,a=o?.questions;return s!==void 0&&a[s]!==void 0&&(a[s].vowel.soundIndex=e),n}),Ki(zt.updateOptionSoundIndex,(n,{optionId:e,soundIndex:t})=>{let r=n.currentQuizId;if(!r)return n;let i=n.quizzes[r],o=i?.currentSessionId;if(!o)return n;let s=i.sessions?.[o],a=s?.currentQuestionIndex,c=s?.questions;return a!==void 0&&c[a]!==void 0&&(c[a].options[e].soundIndex=t),n}),js(zt.restoreState,(n,{restoring:e})=>mu(n,e)),Ki(zt.answerCurrent,(n,{date:e})=>{let t=n.currentQuizId;if(!t)return n;let r=n.quizzes[t],i=r?.currentSessionId;if(!i)return n;let o=r.sessions?.[i],s=o?.currentQuestionIndex,a=o?.questions;return s!==void 0&&a[s]!==void 0&&(a[s].answered=!0,a[s].answeredDate=e),n}),Ki(zt.nextQuestion,n=>{let e=n.currentQuizId;if(!e)return n;let t=n.quizzes[e],r=t?.currentSessionId;if(!r)return n;let i=t.sessions[r],o=i?Object.keys(i.questions).length:0;return i&&i.currentQuestionIndex<o-1&&i.currentQuestionIndex++,n}),Ki(zt.previousQuestion,n=>{let e=n.currentQuizId;if(!e)return n;let t=n.quizzes[e],r=t?.currentSessionId;if(!r)return n;let i=t.sessions?.[r];return i&&i.currentQuestionIndex>0&&i.currentQuestionIndex--,n}),js(uI,(n,{payload:e})=>{let{routerState:{url:t}}=e,r=t?.match(/quiz-\d+/)?.at(0);return mu(n,{currentQuizId:r??n.currentQuizId})})),extraSelectors:n=>{let e=Wn(n.selectQuizzes,n.selectCurrentQuizId,(w,k)=>k!==void 0?w[k]:void 0),t=Zy("quiz",e,{description:"",id:"quiz-0",name:"",sessions:{},currentSessionId:"session-0"}),r=Wn(t.selectQuizSessions,t.selectQuizCurrentSessionId,(w,k)=>{if(w)return k!==void 0?w[k]:Object.values(w).at(-1)}),i=Zy("session",r,{creationDate:"",currentQuestionIndex:0,id:"session-0",questions:{},quizId:"quiz-0"}),o=Wn(i.selectSessionQuestions,w=>w?Object.keys(w).length:void 0),s=Wn(i.selectSessionQuestions,i.selectSessionCurrentQuestionIndex,(w,k)=>k!==void 0?w?.[k]:void 0),a=Zy("currentQuestion",s,{index:0,answered:!1,answeredDate:void 0,options:{},selectedAnswer:void 0,type:"letter",vowel:{}}),c=Wn(t.selectQuizSessions,w=>Object.values(w??{}).map(k=>{let D=Object.values(k.questions),F=D.reduce((q,W)=>(W.answered&&q.answered++,W.selectedAnswer!==void 0&&(W.selectedAnswer===W.vowel.id?q.correct++:q.wrong++),q.seen.add(W.vowel.id),W.answered&&(W.selectedAnswer===W.vowel.id?(q.currentStreak++,q.longestStreak=Math.max(q.longestStreak,q.currentStreak)):q.currentStreak=0),q),{answered:0,correct:0,seen:new Set,wrong:0,currentStreak:0,longestStreak:0}),T=D.length,U=F.seen.size;return ot(I({},F),{seenLength:U,itens:T,unSeen:T-U})})),d=Wn(t.selectQuizSessions,w=>{if(w===void 0)return;let k=Object.values(w).map(T=>Object.values(T.questions)).flat(1).reduce((T,U)=>(U.answered&&T.answered++,U.selectedAnswer!==void 0&&(U.selectedAnswer===U.vowel.id?T.correct++:T.wrong++),T.seen.add(U.vowel.id),U.answered&&(U.selectedAnswer===U.vowel.id?(T.currentStreak++,T.longestStreak=Math.max(T.longestStreak,T.currentStreak)):T.currentStreak=0),T),{answered:0,correct:0,seen:new Set,wrong:0,currentStreak:0,longestStreak:0}),D=pi.length,F=k.seen.size;return ot(I({},k),{seenLength:F,itens:D,unSeen:D-F})}),u=[10,25,50,100],g=Wn(t.selectQuizSessions,w=>{if(w===void 0)return;let k=Object.values(w).filter(q=>!Object.values(q.questions).some(W=>!W.answered)),D=k.length;if(D===0)return[];let F=k.map(q=>{let W=Object.values(q.questions??{}),dt=W.filter(Mt=>Mt.selectedAnswer===Mt.vowel.id).length,Ct=W.length;return dt/Ct});return Array.from(new Set([...u.filter(q=>q<=D),D])).filter(q=>q>0&&q<=D).sort((q,W)=>q-W).map(q=>({length:q,type:"SMA",value:F.slice(-q).reduce((W,dt)=>W+dt,0)/q}))});return ot(I(ot(I({selectCurrentQuiz:e},i),{selectCurrentSession:r,selectQuestionsLength:o,selectCurrentQuestion:s}),a),{selectMovingAverages:g,selectStatsBySession:c,selectTotalStats:d,selectFinished:Wn(i.selectSessionQuestions,w=>w!==void 0&&!Object.values(w??{}).some(k=>!k.answered))})}});var qe=class n{practiceOpened(e){this.store$.dispatch(zt.practiceOpened({quizId:e}))}nextOptionSound(e){let t=e,r=e.sounds??[];if(r.length===0)return;let o=((t.soundIndex??0)+1)%r.length;this.store$.dispatch(zt.updateOptionSoundIndex({optionId:e.id,soundIndex:o}))}nextQuestionSound(e){let t=e,r=e.sounds??[];if(r.length===0)return;let o=((t.soundIndex??0)+1)%r.length;this.store$.dispatch(zt.updateQuestionSoundIndex({soundIndex:o}))}goBack(){this.store$.dispatch(zt.goBack())}store$=f(Gn);goToNewSession(){this.store$.dispatch(zt.goToNewSession())}previousQuestion(){this.store$.dispatch(zt.previousQuestion())}next(){this.store$.dispatch(zt.nextQuestion())}answerCurrent(){this.store$.dispatch(zt.answerCurrent({date:new Date().toISOString()}))}openQuiz(e){this.store$.dispatch(zt.openQuiz({quizId:e}))}selectAnswer(e){this.store$.dispatch(zt.selectAnswer({selectedAnswer:e}))}_quizzes$;get quizzes$(){return this._quizzes$}_finished$;get finished$(){return this._finished$}_openedQuiz$;get openedQuiz$(){return this._openedQuiz$}_selectedAnswer$;get selectedAnswer$(){return this._selectedAnswer$}_state$;get state$(){return this._state$}_session$;get session$(){return this._session$}_questions$;get questions$(){return this._questions$}_question$;get question$(){return this._question$}_currentQuestionIndex$;get currentQuestionIndex$(){return this._currentQuestionIndex$}_answered$;get answered$(){return this._answered$}_questionsLength$;get questionsLength$(){return this._questionsLength$}_movingAverages$=this.store$.select(ln.selectMovingAverages);_statsBySession$=this.store$.select(ln.selectStatsBySession);get statsBySession$(){return this._statsBySession$}get movingAverages$(){return this._movingAverages$}_totalStats$=this.store$.select(ln.selectTotalStats);get totalStats$(){return this._totalStats$}constructor(){this._finished$=this.store$.select(ln.selectFinished),this._quizzes$=this.store$.select(ln.selectQuizzes).pipe(lt(e=>Object.values(e??{}).sort((t,r)=>t.id.localeCompare(r.id)))),this._openedQuiz$=this.store$.select(ln.selectCurrentQuiz),this._selectedAnswer$=this.store$.select(ln.selectCurrentQuestionSelectedAnswer),this._state$=this.store$.select(ln.selectQuizState),this._session$=this.store$.select(ln.selectCurrentSession),this._questions$=this.store$.select(ln.selectSessionQuestions).pipe(lt(e=>e?Object.values(e):void 0)),this._question$=this.store$.select(ln.selectCurrentQuestion),this._currentQuestionIndex$=this.store$.select(ln.selectCurrentQuestionIndex),this._answered$=this.store$.select(ln.selectCurrentQuestionAnswered),this._questionsLength$=this.store$.select(ln.selectQuestionsLength)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var $1=class n{correct=Zt.required();wrong=Zt.required();longest=Zt.required();current=Zt.required();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-stat-badges"]],inputs:{correct:[1,"correct"],wrong:[1,"wrong"],longest:[1,"longest"],current:[1,"current"]},decls:12,vars:4,consts:[["matBadgeOverlap","false","matTooltip","Correct",1,"ms-4","text-success","correct",3,"matBadge"],["matBadgeOverlap","false","matTooltip","Wrong",1,"ms-4","text-danger","wrong",3,"matBadge"],["matBadgeOverlap","false","matTooltip","Longest Streak",1,"ms-4","text-warning","streak",3,"matBadge"],["matBadgeOverlap","false","matTooltip","Current Streak",1,"ms-4","text-warning","streak",3,"matBadge"]],template:function(t,r){t&1&&(B(0,"span",0)(1,"strong"),Q(2,"\u2713\uFE0E"),V()(),B(3,"span",1)(4,"strong"),Q(5,"\u274C\uFE0E"),V()(),B(6,"span",2)(7,"strong"),Q(8,"\u{1F525}\uFE0E"),V()(),B(9,"span",3)(10,"strong"),Q(11,"\u{1F3C6}\uFE0E"),V()()),t&2&&(it("matBadge",r.correct()),j(3),it("matBadge",r.wrong()),j(3),it("matBadge",r.longest()),j(3),it("matBadge",r.current()))},dependencies:[N1,QE,ps,_a],encapsulation:2})};var mL="\u26A1\uFE0F",vL="SIGNAL",Xy="#3b82f6";function kr(){return function(e){if(!Ir())return;let t=e.\u0275fac;e.\u0275fac=function(...i){let o=t(...i),s={},a=new Map;for(let c in o){let d=o[c];Is(d)&&(s[c]=d)}return Object.keys(s).length>0&&Tn(()=>{let d=Object.entries(s).map(([u,g])=>({key:u,value:g()})).filter(({key:u,value:g})=>{let w=a.get(u);return g!==w});d.length>0&&(console.groupCollapsed(`%c${mL}${vL} %c${d.length} Change(s) in ${e.name}`,`color: ${Xy}; font-weight: bold;`,"color: gray; font-weight: normal;"),d.forEach(({key:u,value:g})=>{let w=a.get(u);console.log(`%c${u}%c`,`color: ${Xy}; font-weight: bold; border-left: 3px solid ${Xy}; padding-left: 5px;`,"color: inherit;",{from:w,to:g}),a.set(u,g)}),console.groupEnd())}),o}}}var wL=()=>[10,25,50,100];function _L(n,e){n&1&&(B(0,"span",8)(1,"sup"),Q(2,"Incomplete"),V()())}function yL(n,e){if(n&1&&(B(0,"span",8)(1,"sup"),Q(2),V()()),n&2){let t=Z().$index;Z();let r=Kt(12);j(2),Ee("SMA"+(t+1-(r?1:0)))}}function kL(n,e){if(n&1&&(B(0,"div"),bt(1,"app-stat-badges",2),V(),Ot(2,_L,3,0,"span",8),Ot(3,yL,3,1,"span",8)),n&2){let t=e.$implicit,r=e.$index,i=e.$count;Z();let o=Kt(12);j(),it("correct",t.correct)("current",t.currentStreak)("longest",t.longestStreak)("wrong",t.wrong),j(),Bt(i>0&&o&&r===0?2:-1),j(),Bt(ik(6,wL).includes(r+1-(o?1:0))?3:-1)}}function bL(n,e){if(n&1&&(B(0,"div",6),bt(1,"ng-icon",9),B(2,"span"),Q(3),V(),B(4,"span"),Q(5),ni(6,"percent"),V()()),n&2){let t=e.$implicit;j(3),ek("",t.type,"-",t.length,":"),j(2),zn(" ",lk(6,3,t.value,"2.2-2"))}}var zr=class{quizService=f(qe);_statsBySession$=sn(this.quizService.statsBySession$.pipe(lt(e=>[...e??[]].reverse())));get statsBySession$(){return this._statsBySession$}_movingAverages$=sn(this.quizService.movingAverages$);get movingAverages$(){return this._movingAverages$}_totalStats$=sn(this.quizService.totalStats$);get totalStats$(){return this._totalStats$}_quizId;set id(e){this._quizId=e}router=f(qn);practice(){this._quizId&&(this.quizService.practiceOpened(this._quizId),this.router.navigate(["quiz/"+this._quizId]))}};Qe(zr,"\u0275fac",function(t){return new(t||zr)}),Qe(zr,"\u0275cmp",rt({type:zr,selectors:[["app-quiz-home"]],inputs:{id:"id"},features:[ce([],[bl({lucideChartSpline:O3})])],decls:22,vars:5,consts:[[1,"d-flex","flex-column","h-100","justify-content-between"],[1,"d-flex","flex-column","gap-3"],[3,"correct","current","longest","wrong"],[1,"d-flex","flex-column","overflow-hidden"],[1,"overflow-auto","pt-1"],[1,"mat-divider"],[1,"ms-4"],["color","primary","mat-raised-button","",1,"flex-shrink-0",3,"click"],[1,"text-secondary","small"],["name","lucideChartSpline"]],template:function(t,r){if(t&1){let i=Wt();B(0,"div",0)(1,"div",1)(2,"section")(3,"h1"),Q(4,"Quiz Stats"),V(),B(5,"h2"),Q(6,"Total"),V(),bt(7,"app-stat-badges",2),V(),B(8,"section",3)(9,"h2"),Q(10,"Sessions"),V(),B(11,"div",4),cr(12),gn(13,kL,4,7,null,null,Er),V()()(),B(15,"div",1)(16,"section"),bt(17,"hr",5),gn(18,bL,7,6,"div",6,Er),V(),B(20,"button",7),ut("click",function(){return gt(i),ft(r.practice())}),Q(21," Practice "),V()()()}if(t&2){let i,o,s,a,c;j(7),it("correct",((i=r.totalStats$())==null?null:i.correct)??0)("current",((o=r.totalStats$())==null?null:o.currentStreak)??0)("longest",((s=r.totalStats$())==null?null:s.longestStreak)??0)("wrong",((a=r.totalStats$())==null?null:a.wrong)??0),j(5),we((((c=r.statsBySession$())==null||c[0]==null?null:c[0].answered)??0)<10),j(),fn(r.statsBySession$()),j(5),fn(r.movingAverages$())}},dependencies:[N1,ps,gr,So,k0,xl,$1,zg],styles:["[_nghost-%COMP%]     .correct .mat-badge-content{background-color:var(--bs-success)}[_nghost-%COMP%]     .wrong .mat-badge-content{background-color:var(--bs-danger)}[_nghost-%COMP%]     .current{color:#ff6700}[_nghost-%COMP%]     .current .mat-badge-content{background-color:#ff6700}[_nghost-%COMP%]     .longest{color:gold}[_nghost-%COMP%]     .longest .mat-badge-content{background-color:gold}"]})),zr=ir([kr()],zr);var gI=(()=>{class n{get vertical(){return this._vertical}set vertical(t){this._vertical=ur(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=ur(t)}_inset=!1;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,i){r&2&&(Jt("aria-orientation",i.vertical?"vertical":"horizontal"),Et("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return n})(),fI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[ne]})}return n})();var Jy=(()=>{class n{_listeners=[];notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ML=["mat-internal-form-field",""],CL=["*"],mI=(()=>{class n{labelPosition;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){r&2&&Et("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:ML,ngContentSelectors:CL,decls:1,vars:0,template:function(r,i){r&1&&(be(),Qt(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return n})();var EL=["input"],IL=["formField"],SL=["*"],q1=class{source;value;constructor(e,t){this.source=e,this.value=t}},AL={provide:f0,useExisting:wo(()=>t4),multi:!0},vI=new L("MatRadioGroup"),TL=new L("mat-radio-default-options",{providedIn:"root",factory:()=>({color:"accent",disabledInteractive:!1})}),t4=(()=>{class n{_changeDetector=f(Re);_value=null;_name=f(Pe).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new jt;_radios;color;get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){let t=this._selected!==null&&this._selected.value===this._value;this._radios&&!t&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new q1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=st({type:n,selectors:[["mat-radio-group"]],contentQueries:function(r,i,o){if(r&1&&Ii(o,G1,5),r&2){let s;Rt(s=Pt())&&(i._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",It],required:[2,"required","required",It],disabledInteractive:[2,"disabledInteractive","disabledInteractive",It]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[ce([AL,{provide:vI,useExisting:n}])]})}return n})(),G1=(()=>{class n{_elementRef=f(vt);_changeDetector=f(Re);_focusMonitor=f(Di);_radioDispatcher=f(Jy);_defaultOptions=f(TL,{optional:!0});_ngZone=f(ct);_renderer=f(ae);_uniqueId=f(Pe).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){t!==this._required&&this._changeDetector.markForCheck(),this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new jt;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=xe();_injector=f(Tt);constructor(){f(Ye).load(dl);let t=f(vI,{optional:!0}),r=f(new Ai("tabindex"),{optional:!0});this.radioGroup=t,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,r&&(this.tabIndex=ri(r,0))}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,r)=>{t!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new q1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_onInputClick=t=>{this.disabled&&this.disabledInteractive&&t.preventDefault()};_updateTabIndex(){let t=this.radioGroup,r;if(!t||!t.selected||this.disabled?r=this.tabIndex:r=t.selected===this?this.tabIndex:-1,r!==this._previousTabIndex){let i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r,je(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===i&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===i&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rt({type:n,selectors:[["mat-radio-button"]],viewQuery:function(r,i){if(r&1&&kn(EL,5)(IL,7,vt),r&2){let o;Rt(o=Pt())&&(i._inputElement=o.first),Rt(o=Pt())&&(i._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(r,i){r&1&&ut("focus",function(){return i._inputElement.nativeElement.focus()}),r&2&&(Jt("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Et("mat-primary",i.color==="primary")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("mat-mdc-radio-checked",i.checked)("mat-mdc-radio-disabled",i.disabled)("mat-mdc-radio-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",It],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:ri(t)],checked:[2,"checked","checked",It],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",It],required:[2,"required","required",It],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",It]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:SL,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,i){if(r&1){let o=Wt();be(),B(0,"div",2,0)(2,"div",3)(3,"div",4),ut("click",function(a){return gt(o),ft(i._onTouchTargetClick(a))}),V(),B(4,"input",5,1),ut("change",function(a){return gt(o),ft(i._onInputInteraction(a))}),V(),B(6,"div",6),bt(7,"div",7)(8,"div",8),V(),B(9,"div",9),bt(10,"div",10),V()(),B(11,"label",11),Qt(12),V()()}r&2&&(it("labelPosition",i.labelPosition),j(2),Et("mdc-radio--disabled",i.disabled),j(2),it("id",i.inputId)("checked",i.checked)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Jt("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),j(5),it("matRippleTrigger",i._rippleTrigger.nativeElement)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),j(2),it("for",i.inputId))},dependencies:[Io,mI],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-radio-button .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button label{cursor:pointer}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-radio-touch-target-size, 48px);width:var(--mat-radio-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return n})(),W1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wt({type:n});static \u0275inj=mt({imports:[vp,G1,ne]})}return n})();var RL=n=>({"z-1 position-relative":n}),PL=(n,e,t)=>({"border scale-50":n,"border-danger":e,"border-success":t});function OL(n,e){if(n&1&&(B(0,"div",16)(1,"div",17),Q(2),V()()),n&2){let t=e.$implicit;Z();let r=Kt(0),i=Kt(1);it("matTooltip",t.name)("matTooltipHideDelay",5e3)("ngClass",ak(7,PL,r===t.id||i===t.id,r===t.id&&i!==r,i===t.id)),Jt("vowel",t.name),j(),it("matTooltip",t.symbol.names.join(", "))("matTooltipHideDelay",5e3),j(),zn(" ",t.letter," ")}}function BL(n,e){if(n&1&&(cr(0)(1),B(2,"div",15),gn(3,OL,3,11,"div",16,Er),V()),n&2){let t=Z().$implicit,r=Z(),i=t.value,o=t.key,s=r.vowelIdsByPosition[o],a=we(r.selectedAnswer$()),c=r.question$();j();let d=we(c==null||c.vowel==null?null:c.vowel.id);j(),it("ngClass",ok(4,RL,a!==void 0&&s.includes(a)||d!==void 0&&s.includes(d))),Jt("vowels",o),j(),fn(i)}}function NL(n,e){if(n&1&&Ot(0,BL,5,6,"div",15),n&2){let t=Z();Bt(t.answered$()?0:-1)}}var wI=Object.groupBy(pi,n=>n.name.replace(/ (un)*rounded$/,"")),Q1=class n{answered$=Zt.required({alias:"answered"});selectedAnswer$=Zt.required({alias:"selectedAnswer"});question$=Zt.required({alias:"question"});vowelsByPosition=wI;vowelIdsByPosition=Object.fromEntries(Object.entries(wI).filter(e=>e[1]!==void 0).reduce((e,[t,r])=>{let i=r?.map(a=>a.id)??[],o=[t,i];return[...e,o]},[]));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-chart"]],inputs:{answered$:[1,"answered","answered$"],selectedAnswer$:[1,"selectedAnswer","selectedAnswer$"],question$:[1,"question","question$"]},decls:47,vars:2,consts:[[1,"chart"],["headers",""],["column","[4, last[","index","[1, 5]","placement","","rows","[1, 2["],[1,"placement","text-nowrap","d-flex","justify-content-start","align-content-center","flex-wrap"],[1,"placement","text-nowrap","d-flex","justify-content-center","align-content-center","flex-wrap"],[1,"placement","text-nowrap","d-flex","justify-content-end","align-content-center","flex-wrap"],["column","[1, 4[","constriction","","index","[6, 12]","rows","[2, last["],[1,"constriction","text-nowrap","d-flex","justify-content-end","align-content-center","flex-wrap"],["column","[4, last[","index","[13, last-8]","rows","[2, last[","vowel",""],[1,"diagonals","d-flex"],[1,"horizontal_1"],[1,"horizontal_2"],[1,"horizontal_3"],[1,"horizontal_4"],[1,"vertical"],[1,"vowels","bg-white","rounded-circle","d-flex",3,"ngClass"],[1,"rounded-circle","d-flex","align-items-center","justify-content-center",3,"matTooltip","matTooltipHideDelay","ngClass"],["matTooltipPosition","above",1,"position","text-center",3,"matTooltip","matTooltipHideDelay"]],template:function(t,r){t&1&&(B(0,"div",0),Za(1,1)(2,2),B(3,"div",3),Q(4," Front "),V(),B(5,"div",4),Q(6," Near-front "),V(),B(7,"div",4),Q(8," Central "),V(),B(9,"div",4),Q(10," Near-back "),V(),B(11,"div",5),Q(12," Back "),V(),Xa(),Za(13,6),B(14,"div",7),Q(15," Close "),V(),B(16,"div",7),Q(17," Near-close "),V(),B(18,"div",7),Q(19," Close-mid "),V(),B(20,"div",7),Q(21," Mid "),V(),B(22,"div",7),Q(23," Open-mid "),V(),B(24,"div",7),Q(25," Near-open "),V(),B(26,"div",7),Q(27," Open "),V(),Xa()(),Za(28,8),gn(29,NL,1,1,null,null,Er),ni(31,"keyvalue"),Xa(),B(32,"div",9)(33,"div"),bt(34,"div"),V(),B(35,"div"),bt(36,"div"),V()(),B(37,"div",10),bt(38,"div"),V(),B(39,"div",11),bt(40,"div"),V(),B(41,"div",12),bt(42,"div"),V(),B(43,"div",13),bt(44,"div"),V(),B(45,"div",14),bt(46,"div"),V()()),t&2&&(j(29),fn(ko(31,0,r.vowelsByPosition)))},dependencies:[u5,gr,W1,ps,_a,As,y0,dd],styles:[`.chart[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(25,1fr);grid-template-rows:repeat(8,1fr);font-size:x-small}.chart[_ngcontent-%COMP%]   .placement[_ngcontent-%COMP%]{grid-row:1/2}.chart[_ngcontent-%COMP%]   .placement[_ngcontent-%COMP%]:nth-of-type(1){grid-column:4/8}.chart[_ngcontent-%COMP%]   .placement[_ngcontent-%COMP%]:nth-of-type(2){grid-column:8/12}.chart[_ngcontent-%COMP%]   .placement[_ngcontent-%COMP%]:nth-of-type(3){grid-column:13/17}.chart[_ngcontent-%COMP%]   .placement[_ngcontent-%COMP%]:nth-of-type(4){grid-column:18/22}.chart[_ngcontent-%COMP%]   .placement[_ngcontent-%COMP%]:nth-of-type(5){grid-column:22/26}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]{grid-column:1/4}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]:nth-of-type(6){grid-row:2/3}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]:nth-of-type(7){grid-row:3/4}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]:nth-of-type(8){grid-row:4/5}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]:nth-of-type(9){grid-row:5/6}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]:nth-of-type(10){grid-row:6/7}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]:nth-of-type(11){grid-row:7/8}.chart[_ngcontent-%COMP%]   .constriction[_ngcontent-%COMP%]:nth-of-type(12){grid-row:8/9}.chart[_ngcontent-%COMP%]   .vowels[_ngcontent-%COMP%]{aspect-ratio:2/1;box-shadow:0 0 5px 3px #fff}.chart[_ngcontent-%COMP%]   .vowels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{aspect-ratio:1/1}.chart[_ngcontent-%COMP%]   .vowels[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{flex-grow:.5;font-size:small}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close "][_ngcontent-%COMP%]{grid-row:2/3}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close "][vowels*=" front"][_ngcontent-%COMP%]{grid-column:4/6;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close "][vowels*=" near-front"][_ngcontent-%COMP%]{grid-column:9/11;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close "][vowels*=" central"][_ngcontent-%COMP%]{grid-column:14/16;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close "][vowels*=" near-back"][_ngcontent-%COMP%]{grid-column:19/21;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close "][vowels*=" back"][_ngcontent-%COMP%]{grid-column:24/26;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-close "][_ngcontent-%COMP%]{grid-row:3/4}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-close "][vowels*=" front"][_ngcontent-%COMP%]{grid-column:4/6;transform:translate(83.3333333333%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-close "][vowels*=" near-front"][_ngcontent-%COMP%]{grid-column:9/11;transform:translate(62.5%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-close "][vowels*=" central"][_ngcontent-%COMP%]{grid-column:14/16;transform:translate(41.6666666667%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-close "][vowels*=" near-back"][_ngcontent-%COMP%]{grid-column:19/21;transform:translate(20.8333333333%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-close "][vowels*=" back"][_ngcontent-%COMP%]{grid-column:24/26;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close-mid "][_ngcontent-%COMP%]{grid-row:4/5}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close-mid "][vowels*=" front"][_ngcontent-%COMP%]{grid-column:4/6;transform:translate(166.6666666667%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close-mid "][vowels*=" near-front"][_ngcontent-%COMP%]{grid-column:9/11;transform:translate(125%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close-mid "][vowels*=" central"][_ngcontent-%COMP%]{grid-column:14/16;transform:translate(83.3333333333%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close-mid "][vowels*=" near-back"][_ngcontent-%COMP%]{grid-column:19/21;transform:translate(41.6666666667%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Close-mid "][vowels*=" back"][_ngcontent-%COMP%]{grid-column:24/26;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Mid "][_ngcontent-%COMP%]{grid-row:5/6}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Mid "][vowels*=" front"][_ngcontent-%COMP%]{grid-column:4/6;transform:translate(250%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Mid "][vowels*=" near-front"][_ngcontent-%COMP%]{grid-column:9/11;transform:translate(187.5%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Mid "][vowels*=" central"][_ngcontent-%COMP%]{grid-column:14/16;transform:translate(125%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Mid "][vowels*=" near-back"][_ngcontent-%COMP%]{grid-column:19/21;transform:translate(62.5%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Mid "][vowels*=" back"][_ngcontent-%COMP%]{grid-column:24/26;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open-mid "][_ngcontent-%COMP%]{grid-row:6/7}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open-mid "][vowels*=" front"][_ngcontent-%COMP%]{grid-column:4/6;transform:translate(333.3333333333%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open-mid "][vowels*=" near-front"][_ngcontent-%COMP%]{grid-column:9/11;transform:translate(250%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open-mid "][vowels*=" central"][_ngcontent-%COMP%]{grid-column:14/16;transform:translate(166.6666666667%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open-mid "][vowels*=" near-back"][_ngcontent-%COMP%]{grid-column:19/21;transform:translate(83.3333333333%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open-mid "][vowels*=" back"][_ngcontent-%COMP%]{grid-column:24/26;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-open "][_ngcontent-%COMP%]{grid-row:7/8}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-open "][vowels*=" front"][_ngcontent-%COMP%]{grid-column:4/6;transform:translate(416.6666666667%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-open "][vowels*=" near-front"][_ngcontent-%COMP%]{grid-column:9/11;transform:translate(312.5%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-open "][vowels*=" central"][_ngcontent-%COMP%]{grid-column:14/16;transform:translate(208.3333333333%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-open "][vowels*=" near-back"][_ngcontent-%COMP%]{grid-column:19/21;transform:translate(104.1666666667%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Near-open "][vowels*=" back"][_ngcontent-%COMP%]{grid-column:24/26;transform:translate(0)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open "][_ngcontent-%COMP%]{grid-row:8/9}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open "][vowels*=" front"][_ngcontent-%COMP%]{grid-column:4/6;transform:translate(500%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open "][vowels*=" near-front"][_ngcontent-%COMP%]{grid-column:9/11;transform:translate(375%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open "][vowels*=" central"][_ngcontent-%COMP%]{grid-column:14/16;transform:translate(250%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open "][vowels*=" near-back"][_ngcontent-%COMP%]{grid-column:19/21;transform:translate(125%)}.chart[_ngcontent-%COMP%]   .vowels[vowels^="Open "][vowels*=" back"][_ngcontent-%COMP%]{grid-column:24/26;transform:translate(0)}.chart[_ngcontent-%COMP%]   .diagonals[_ngcontent-%COMP%]{grid-row:2/9;grid-column:5/25;z-index:-1}.chart[_ngcontent-%COMP%]   .diagonals[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:50%;height:100%;z-index:-1}.chart[_ngcontent-%COMP%]   .diagonals[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='none'><line x1='0' y1='0' x2='100' y2='100' style='stroke:black' /></svg>");background-repeat:no-repeat;background-position:center center;background-size:cover}.chart[_ngcontent-%COMP%]   .diagonals[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){transform:scaleY(.8571428571)}.chart[_ngcontent-%COMP%]   .diagonals[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2) > [_ngcontent-%COMP%]:nth-child(1){width:50%;transform:scaleY(.8571428571)}.chart[_ngcontent-%COMP%]   [class^=horizontal][_ngcontent-%COMP%]{width:100%;height:100%;transform-origin:right;transform:translateY(50%);z-index:-1;grid-column:5/25;border-top:2px solid black}.chart[_ngcontent-%COMP%]   [class^=horizontal][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}.chart[_ngcontent-%COMP%]   .horizontal_1[_ngcontent-%COMP%]{grid-row:2/3;scale:1 1}.chart[_ngcontent-%COMP%]   .horizontal_2[_ngcontent-%COMP%]{grid-row:4/5;scale:.8333333333 1}.chart[_ngcontent-%COMP%]   .horizontal_3[_ngcontent-%COMP%]{grid-row:6/7;scale:.6666666667 1}.chart[_ngcontent-%COMP%]   .horizontal_4[_ngcontent-%COMP%]{grid-row:8/9;scale:.5 1}.chart[_ngcontent-%COMP%]   .vertical[_ngcontent-%COMP%]{width:100%;height:100%;z-index:-1;scale:1 .8571428571}.chart[_ngcontent-%COMP%]   .vertical[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}.chart[_ngcontent-%COMP%]   .vertical[_ngcontent-%COMP%]{grid-row:2/9;grid-column:24/25;border-right:2px solid black}`]})};var _I=[{symbol:"i",examples:[{word:"viel",transcription:"[fi\u02D0l]"},{word:"Igel",transcription:"[\u02C8i\u02D0\u0261l\u0329]"},{word:"Bibel",transcription:"[\u02C8bi\u02D0bl\u0329]"},{word:"wir",transcription:"[vi\u02D0\u0250\u032F]"},{word:"Sie",transcription:"[zi\u02D0]"}]},{symbol:"y",examples:[{word:"f\xFChlen",transcription:"[\u02C8fy\u02D0l\u0259n]"},{word:"Lyrik",transcription:"[\u02C8ly\u02D0\u0281\u026Ak]"},{word:"T\xFCr",transcription:"[ty\u02D0\u0250\u032F]"},{word:"\xFCber",transcription:"[\u02C8y\u02D0b\u0250]"},{word:"s\xFC\xDF",transcription:"[zy\u02D0s]"}]},{symbol:"u",examples:[{word:"gut",transcription:"[\u0261u\u02D0t]"},{word:"Hut",transcription:"[hu\u02D0t]"},{word:"Musik",transcription:"[mu\u02C8zi\u02D0k]"},{word:"Blume",transcription:"[\u02C8blu\u02D0m\u0259]"},{word:"Schuh",transcription:"[\u0283u\u02D0]"}]},{symbol:"\u026A",examples:[{word:"Fisch",transcription:"[f\u026A\u0283]"},{word:"mit",transcription:"[m\u026At]"},{word:"Kinder",transcription:"[\u02C8k\u026And\u0250]"},{word:"sind",transcription:"[z\u026Ant]"},{word:"immer",transcription:"[\u02C8\u026Am\u0250]"}]},{symbol:"\u028F",examples:[{word:"m\xFCssen",transcription:"[\u02C8m\u028Fs\u0259n]"},{word:"f\xFClle",transcription:"[\u02C8f\u028Fl\u0259]"},{word:"Rhythmus",transcription:"[\u02C8\u0281\u028Ftm\u028As]"},{word:"H\xFCtte",transcription:"[\u02C8h\u028Ft\u0259]"},{word:"Gl\xFCck",transcription:"[\u0261l\u028Fk]"}]},{symbol:"\u028A",examples:[{word:"unter",transcription:"[\u02C8\u028Ant\u0250]"},{word:"Mutter",transcription:"[\u02C8m\u028At\u0250]"},{word:"rund",transcription:"[\u0281\u028Ant]"},{word:"Bund",transcription:"[b\u028Ant]"},{word:"Kuss",transcription:"[k\u028As]"}]},{symbol:"e",examples:[{word:"geben",transcription:"[\u02C8\u0261e\u02D0b\u0259n]"},{word:"ewig",transcription:"[\u02C8e\u02D0v\u026A\xE7]"},{word:"See",transcription:"[ze\u02D0]"},{word:"Heimat",transcription:"[\u02C8ha\u026Ama\u02D0t]"},{word:"Beere",transcription:"[\u02C8be\u02D0\u0281\u0259]"}]},{symbol:"\xF8",examples:[{word:"h\xF6ren",transcription:"[\u02C8h\xF8\u02D0\u0281\u0259n]"},{word:"H\xF6hle",transcription:"[\u02C8h\xF8\u02D0l\u0259]"},{word:"sch\xF6n",transcription:"[\u0283\xF8\u02D0n]"},{word:"\xD6l",transcription:"[\xF8\u02D0l]"},{word:"Goethe",transcription:"[\u02C8\u0261\xF8\u02D0t\u0259]"}]},{symbol:"o",examples:[{word:"rot",transcription:"[\u0281o\u02D0t]"},{word:"Rose",transcription:"[\u02C8\u0281o\u02D0z\u0259]"},{word:"Opa",transcription:"[\u02C8o\u02D0pa]"},{word:"Boot",transcription:"[bo\u02D0t]"},{word:"Sohn",transcription:"[zo\u02D0n]"}]},{symbol:"\u0259",examples:[{word:"Liebe",transcription:"[\u02C8li\u02D0b\u0259]"},{word:"ohne",transcription:"[\u02C8o\u02D0n\u0259]"},{word:"Freude",transcription:"[\u02C8f\u0281\u0254\u028Fd\u0259]"},{word:"Hilfe",transcription:"[\u02C8h\u026Alf\u0259]"},{word:"Glaube",transcription:"[\u02C8\u0261la\u028Ab\u0259]"}]},{symbol:"\u025B",examples:[{word:"Bett",transcription:"[b\u025Bt]"},{word:"M\xE4nner",transcription:"[\u02C8m\u025Bn\u0250]"},{word:"sp\xE4t",transcription:"[\u0283p\u025B\u02D0t]"},{word:"\xC4rger",transcription:"[\u02C8\u025B\u0281\u0261\u0250]"},{word:"helfen",transcription:"[\u02C8h\u025Blf\u0259n]"}]},{symbol:"\u0153",examples:[{word:"H\xF6lle",transcription:"[\u02C8h\u0153l\u0259]"},{word:"G\xF6ttlich",transcription:"[\u02C8\u0261\u0153tl\u026A\xE7]"},{word:"k\xF6nnen",transcription:"[\u02C8k\u0153n\u0259n]"},{word:"L\xF6ffel",transcription:"[\u02C8l\u0153f\u0259l]"},{word:"zw\xF6lf",transcription:"[tsv\u0153lf]"}]},{symbol:"\u0254",examples:[{word:"dort",transcription:"[d\u0254\u0281t]"},{word:"kommen",transcription:"[\u02C8k\u0254m\u0259n]"},{word:"toll",transcription:"[t\u0254l]"},{word:"voll",transcription:"[f\u0254l]"},{word:"Sonne",transcription:"[\u02C8z\u0254n\u0259]"}]},{symbol:"\u0250",examples:[{word:"Vater",transcription:"[\u02C8fa\u02D0t\u0250]"},{word:"Wasser",transcription:"[\u02C8vas\u0250]"},{word:"Berta",transcription:"[\u02C8b\u025B\u0281t\u0250]"},{word:"Nordpol",transcription:"[\u02C8n\u0254\u0281tpo\u02D0l]"},{word:"Opa",transcription:"[\u02C8o\u02D0p\u0250]"}]},{symbol:"a",examples:[{word:"Wasser",transcription:"[\u02C8vas\u0250]"},{word:"Katze",transcription:"[\u02C8kats\u0259]"},{word:"Hand",transcription:"[hant]"},{word:"Mann",transcription:"[man]"},{word:"das",transcription:"[das]"}]},{symbol:"\xE4",examples:[{word:"Vater",transcription:"[\u02C8fa\u02D0t\u0250]"},{word:"Ma\xDF",transcription:"[ma\u02D0s]"},{word:"Abend",transcription:"[\u02C8a\u02D0b\u0259nt]"},{word:"Tag",transcription:"[ta\u02D0k]"},{word:"Bahn",transcription:"[ba\u02D0n]"}]}];var yI=[{symbol:"i",examples:[{word:"bead",transcription:"[bi\u02D0d]"},{word:"see",transcription:"[si\u02D0]"},{word:"feet",transcription:"[fi\u02D0t\u031A]"},{word:"chief",transcription:"[t\u0283i\u02D0f]"},{word:"happy",transcription:"[\u02C8h\xE6pi]"}]},{symbol:"\u026A",examples:[{word:"bit",transcription:"[b\u026At\u031A]"},{word:"in",transcription:"[\u026An]"},{word:"silly",transcription:"[\u02C8s\u026Ali]"},{word:"fill",transcription:"[f\u026A\u026B]"},{word:"gym",transcription:"[d\u0292\u026Am]"}]},{symbol:"\u0268",examples:[{word:"roses",transcription:"[\u02C8\u0279o\u028Az\u0268z]"},{word:"wanted",transcription:"[\u02C8w\u0251nt\u0268d]"},{word:"music",transcription:"[\u02C8mju\u02D0z\u0268k]"},{word:"believe",transcription:"[b\u0268\u02C8\u026Bi\u02D0v]"},{word:"rabbit",transcription:"[\u02C8\u0279\xE6b\u0268t]"}]},{symbol:"\u0289",examples:[{word:"two",transcription:"[t\u02B0\u0289\u02D0]"},{word:"dude",transcription:"[d\u0289\u02D0d]"},{word:"news",transcription:"[n\u0289\u02D0z]"},{word:"soon",transcription:"[s\u0289\u02D0n]"},{word:"suit",transcription:"[s\u0289\u02D0t\u031A]"}]},{symbol:"\u028A",examples:[{word:"put",transcription:"[p\u02B0\u028At\u031A]"},{word:"foot",transcription:"[f\u028At\u031A]"},{word:"good",transcription:"[\u0261\u028Ad]"},{word:"look",transcription:"[\u026B\u028Ak\u031A]"},{word:"could",transcription:"[k\u02B0\u028Ad]"}]},{symbol:"u",examples:[{word:"goose",transcription:"[\u0261u\u02D0s]"},{word:"who",transcription:"[hu\u02D0]"},{word:"blue",transcription:"[b\u026Bu\u02D0]"},{word:"food",transcription:"[fu\u02D0d]"},{word:"group",transcription:"[\u0261\u0279u\u02D0p\u031A]\xA0"}]},{symbol:"e",examples:[{word:"gate",transcription:"[\u0261e\u026At\u031A]"},{word:"day",transcription:"[de\u026A]"},{word:"paid",transcription:"[p\u02B0e\u026Ad]"},{word:"take",transcription:"[t\u02B0e\u026Ak\u031A]"},{word:"face",transcription:"[fe\u026As]"}]},{symbol:"\u0259",examples:[{word:"about",transcription:"[\u0259\u02C8ba\u028At\u031A]"},{word:"sofa",transcription:"[\u02C8so\u028Af\u0259]"},{word:"pencil",transcription:"[\u02C8p\u02B0\u025Bns\u0259\u026B]"},{word:"supply",transcription:"[s\u0259\u02C8p\u02B0\u026Ba\u026A]"},{word:"taken",transcription:"[\u02C8t\u02B0e\u026Ak\u0259n]"}]},{symbol:"o",examples:[{word:"go",transcription:"[\u0261o\u028A]"},{word:"boat",transcription:"[bo\u028At\u031A]"},{word:"show",transcription:"[\u0283o\u028A]"},{word:"cold",transcription:"[k\u02B0o\u028A\u026Bd]"},{word:"home",transcription:"[ho\u028Am]"}]},{symbol:"\u025B",examples:[{word:"bed",transcription:"[b\u025Bd]"},{word:"set",transcription:"[s\u025Bt\u031A]"},{word:"men",transcription:"[m\u025Bn]"},{word:"head",transcription:"[h\u025Bd]"},{word:"next",transcription:"[n\u025Bkst\u031A]"}]},{symbol:"\u025C",examples:[{word:"bird",transcription:"[b\u025Dd]"},{word:"learn",transcription:"[\u026B\u025Dn]"},{word:"work",transcription:"[w\u025Dk\u031A]"},{word:"turn",transcription:"[t\u02B0\u025Dn]"},{word:"her",transcription:"[h\u025D]"}]},{symbol:"\u028C",examples:[{word:"cut",transcription:"[k\u02B0\u028Ct\u031A]"},{word:"mud",transcription:"[m\u028Cd]"},{word:"love",transcription:"[\u026B\u028Cv]"},{word:"up",transcription:"[\u028Cp\u031A]"},{word:"sun",transcription:"[s\u028Cn]"}]},{symbol:"\u0254",examples:[{word:"thought",transcription:"[\u03B8\u0254\u02D0t\u031A]"},{word:"law",transcription:"[\u026B\u0254\u02D0]"},{word:"dog",transcription:"[d\u0254\u02D0\u0261]"},{word:"caught",transcription:"[k\u02B0\u0254\u02D0t\u031A]"},{word:"wall",transcription:"[w\u0254\u02D0\u026B]\xA0"}]},{symbol:"\xE6",examples:[{word:"cat",transcription:"[k\u02B0\xE6t\u031A]"},{word:"bad",transcription:"[b\xE6\u02D0d]"},{word:"laugh",transcription:"[\u026B\xE6f]"},{word:"apple",transcription:"[\u02C8\xE6p\u0259\u026B]"},{word:"map",transcription:"[m\xE6p\u031A]"}]},{symbol:"a",examples:[{word:"sky",transcription:"[ska\u026A]"},{word:"now",transcription:"[na\u028A]"},{word:"time",transcription:"[t\u02B0a\u026Am]"},{word:"out",transcription:"[a\u028At\u031A]"},{word:"ride",transcription:"[\u0279a\u026Ad]"}]},{symbol:"\u0251",examples:[{word:"father",transcription:"[\u02C8f\u0251\xF0\u025A]"},{word:"palm",transcription:"[p\u02B0\u0251m]"},{word:"lot",transcription:"[\u026B\u0251t\u031A]"},{word:"hot",transcription:"[h\u0251t\u031A]"},{word:"stop",transcription:"[st\u0251p\u031A]\xA0"}]}];var kI=[{symbol:"i",examples:[{word:"venerd\xEC",transcription:"[vener\u02C8di]"},{word:"amici",transcription:"[a\u02C8mit\u0283i]"},{word:"figlio",transcription:"[\u02C8fi\u028E\u02D0o]"},{word:"isola",transcription:"[\u02C8izola]"},{word:"s\xEC",transcription:"[\u02C8si]"}]},{symbol:"e",examples:[{word:"perch\xE9",transcription:"[per\u02C8ke]"},{word:"sera",transcription:"[\u02C8se\u02D0ra]"},{word:"menta",transcription:"[\u02C8menta]"},{word:"rete",transcription:"[\u02C8re\u02D0te]"},{word:"vela",transcription:"[\u02C8ve\u02D0la]"}]},{symbol:"\u025B",examples:[{word:"bene",transcription:"[\u02C8b\u025B\u02D0ne]"},{word:"letto",transcription:"[\u02C8l\u025Bt\u02D0o]"},{word:"testa",transcription:"[\u02C8t\u025Bsta]"},{word:"cielo",transcription:"[\u02C8t\u0283\u025B\u02D0lo]"},{word:"cio\xE8",transcription:"[t\u0283o\u02C8\u025B]"}]},{symbol:"a",examples:[{word:"amare",transcription:"[a\u02C8ma\u02D0re]"},{word:"casa",transcription:"[\u02C8ka\u02D0za]"},{word:"palla",transcription:"[\u02C8pal\u02D0a]"},{word:"sar\xE0",transcription:"[sa\u02C8ra]"},{word:"ascoltare",transcription:"[askol\u02C8ta\u02D0re]"}]},{symbol:"\u0254",examples:[{word:"cosa",transcription:"[\u02C8k\u0254\u02D0za]"},{word:"storia",transcription:"[\u02C8st\u0254\u02D0rja]"},{word:"otto",transcription:"[\u02C8\u0254t\u02D0o]"},{word:"per\xF2",transcription:"[pe\u02C8r\u0254]"},{word:"notte",transcription:"[\u02C8n\u0254t\u02D0e]"}]},{symbol:"o",examples:[{word:"ombra",transcription:"[\u02C8ombra]"},{word:"sono",transcription:"[\u02C8so\u02D0no]"},{word:"sopra",transcription:"[\u02C8so\u02D0pra]"},{word:"forno",transcription:"[\u02C8forno]"},{word:"sconto",transcription:"[\u02C8skonto]"}]},{symbol:"u",examples:[{word:"muro",transcription:"[\u02C8mu\u02D0ro]"},{word:"rag\xF9",transcription:"[ra\u02C8\u0261u]"},{word:"punto",transcription:"[\u02C8punto]"},{word:"unico",transcription:"[\u02C8u\u02D0niko]"},{word:"scusa",transcription:"[\u02C8sku\u02D0za]"}]}];var bI=[{symbol:"i",examples:[{word:"bife",transcription:"[\u02C8bifi]"},{word:"cidade",transcription:"[si\u02C8dad\u0292i]"},{word:"filho",transcription:"[\u02C8fi\u028Eu]"},{word:"ali",transcription:"[a\u02C8li]"},{word:"rir",transcription:"[\u02C8xi\u03C7]"}]},{symbol:"u",examples:[{word:"suco",transcription:"[\u02C8suku]"},{word:"tudo",transcription:"[\u02C8tudu]"},{word:"caju",transcription:"[ka\u02C8\u0292u]"},{word:"uva",transcription:"[\u02C8uv\u0250]"},{word:"rua",transcription:"[\u02C8xu\u0250]"}]},{symbol:"\u026A",examples:[{word:"que",transcription:"[k\u026A]"},{word:"de",transcription:"[d\u0292\u026A]"},{word:"se",transcription:"[s\u026A]"},{word:"peixe",transcription:"[\u02C8pej\u0283\u026A]"},{word:"leite",transcription:"[\u02C8lejt\u0283\u026A]"}]},{symbol:"\u028A",examples:[{word:"do",transcription:"[d\u028A]"},{word:"no",transcription:"[n\u028A]"},{word:"menino",transcription:"[me\u02C8nin\u028A]"},{word:"mato",transcription:"[\u02C8mat\u028A]"},{word:"livro",transcription:"[\u02C8liv\u027E\u028A]"}]},{symbol:"e",examples:[{word:"dedo",transcription:"[\u02C8dedu]"},{word:"gelo",transcription:"[\u02C8\u0292elu]"},{word:"mesa",transcription:"[\u02C8mez\u0250]"},{word:"escreve",transcription:"[es\u02C8k\u027Eevi]"},{word:"voc\xEA",transcription:"[vo\u02C8se]"}]},{symbol:"o",examples:[{word:"ovo",transcription:"[\u02C8ovu]"},{word:"fogo",transcription:"[\u02C8fogu]"},{word:"av\xF4",transcription:"[a\u02C8vo]"},{word:"soco",transcription:"[\u02C8soku]"},{word:"lobo",transcription:"[\u02C8lobu]"}]},{symbol:"\u025B",examples:[{word:"caf\xE9",transcription:"[ka\u02C8f\u025B]"},{word:"pela",transcription:"[\u02C8p\u025Bl\u0250]"},{word:"terra",transcription:"[\u02C8t\u025B\u03C7\u0250]"},{word:"janela",transcription:"[\u0292a\u02C8n\u025Bl\u0250]"},{word:"mela",transcription:"[\u02C8m\u025Bl\u0250]"}]},{symbol:"\u0254",examples:[{word:"vov\xF3",transcription:"[vo\u02C8v\u0254]"},{word:"p\xF3",transcription:"[\u02C8p\u0254]"},{word:"bola",transcription:"[\u02C8b\u0254l\u0250]"},{word:"copa",transcription:"[\u02C8k\u0254p\u0250]"},{word:"soco (verb)",transcription:"[\u02C8s\u0254ku]"}]},{symbol:"\u0250",examples:[{word:"casa",transcription:"[\u02C8kaz\u0250]"},{word:"mala",transcription:"[\u02C8mal\u0250]"},{word:"cama",transcription:"[\u02C8k\u0250\u0303m\u0250]"},{word:"banana",transcription:"[ba\u02C8n\u0250\u0303n\u0250]"},{word:"fala",transcription:"[\u02C8fal\u0250]"}]},{symbol:"a",examples:[{word:"mar",transcription:"[\u02C8ma\u03C7]"},{word:"saco",transcription:"[\u02C8saku]"},{word:"sof\xE1",transcription:"[so\u02C8fa]"},{word:"pato",transcription:"[\u02C8patu]"},{word:"l\xE1",transcription:"[\u02C8la]"}]}];var xI={"pt-br":bI,"de-de":_I,"en-us":yI,"it-it":kI};function VL(n,e){if(n&1){let t=Wt();B(0,"button",4),ut("click",function(){gt(t);let i=Z();return ft(i.onNewSession())}),Q(1," New Session "),V()}}function FL(n,e){if(n&1){let t=Wt();B(0,"button",2),ut("click",function(){gt(t);let i=Z(2);return ft(i.onNext())}),Q(1," Next "),V()}if(n&2){let t=Z(2);it("disabled",t.isNextDisabled$())}}function LL(n,e){if(n&1){let t=Wt();B(0,"button",7),ut("click",function(){gt(t);let i=Z(2);return ft(i.onVerify())}),Q(1," Verify "),V()}if(n&2){let t=Z(2);it("disabled",t.isVerifyDisabled$())}}function jL(n,e){if(n&1&&Ot(0,FL,2,1,"button",5)(1,LL,2,1,"button",6),n&2){let t=Z();Bt(t.isAnswered$()?0:1)}}var Hr=class{index$=Zt.required({alias:"index"});selectedAnswer$=Zt.required({alias:"selectedAnswer"});answered$=Zt.required({alias:"answered"});finished$=Zt.required({alias:"finished"});questionsLength$=Zt.required({alias:"questionsLength"});previous$=dr({alias:"previous"});verify$=dr({alias:"verify"});next$=dr({alias:"next"});newSession$=dr({alias:"newSession"});isFirstQuestion$=Yt(()=>this.index$()===0);isFinished$=Yt(()=>this.finished$());isAnswered$=Yt(()=>this.answered$());hasSelectedAnswer$=Yt(()=>this.selectedAnswer$()!==void 0);isLastQuestion$=Yt(()=>this.index$()===this.questionsLength$()-1);isVerifyDisabled$=Yt(()=>!this.hasSelectedAnswer$()||this.isAnswered$());isNextDisabled$=Yt(()=>!this.isAnswered$()||this.isLastQuestion$());onPrevious(){this.previous$.emit()}onVerify(){this.verify$.emit()}onNext(){this.next$.emit()}onNewSession(){this.newSession$.emit()}};Qe(Hr,"\u0275fac",function(t){return new(t||Hr)}),Qe(Hr,"\u0275cmp",rt({type:Hr,selectors:[["app-quiz-controls"]],inputs:{index$:[1,"index","index$"],selectedAnswer$:[1,"selectedAnswer","selectedAnswer$"],answered$:[1,"answered","answered$"],finished$:[1,"finished","finished$"],questionsLength$:[1,"questionsLength","questionsLength$"]},outputs:{previous$:"previous",verify$:"verify",next$:"next",newSession$:"newSession"},decls:7,vars:2,consts:[[1,"d-flex","gap-4","py-3"],[1,"flex-1"],["color","primary","mat-raised-button","",1,"w-100",3,"click","disabled"],["color","warn","mat-raised-button","",1,"w-100"],["color","warn","mat-raised-button","",1,"w-100",3,"click"],["color","primary","mat-raised-button","",1,"w-100",3,"disabled"],["color","warn","mat-raised-button","",1,"w-100",3,"disabled"],["color","warn","mat-raised-button","",1,"w-100",3,"click","disabled"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"div",1)(2,"button",2),ut("click",function(){return r.onPrevious()}),Q(3," Previous "),V()(),B(4,"div",1),Ot(5,VL,2,0,"button",3)(6,jL,2,1),V()()),t&2&&(j(2),it("disabled",r.isFirstQuestion$()),j(3),Bt(r.isFinished$()?5:6))},dependencies:[gr,So],encapsulation:2})),Hr=ir([kr()],Hr);function zL(n,e){if(n&1&&bt(0,"img",6),n&2){let t=Z();it("alt",t.sound().sourceId)("src",t.sound().logoUrl,zu)("title",t.sound().sourceTitle)}}var Bc=class n{sound=Zt.required();abbreviateAuthor=Zt(!1);next=dr();authorName=Yt(()=>{let e=this.sound();return e.author?this.abbreviateAuthor()?e.author.split(" ").map(t=>t[0]??"").join(""):e.author:""});onNext(e){e.preventDefault(),e.stopPropagation(),this.next.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rt({type:n,selectors:[["app-sound-player"]],inputs:{sound:[1,"sound"],abbreviateAuthor:[1,"abbreviateAuthor"]},outputs:{next:"next"},decls:10,vars:3,consts:[["audio",""],["mat-icon-button","","matRipple","",3,"click"],["name","lucideCirclePlay"],["mat-icon-button","","matRipple","",1,"ms-1",3,"click"],["name","lucideSkipForward"],[1,"ms-2","d-inline-flex","align-items-center","gap-2"],["height","18",3,"alt","src","title"],["preload","auto",3,"src"]],template:function(t,r){if(t&1){let i=Wt();B(0,"button",1),ut("click",function(s){gt(i);let a=ei(9);return s.preventDefault(),s.stopPropagation(),ft(a.play())}),bt(1,"ng-icon",2),V(),B(2,"button",3),ut("click",function(s){return gt(i),ft(r.onNext(s))}),bt(3,"ng-icon",4),V(),B(4,"span",5),Ot(5,zL,1,3,"img",6),B(6,"small"),Q(7),V()(),bt(8,"audio",7,0)}t&2&&(j(5),Bt(r.sound().logoUrl?5:-1),j(2),Ee(r.authorName()),j(),it("src",r.sound().url))},dependencies:[Id,Io,xl],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center}"]})};var HL=(n,e)=>({"border-danger":n,"border-success":e}),UL=(n,e)=>e.key;function $L(n,e){if(n&1){let t=Wt();B(0,"div",5)(1,"app-sound-player",7),ut("next",function(){gt(t),Z(3);let i=Kt(0),o=Z();return ft(o.onNextSound(i))}),V()()}if(n&2){Z(3);let t=Kt(0);j(),it("abbreviateAuthor",!0)("sound",t.sounds[t.soundIndex])}}function qL(n,e){n&1&&(B(0,"span",6),bt(1,"ng-icon",8),V())}function GL(n,e){if(n&1&&Ot(0,$L,2,2,"div",5)(1,qL,2,0,"span",6),n&2){Z(2);let t=Kt(0);Bt(t.sounds!==void 0&&t.soundIndex!==void 0?0:1)}}function WL(n,e){if(n&1&&(B(0,"div",2)(1,"div"),Q(2),V(),Ot(3,GL,2,1),V()),n&2){Z();let t=Kt(0),r=Kt(1),i=Kt(2),o=Z(),s=Kt(2);j(2),zn(" ",t.type===o.questionElement.Letter?t.letter:t.name," "),j(),Bt(s&&r&&!i?3:-1)}}function QL(n,e){if(n&1){let t=Wt();B(0,"app-sound-player",9),ut("next",function(){gt(t),Z();let i=Kt(0),o=Z();return ft(o.onNextSound(i))}),V()}if(n&2){Z();let t=Kt(0);it("sound",t.sounds[t.soundIndex])}}function KL(n,e){n&1&&(B(0,"p",4),Q(1," ERROR: Ops! Something went wrong. "),V())}function YL(n,e){if(n&1&&(cr(0)(1)(2),B(3,"mat-radio-button",1),Ot(4,WL,4,2,"div",2)(5,QL,1,1,"app-sound-player",3)(6,KL,2,0,"p",4),V()),n&2){let t=e.$implicit,r=Z(),i=Kt(0),o=Kt(2),s=Kt(3),a=we(t.value);j();let c=we(i===a.id);j();let d=we(o&&a.id===s);j(),it("disabled",o)("disabledInteractive",!0)("ngClass",sk(8,HL,o&&c&&!d,o&&d))("value",a.id),j(),Bt(a.type===r.questionElement.Letter||a.type===r.questionElement.Name?4:a.type===r.questionElement.Sound&&a.sounds!==void 0&&a.soundIndex!==void 0?5:6)}}var Ur=class{options$=Zt.required({alias:"options"});correctOptionId$=Zt.required({alias:"correctOptionId"});questionElement=Ul;selectedAnswer$=Zt.required({alias:"selectedAnswer"});answered$=Zt.required({alias:"answered"});selectAnswer$=dr({alias:"selectAnswer"});nextSound$=dr({alias:"nextSound"});onSelectAnswer(e){this.selectAnswer$.emit(e)}onNextSound(e){this.nextSound$.emit({vowel:e})}};Qe(Ur,"\u0275fac",function(t){return new(t||Ur)}),Qe(Ur,"\u0275cmp",rt({type:Ur,selectors:[["app-quiz-options"]],inputs:{options$:[1,"options","options$"],correctOptionId$:[1,"correctOptionId","correctOptionId$"],selectedAnswer$:[1,"selectedAnswer","selectedAnswer$"],answered$:[1,"answered","answered$"]},outputs:{selectAnswer$:"selectAnswer",nextSound$:"nextSound"},decls:7,vars:6,consts:[[1,"d-flex","flex-column",3,"change","value"],["color","primary",1,"bg-light","rounded-5","my-1","border",3,"disabled","disabledInteractive","ngClass","value"],[1,"align-items-center","d-flex","justify-content-between"],[3,"sound"],["role","alert",1,"alert","alert-danger"],[1,"d-flex","me-4"],["role","alert",1,"alert","alert-danger","small"],[3,"next","abbreviateAuthor","sound"],["name","lucideAlertTriangle"],[3,"next","sound"]],template:function(t,r){if(t&1){let i=Wt();cr(0),B(1,"mat-radio-group",0),ut("change",function(s){return gt(i),ft(r.onSelectAnswer(s))}),cr(2)(3),gn(4,YL,7,11,"mat-radio-button",1,UL),ni(6,"keyvalue"),V()}if(t&2){let i=we(r.selectedAnswer$());j(),it("value",i),j(),we(r.answered$());let o=r.options$();j(),we(r.correctOptionId$()),j(),fn(ko(6,4,o))}},dependencies:[W1,t4,G1,As,xl,Bc,dd],styles:["[_nghost-%COMP%]     .mat-internal-form-field{width:100%}[_nghost-%COMP%]     .mat-internal-form-field label{width:100%}"]})),Ur=ir([kr()],Ur);function ZL(n,e){if(n&1&&(B(0,"div")(1,"span"),Q(2),V(),Q(3," - "),B(4,"span",3),Q(5),ni(6,"lowercase"),V()()),n&2){Z();let t=Kt(0);j(2),Ee(t.letter),j(3),Ee(ko(6,2,t.symbol.names.join(", ")))}}function XL(n,e){if(n&1&&(B(0,"div"),Q(1),V()),n&2){Z();let t=Kt(0);j(),Ee(t.name)}}function JL(n,e){if(n&1){let t=Wt();B(0,"app-sound-player",4),ut("next",function(){gt(t);let i=Z(),o=Kt(0);return ft(i.onNextSound(o))}),V()}if(n&2){Z();let t=Kt(0);it("sound",t.sounds[t.soundIndex])}}function tj(n,e){n&1&&(B(0,"p",2),Q(1," ERROR: Ops! Something went wrong. "),V())}var $r=class{question$=Zt.required({alias:"question"});index$=Zt.required({alias:"index"});nextSound$=dr({alias:"nextSound"});isLetterQuestion$=Yt(()=>this.question$().type==="letter");isNameQuestion$=Yt(()=>this.question$().type==="name");isSoundQuestion$=Yt(()=>this.question$().type==="sound");onNextSound(e){this.nextSound$.emit(e)}};Qe($r,"\u0275fac",function(t){return new(t||$r)}),Qe($r,"\u0275cmp",rt({type:$r,selectors:[["app-quiz-prompt"]],inputs:{question$:[1,"question","question$"],index$:[1,"index","index$"]},outputs:{nextSound$:"nextSound"},decls:8,vars:3,consts:[[1,"d-flex","align-items-center","gap-1"],[3,"sound"],["role","alert",1,"alert","alert-danger"],[1,"symbol-name"],[3,"next","sound"]],template:function(t,r){if(t&1&&(cr(0),B(1,"div",0)(2,"div"),Q(3),V(),Ot(4,ZL,7,4,"div")(5,XL,2,1,"div")(6,JL,1,1,"app-sound-player",1)(7,tj,2,0,"p",2),V()),t&2){let i=we(r.question$().vowel);j(3),zn("",r.index$()+1,")"),j(),Bt(r.isLetterQuestion$()?4:r.isNameQuestion$()?5:r.isSoundQuestion$()&&i.sounds!==void 0&&i.soundIndex!==void 0?6:7)}},dependencies:[Bc,jg],encapsulation:2})),$r=ir([kr()],$r);function ej(n,e){n&1&&(B(0,"span",11),Q(1,"\u2022"),V())}function nj(n,e){if(n&1&&(B(0,"span"),Ot(1,ej,2,0,"span",11),bt(2,"span",12)(3,"em",13),V()),n&2){let t=e.$implicit,r=e.$index;j(),Bt(r!==0?1:-1),j(),it("textContent",t.word),j(),it("textContent",t.transcription)}}function rj(n,e){n&1&&bt(0,"mat-divider")}function ij(n,e){if(n&1&&(B(0,"div",9),bt(1,"img",10),gn(2,nj,4,3,"span",null,Er),V(),Ot(4,rj,1,0,"mat-divider")),n&2){let t=Z(),r=t.$implicit,i=t.$index,o=t.$count;it("matTooltip",r.title)("matTooltipHideDelay",5e3),j(),it("alt",nk(r.code))("src",rk("flags/",r.cc,".svg"),zu),j(),fn(r.examples),j(2),Bt(i!==o-1?4:-1)}}function oj(n,e){if(n&1&&Ot(0,ij,5,7),n&2){let t=e.$implicit;Bt(((t.examples==null?null:t.examples.length)??0)>0?0:-1)}}function sj(n,e){if(n&1&&(B(0,"div",7),gn(1,oj,1,1,null,null,Er),V(),bt(3,"mat-divider",8)),n&2){Z(2);let t=Kt(3);j(),fn(t)}}function aj(n,e){if(n&1){let t=Wt();B(0,"div")(1,"h1"),Q(2),V(),B(3,"app-quiz-prompt",2),ut("nextSound",function(i){gt(t);let o=Z();return ft(o.nextQuestionSound(i))}),V(),B(4,"app-quiz-options",3),ut("nextSound",function(i){gt(t);let o=Z();return ft(o.nextOptionSound(i.vowel))})("selectAnswer",function(i){gt(t);let o=Z();return ft(o.selectAnswer(i.value))}),V(),B(5,"app-quiz-controls",4),ut("newSession",function(){gt(t);let i=Z();return ft(i.onNewSession())})("next",function(){gt(t);let i=Z();return ft(i.onNext())})("previous",function(){gt(t);let i=Z();return ft(i.onPrevious())})("verify",function(){gt(t);let i=Z();return ft(i.onVerify())}),V()(),B(6,"div",5),Ot(7,sj,4,0),bt(8,"app-chart",6),V()}if(n&2){Z();let t=Kt(0),r=Kt(1),i=Kt(2),o=Kt(3),s=Kt(4),a=Kt(5),c=Kt(6),d=Kt(7);j(2),Ee(t.name),j(),it("index",r)("question",i),j(),it("answered",a)("correctOptionId",i.vowel.id)("options",i.options)("selectedAnswer",s),j(),it("answered",a)("finished",c)("index",r)("questionsLength",d)("selectedAnswer",s),j(2),Bt(a&&o.length>0?7:-1),j(),it("answered",a)("question",i)("selectedAnswer",s)}}function lj(n,e){n&1&&(B(0,"p",1),Q(1," ERROR: Ops! Something went wrong. "),V())}var qr=class{selectedAnswer$=sn(f(qe).selectedAnswer$);finished$=((e=sn(f(qe).finished$))=>Yt(()=>e()??!1))();openedQuiz$=sn(f(qe).openedQuiz$);index$=sn(f(qe).currentQuestionIndex$);question$=sn(f(qe).question$);examplesByLangs$=((e=sn(f(qe).question$.pipe(lt(t=>t?.vowel?.letter))))=>Yt(()=>{let t=e();return Object.entries(xI).map(([r,i])=>{let s=i.find(c=>c.symbol===t)?.examples?.slice().sort(()=>Math.random()-.5),a=r.split("-").pop()||r;return{code:r,cc:a.toLowerCase(),examples:s,title:s?.map(({word:c,transcription:d})=>`${c} ${d}`).join(`
`)}}).filter(({examples:r})=>(r?.length??0)>0)}))();answered$=((e=sn(f(qe).answered$))=>Yt(()=>e()??!1))();questionsLength$=sn(f(qe).questionsLength$);quizService=f(qe);onNext(){this.quizService.next()}onVerify(){this.quizService.answerCurrent()}onNewSession(){this.quizService.goToNewSession()}selectAnswer(e){this.quizService.selectAnswer(e)}onPrevious(){this.quizService.previousQuestion()}nextOptionSound(e){this.quizService.nextOptionSound(e)}nextQuestionSound(e){this.quizService.nextQuestionSound(e)}};Qe(qr,"\u0275fac",function(t){return new(t||qr)}),Qe(qr,"\u0275cmp",rt({type:qr,selectors:[["app-quiz"]],features:[ce([],[bl({lucideCirclePlay:N3,lucideAlertTriangle:P3,lucideSkipForward:V3})])],decls:11,vars:9,consts:[[1,"d-flex","flex-column","justify-content-between","h-100"],["role","alert",1,"alert","alert-danger"],[3,"nextSound","index","question"],[1,"d-block","mt-1","ms-1",3,"nextSound","selectAnswer","answered","correctOptionId","options","selectedAnswer"],[3,"newSession","next","previous","verify","answered","finished","index","questionsLength","selectedAnswer"],[1,"d-flex","flex-column"],[3,"answered","question","selectedAnswer"],[1,"d-flex","flex-column","gap-2","small"],[1,"my-3"],[1,"text-muted","d-flex","flex-wrap","row-gap-1","lh-1","overflow-hidden","lang-examples",3,"matTooltip","matTooltipHideDelay"],[2,"height","1em","vertical-align","middle","margin-right","0.5rem",3,"alt","src"],[1,"mx-2","text-dark"],[3,"textContent"],[1,"ms-1",3,"textContent"]],template:function(t,r){if(t&1&&(cr(0)(1)(2)(3)(4)(5)(6)(7),B(8,"div",0),Ot(9,aj,9,16)(10,lj,2,0,"p",1),V()),t&2){let i=we(r.openedQuiz$());j();let o=we(r.index$());j();let s=we(r.question$());j(),we(r.examplesByLangs$()),j(),we(r.selectedAnswer$()),j(),we(r.answered$()),j(),we(r.finished$()),j();let a=we(r.questionsLength$());j(2),Bt(i!==void 0&&o!==void 0&&s!==void 0&&a!==void 0?9:10)}},dependencies:[$r,Ur,Hr,Q1,ps,_a,fI,gI],styles:[".lang-examples[_ngcontent-%COMP%]{height:1lh}"]})),qr=ir([kr()],qr);function cj(n,e){if(n&1){let t=Wt();jn(0,"li",2),X4("click",function(){let i=gt(t).$implicit,o=Z();return ft(o.selectQuiz(i))}),jn(1,"h2"),Q(2),lr(),jn(3,"p"),Q(4),lr()()}if(n&2){let t=e.$implicit;j(2),Ee(t.name),j(2),Ee(t.description)}}var Gr=class{_quizzes$=sn(f(qe).quizzes$);get quizzes$(){return this._quizzes$}quizService=f(qe);selectQuiz(e){this.quizService.openQuiz(e.id)}};Qe(Gr,"\u0275fac",function(t){return new(t||Gr)}),Qe(Gr,"\u0275cmp",rt({type:Gr,selectors:[["app-quizzes-home"]],decls:8,vars:0,consts:[[1,"quizzes-home-container"],[1,"quizzes-list"],[3,"click"]],template:function(t,r){t&1&&(jn(0,"div",0)(1,"header")(2,"h1"),Q(3,"Available Quizzes"),lr()(),jn(4,"section",1)(5,"ul"),gn(6,cj,5,2,"li",null,Er),lr()()()),t&2&&(j(6),fn(r.quizzes$()))},styles:[".quizzes-home-container[_ngcontent-%COMP%]{margin:0 auto;max-width:800px;padding:20px;text-align:center}header[_ngcontent-%COMP%]{margin-bottom:20px}.quizzes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.quizzes-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;cursor:pointer;margin-bottom:20px;padding:10px}.quizzes-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.user-statistics[_ngcontent-%COMP%]{margin-top:20px}.user-statistics[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}"]})),Gr=ir([kr()],Gr);var MI=[{pathMatch:"full",path:"",component:Gr},{path:"login",component:B1},{path:"quiz/:id",component:qr},{path:"quiz-home/:id",component:zr}];var K1=class extends vl{shouldReuseRoute(){return!1}};function CI(){}function EI(){return lt(e=>e.payload.routerState.path)}var Y1=class n{actions$=f(Ex);router=f(qn);quizService=f(qe);phonemeSoundsService=f(us);cloudSyncService=f(Dc);firebaseAuth=f(Rc);loadState$=Po(()=>this.actions$.pipe(Ni(e0),ke(()=>{try{this.firebaseAuth.init()}catch{}})),{dispatch:!1});createQuizSession$=Po(()=>this.actions$.pipe(Ni(zt.createQuizSession),rn(({quiz:e})=>nw(this.phonemeSoundsService).then(t=>({questions:t,quizId:e.id}))),rn(({questions:e,quizId:t})=>{let r=new Date;return[zt.addSession({session:{creationDate:r.toISOString(),currentQuestionIndex:0,id:`session-${r.getTime()}`,questions:Object.fromEntries(e.map(i=>[i.index,i])),quizId:t}}),zt.openSession({quizId:t,sessionId:"session-"+r.getTime()})]})));goToNewSession$=Po(()=>this.actions$.pipe(Ni(zt.goToNewSession),Ci(this.quizService.openedQuiz$.pipe(Ut(e=>e!==void 0))),rn(([,e])=>nw(this.phonemeSoundsService).then(t=>({questions:t,quizId:e.id}))),rn(({questions:e,quizId:t})=>{let r=new Date;return[zt.addSession({session:{creationDate:r.toISOString(),currentQuestionIndex:0,id:`session-${r.getTime()}`,questions:Object.fromEntries(e.map(i=>[i.index,i])),quizId:t}}),zt.openSession({quizId:t,sessionId:"session-"+r.getTime()})]})));cloudSync$=Po(()=>this.actions$.pipe(Ni(e0),Lu(()=>this.quizService.state$.pipe(Ut(e=>e!==void 0),Jr(3e3),rn(e=>this.cloudSyncService.sync(e))))),{dispatch:!1});openQuiz$=Po(()=>this.actions$.pipe(Ni(zt.openQuiz),mo(({quizId:e})=>this.router.navigate(["/quiz-home/"+e]))),{dispatch:!1});practiceOpened$=Po(()=>this.actions$.pipe(Ni(zt.practiceOpened),Ci(this.quizService.session$),Ut(([,e])=>e===void 0),lt(()=>zt.goToNewSession())));goBack$=Po(()=>this.actions$.pipe(Ni(zt.goBack),Ci(this.actions$.pipe(Ni(hI),EI())),mo(()=>this.router.navigate([""]))),{dispatch:!1});static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var dj="\u27F3",hj="\u{1F5CE}",uj=(n,e,t)=>i=>[`%c${dj} %c${n} %c${i} ${new Date().toISOString()}`,"color: #A829C3; font-weight: bold",`color: ${e}; font-weight: bold`,`color: ${t}; font-weight: bold`],pj=(n,e,t)=>r=>(i,o)=>{let s=e(r,i,o);return n.groupCollapsed(...t(o.type)),n.log("%c prev state","color: #9E9E9E; font-weight: bold",i),n.log("%c action","color: #03A9F4; font-weight: bold",o),n.log("%c next state","color: #4CAF50; font-weight: bold",s),n.groupEnd(),s},gj=n=>{let e=pj(n,(t,r,i)=>t(r,i),uj(hj,"#808080","#A829C3"));return t=>(r,i)=>e(t)(r,i)},II=()=>({multi:!0,provide:Cl,useFactory:()=>gj(console)});var Z1=class extends Il{serialize(e){let t=super.serialize(e),r=t.root.firstChild?.routeConfig?.path;return ot(I({},t),{path:r})}};var SI={providers:[dk(),F3(),O4(),Uf(MI,$f()),Ei(CI),z3("ngsw-worker.js",{enabled:!Ir(),registrationStrategy:"registerWhenStable:30000"}),{provide:Wp,useClass:K1},kx({[gm]:Px},{runtimeChecks:{strictActionSerializability:!1,strictActionTypeUniqueness:!0,strictActionWithinNgZone:!1,strictStateSerializability:!1}}),yx(ln),II(),Sx(Y1),Bx({serializer:Z1,stateKey:"router2",routerState:Yd.Full})]};Ir()&&(window.__ANGULAR_DEBUG__=!0);Kg(Kp,SI).catch(n=>console.error(n));
